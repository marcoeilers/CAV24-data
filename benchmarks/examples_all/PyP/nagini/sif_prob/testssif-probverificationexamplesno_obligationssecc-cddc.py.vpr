domain PyType  {
  
  function extends_(sub: PyType, super: PyType): Bool 
  
  function issubtype(sub: PyType, super: PyType): Bool 
  
  function isnotsubtype(sub: PyType, super: PyType): Bool 
  
  function tuple_args(t: PyType): Seq[PyType] 
  
  function typeof(obj: Ref): PyType 
  
  function get_basic(t: PyType): PyType 
  
  function union_type_1(arg_1: PyType): PyType 
  
  function union_type_2(arg_1: PyType, arg_2: PyType): PyType 
  
  function union_type_3(arg_1: PyType, arg_2: PyType, arg_3: PyType): PyType 
  
  function union_type_4(arg_1: PyType, arg_2: PyType, arg_3: PyType, arg_4: PyType): PyType 
  
  unique function object(): PyType 
  
  unique function list_basic(): PyType 
  
  function list(arg0: PyType): PyType 
  
  function list_arg(typ: PyType, index: Int): PyType 
  
  unique function set_basic(): PyType 
  
  function set(arg0: PyType): PyType 
  
  function set_arg(typ: PyType, index: Int): PyType 
  
  unique function dict_basic(): PyType 
  
  function dict(arg0: PyType, arg1: PyType): PyType 
  
  function dict_arg(typ: PyType, index: Int): PyType 
  
  unique function int(): PyType 
  
  unique function float(): PyType 
  
  unique function bool(): PyType 
  
  unique function NoneType(): PyType 
  
  unique function Exception(): PyType 
  
  unique function ConnectionRefusedError(): PyType 
  
  unique function traceback(): PyType 
  
  unique function str(): PyType 
  
  unique function bytes(): PyType 
  
  unique function tuple_basic(): PyType 
  
  function tuple(args: Seq[PyType]): PyType 
  
  function tuple_arg(typ: PyType, index: Int): PyType 
  
  unique function PSeq_basic(): PyType 
  
  function PSeq(arg0: PyType): PyType 
  
  function PSeq_arg(typ: PyType, index: Int): PyType 
  
  unique function PSet_basic(): PyType 
  
  function PSet(arg0: PyType): PyType 
  
  function PSet_arg(typ: PyType, index: Int): PyType 
  
  unique function PMultiset_basic(): PyType 
  
  function PMultiset(arg0: PyType): PyType 
  
  function PMultiset_arg(typ: PyType, index: Int): PyType 
  
  unique function slice(): PyType 
  
  unique function range_0(): PyType 
  
  unique function Iterator_basic(): PyType 
  
  function Iterator(arg0: PyType): PyType 
  
  function Iterator_arg(typ: PyType, index: Int): PyType 
  
  unique function Thread_0(): PyType 
  
  unique function LevelType(): PyType 
  
  unique function type(): PyType 
  
  unique function Place(): PyType 
  
  unique function __prim__Seq_type(): PyType 
  
  unique function Button(): PyType 
  
  unique function ButtonLow(): PyType 
  
  unique function ButtonHigh(): PyType 
  
  unique function ButtonOverlay(): PyType 
  
  unique function Domain(): PyType 
  
  unique function DomainLow(): PyType 
  
  unique function DomainHigh(): PyType 
  
  unique function DomainOverlay(): PyType 
  
  unique function DomainInvalid(): PyType 
  
  unique function EventType(): PyType 
  
  unique function EventTypeMouse(): PyType 
  
  unique function EventTypeNone(): PyType 
  
  unique function EventTypeKeyboard(): PyType 
  
  unique function Event(): PyType 
  
  unique function EventNone(): PyType 
  
  unique function EventMouseDown(): PyType 
  
  unique function RPCOverlay(): PyType 
  
  unique function RPCOverlayLock(): PyType 
  
  unique function HID(): PyType 
  
  unique function HIDLock(): PyType 
  
  unique function Compositor(): PyType 
  
  unique function CompositorLock(): PyType 
  
  unique function CDDC(): PyType 
  
  unique function ADT(): PyType 
  
  unique function Lock_basic(): PyType 
  
  function Lock(arg0: PyType): PyType 
  
  function Lock_arg(typ: PyType, index: Int): PyType 
  
  unique function BaseLock(): PyType 
  
  axiom issubtype_transitivity {
    (forall sub: PyType, middle: PyType, super: PyType ::
      { issubtype(sub, middle), issubtype(middle, super) }
      issubtype(sub, middle) && issubtype(middle, super) ==>
      issubtype(sub, super))
  }
  
  axiom issubtype_reflexivity {
    (forall type_: PyType ::
      { issubtype(type_, type_) }
      issubtype(type_, type_))
  }
  
  axiom extends_implies_subtype {
    (forall sub: PyType, sub2: PyType ::
      { extends_(sub, sub2) }
      extends_(sub, sub2) ==> issubtype(sub, sub2))
  }
  
  axiom null_nonetype {
    (forall r: Ref ::
      { typeof(r) }
      issubtype(typeof(r), NoneType()) == (r == null))
  }
  
  axiom issubtype_object {
    (forall type_: PyType ::
      { issubtype(type_, object()) }
      issubtype(type_, object()))
  }
  
  axiom issubtype_exclusion {
    (forall sub: PyType, sub2: PyType, super: PyType ::
      { extends_(sub, super), extends_(sub2, super) }
      extends_(sub, super) && extends_(sub2, super) && sub != sub2 ==>
      isnotsubtype(sub, sub2) && isnotsubtype(sub2, sub))
  }
  
  axiom issubtype_exclusion_2 {
    (forall sub: PyType, super: PyType ::
      { issubtype(sub, super) }
      { issubtype(super, sub) }
      issubtype(sub, super) && sub != super ==> !issubtype(super, sub))
  }
  
  axiom issubtype_exclusion_propagation {
    (forall sub: PyType, middle: PyType, super: PyType ::
      { issubtype(sub, middle), isnotsubtype(middle, super) }
      issubtype(sub, middle) && isnotsubtype(middle, super) ==>
      !issubtype(sub, super))
  }
  
  axiom tuple_arg_def {
    (forall seq: Seq[PyType], i: Int, Z: PyType ::
      { tuple(seq), tuple_arg(Z, i) }
      issubtype(Z, tuple(seq)) ==> issubtype(tuple_arg(Z, i), seq[i]))
  }
  
  axiom tuple_args_def {
    (forall seq: Seq[PyType], Z: PyType ::
      { issubtype(Z, tuple(seq)) }
      issubtype(Z, tuple(seq)) ==> |tuple_args(Z)| == |seq|)
  }
  
  axiom tuple_self_subtype {
    (forall seq1: Seq[PyType], seq2: Seq[PyType] ::seq1 != seq2 &&
      |seq1| == |seq2| &&
      (forall i: Int ::i >= 0 && i < |seq1| ==> issubtype(seq1[i], seq2[i])) ==>
      issubtype(tuple(seq1), tuple(seq2)))
  }
  
  axiom union_subtype_1 {
    (forall arg_1: PyType, X: PyType ::
      { issubtype(X, union_type_1(arg_1)) }
      issubtype(X, union_type_1(arg_1)) == (false || issubtype(X, arg_1)))
  }
  
  axiom union_subtype_2 {
    (forall arg_1: PyType, arg_2: PyType, X: PyType ::
      { issubtype(X, union_type_2(arg_1, arg_2)) }
      issubtype(X, union_type_2(arg_1, arg_2)) ==
      (false || issubtype(X, arg_1) || issubtype(X, arg_2)))
  }
  
  axiom union_subtype_3 {
    (forall arg_1: PyType, arg_2: PyType, arg_3: PyType, X: PyType ::
      { issubtype(X, union_type_3(arg_1, arg_2, arg_3)) }
      issubtype(X, union_type_3(arg_1, arg_2, arg_3)) ==
      (false || issubtype(X, arg_1) || issubtype(X, arg_2) ||
      issubtype(X, arg_3)))
  }
  
  axiom union_subtype_4 {
    (forall arg_1: PyType, arg_2: PyType, arg_3: PyType, arg_4: PyType, X: PyType ::
      { issubtype(X, union_type_4(arg_1, arg_2, arg_3, arg_4)) }
      issubtype(X, union_type_4(arg_1, arg_2, arg_3, arg_4)) ==
      (false || issubtype(X, arg_1) || issubtype(X, arg_2) ||
      issubtype(X, arg_3) ||
      issubtype(X, arg_4)))
  }
  
  axiom subtype_union_1 {
    (forall arg_1: PyType, X: PyType ::
      { issubtype(union_type_1(arg_1), X) }
      issubtype(union_type_1(arg_1), X) == (true && issubtype(arg_1, X)))
  }
  
  axiom subtype_union_2 {
    (forall arg_1: PyType, arg_2: PyType, X: PyType ::
      { issubtype(union_type_2(arg_1, arg_2), X) }
      issubtype(union_type_2(arg_1, arg_2), X) ==
      (true && issubtype(arg_1, X) && issubtype(arg_2, X)))
  }
  
  axiom subtype_union_3 {
    (forall arg_1: PyType, arg_2: PyType, arg_3: PyType, X: PyType ::
      { issubtype(union_type_3(arg_1, arg_2, arg_3), X) }
      issubtype(union_type_3(arg_1, arg_2, arg_3), X) ==
      (true && issubtype(arg_1, X) && issubtype(arg_2, X) &&
      issubtype(arg_3, X)))
  }
  
  axiom subtype_union_4 {
    (forall arg_1: PyType, arg_2: PyType, arg_3: PyType, arg_4: PyType, X: PyType ::
      { issubtype(union_type_4(arg_1, arg_2, arg_3, arg_4), X) }
      issubtype(union_type_4(arg_1, arg_2, arg_3, arg_4), X) ==
      (true && issubtype(arg_1, X) && issubtype(arg_2, X) &&
      issubtype(arg_3, X) &&
      issubtype(arg_4, X)))
  }
  
  axiom subtype_list {
    (forall var0: PyType ::
      { list(var0) }
      extends_(list(var0), object()) &&
      get_basic(list(var0)) == list_basic())
  }
  
  axiom list_args0 {
    (forall Z: PyType, arg0: PyType ::
      { list(arg0), list_arg(Z, 0) }
      issubtype(Z, list(arg0)) ==> list_arg(Z, 0) == arg0)
  }
  
  axiom subtype_set {
    (forall var0: PyType ::
      { set(var0) }
      extends_(set(var0), object()) && get_basic(set(var0)) == set_basic())
  }
  
  axiom set_args0 {
    (forall Z: PyType, arg0: PyType ::
      { set(arg0), set_arg(Z, 0) }
      issubtype(Z, set(arg0)) ==> set_arg(Z, 0) == arg0)
  }
  
  axiom subtype_dict {
    (forall var0: PyType, var1: PyType ::
      { dict(var0, var1) }
      extends_(dict(var0, var1), object()) &&
      get_basic(dict(var0, var1)) == dict_basic())
  }
  
  axiom dict_args0 {
    (forall Z: PyType, arg0: PyType, arg1: PyType ::
      { dict(arg0, arg1), dict_arg(Z, 0) }
      issubtype(Z, dict(arg0, arg1)) ==> dict_arg(Z, 0) == arg0)
  }
  
  axiom dict_args1 {
    (forall Z: PyType, arg0: PyType, arg1: PyType ::
      { dict(arg0, arg1), dict_arg(Z, 1) }
      issubtype(Z, dict(arg0, arg1)) ==> dict_arg(Z, 1) == arg1)
  }
  
  axiom subtype_int {
    extends_(int(), float()) && get_basic(int()) == int()
  }
  
  axiom subtype_float {
    extends_(float(), object()) && get_basic(float()) == float()
  }
  
  axiom subtype_bool {
    extends_(bool(), int()) && get_basic(bool()) == bool()
  }
  
  axiom subtype_NoneType {
    extends_(NoneType(), object()) && get_basic(NoneType()) == NoneType()
  }
  
  axiom subtype_Exception {
    extends_(Exception(), object()) &&
    get_basic(Exception()) == Exception()
  }
  
  axiom subtype_ConnectionRefusedError {
    extends_(ConnectionRefusedError(), Exception()) &&
    get_basic(ConnectionRefusedError()) == ConnectionRefusedError()
  }
  
  axiom subtype_traceback {
    extends_(traceback(), object()) &&
    get_basic(traceback()) == traceback()
  }
  
  axiom subtype_str {
    extends_(str(), object()) && get_basic(str()) == str()
  }
  
  axiom subtype_bytes {
    extends_(bytes(), object()) && get_basic(bytes()) == bytes()
  }
  
  axiom subtype_tuple {
    (forall args: Seq[PyType] ::
      { tuple(args) }
      ((forall e: PyType ::(e in args) ==> e == object()) ==>
      extends_(tuple(args), object())) &&
      get_basic(tuple(args)) == tuple_basic())
  }
  
  axiom subtype_PSeq {
    (forall var0: PyType ::
      { PSeq(var0) }
      extends_(PSeq(var0), object()) &&
      get_basic(PSeq(var0)) == PSeq_basic())
  }
  
  axiom PSeq_args0 {
    (forall Z: PyType, arg0: PyType ::
      { PSeq(arg0), PSeq_arg(Z, 0) }
      issubtype(Z, PSeq(arg0)) ==> PSeq_arg(Z, 0) == arg0)
  }
  
  axiom subtype_PSet {
    (forall var0: PyType ::
      { PSet(var0) }
      extends_(PSet(var0), object()) &&
      get_basic(PSet(var0)) == PSet_basic())
  }
  
  axiom PSet_args0 {
    (forall Z: PyType, arg0: PyType ::
      { PSet(arg0), PSet_arg(Z, 0) }
      issubtype(Z, PSet(arg0)) ==> PSet_arg(Z, 0) == arg0)
  }
  
  axiom subtype_PMultiset {
    (forall var0: PyType ::
      { PMultiset(var0) }
      extends_(PMultiset(var0), object()) &&
      get_basic(PMultiset(var0)) == PMultiset_basic())
  }
  
  axiom PMultiset_args0 {
    (forall Z: PyType, arg0: PyType ::
      { PMultiset(arg0), PMultiset_arg(Z, 0) }
      issubtype(Z, PMultiset(arg0)) ==> PMultiset_arg(Z, 0) == arg0)
  }
  
  axiom subtype_slice {
    extends_(slice(), object()) && get_basic(slice()) == slice()
  }
  
  axiom subtype_range_0 {
    extends_(range_0(), object()) && get_basic(range_0()) == range_0()
  }
  
  axiom subtype_Iterator {
    (forall var0: PyType ::
      { Iterator(var0) }
      extends_(Iterator(var0), object()) &&
      get_basic(Iterator(var0)) == Iterator_basic())
  }
  
  axiom Iterator_args0 {
    (forall Z: PyType, arg0: PyType ::
      { Iterator(arg0), Iterator_arg(Z, 0) }
      issubtype(Z, Iterator(arg0)) ==> Iterator_arg(Z, 0) == arg0)
  }
  
  axiom subtype_Thread_0 {
    extends_(Thread_0(), object()) && get_basic(Thread_0()) == Thread_0()
  }
  
  axiom subtype_LevelType {
    extends_(LevelType(), object()) &&
    get_basic(LevelType()) == LevelType()
  }
  
  axiom subtype_type {
    extends_(type(), object()) && get_basic(type()) == type()
  }
  
  axiom subtype_Place {
    extends_(Place(), object()) && get_basic(Place()) == Place()
  }
  
  axiom subtype___prim__Seq_type {
    extends_(__prim__Seq_type(), object()) &&
    get_basic(__prim__Seq_type()) == __prim__Seq_type()
  }
  
  axiom subtype_Button {
    extends_(Button(), ADT()) && get_basic(Button()) == Button()
  }
  
  axiom subtype_ButtonLow {
    extends_(ButtonLow(), Button()) &&
    get_basic(ButtonLow()) == ButtonLow()
  }
  
  axiom subtype_ButtonHigh {
    extends_(ButtonHigh(), Button()) &&
    get_basic(ButtonHigh()) == ButtonHigh()
  }
  
  axiom subtype_ButtonOverlay {
    extends_(ButtonOverlay(), Button()) &&
    get_basic(ButtonOverlay()) == ButtonOverlay()
  }
  
  axiom subtype_Domain {
    extends_(Domain(), ADT()) && get_basic(Domain()) == Domain()
  }
  
  axiom subtype_DomainLow {
    extends_(DomainLow(), Domain()) &&
    get_basic(DomainLow()) == DomainLow()
  }
  
  axiom subtype_DomainHigh {
    extends_(DomainHigh(), Domain()) &&
    get_basic(DomainHigh()) == DomainHigh()
  }
  
  axiom subtype_DomainOverlay {
    extends_(DomainOverlay(), Domain()) &&
    get_basic(DomainOverlay()) == DomainOverlay()
  }
  
  axiom subtype_DomainInvalid {
    extends_(DomainInvalid(), Domain()) &&
    get_basic(DomainInvalid()) == DomainInvalid()
  }
  
  axiom subtype_EventType {
    extends_(EventType(), ADT()) && get_basic(EventType()) == EventType()
  }
  
  axiom subtype_EventTypeMouse {
    extends_(EventTypeMouse(), EventType()) &&
    get_basic(EventTypeMouse()) == EventTypeMouse()
  }
  
  axiom subtype_EventTypeNone {
    extends_(EventTypeNone(), EventType()) &&
    get_basic(EventTypeNone()) == EventTypeNone()
  }
  
  axiom subtype_EventTypeKeyboard {
    extends_(EventTypeKeyboard(), EventType()) &&
    get_basic(EventTypeKeyboard()) == EventTypeKeyboard()
  }
  
  axiom subtype_Event {
    extends_(Event(), ADT()) && get_basic(Event()) == Event()
  }
  
  axiom subtype_EventNone {
    extends_(EventNone(), Event()) && get_basic(EventNone()) == EventNone()
  }
  
  axiom subtype_EventMouseDown {
    extends_(EventMouseDown(), Event()) &&
    get_basic(EventMouseDown()) == EventMouseDown()
  }
  
  axiom subtype_RPCOverlay {
    extends_(RPCOverlay(), object()) &&
    get_basic(RPCOverlay()) == RPCOverlay()
  }
  
  axiom subtype_RPCOverlayLock {
    extends_(RPCOverlayLock(), Lock(RPCOverlay())) &&
    get_basic(RPCOverlayLock()) == RPCOverlayLock()
  }
  
  axiom subtype_HID {
    extends_(HID(), object()) && get_basic(HID()) == HID()
  }
  
  axiom subtype_HIDLock {
    extends_(HIDLock(), Lock(HID())) && get_basic(HIDLock()) == HIDLock()
  }
  
  axiom subtype_Compositor {
    extends_(Compositor(), object()) &&
    get_basic(Compositor()) == Compositor()
  }
  
  axiom subtype_CompositorLock {
    extends_(CompositorLock(), Lock(Compositor())) &&
    get_basic(CompositorLock()) == CompositorLock()
  }
  
  axiom subtype_CDDC {
    extends_(CDDC(), object()) && get_basic(CDDC()) == CDDC()
  }
  
  axiom subtype_ADT {
    extends_(ADT(), object()) && get_basic(ADT()) == ADT()
  }
  
  axiom subtype_Lock {
    (forall T: PyType ::
      { Lock(T) }
      extends_(Lock(T), BaseLock()) && get_basic(Lock(T)) == Lock_basic())
  }
  
  axiom Lock_args0 {
    (forall Z: PyType, arg0: PyType ::
      { Lock(arg0), Lock_arg(Z, 0) }
      issubtype(Z, Lock(arg0)) ==> Lock_arg(Z, 0) == arg0)
  }
  
  axiom subtype_BaseLock {
    extends_(BaseLock(), object()) && get_basic(BaseLock()) == BaseLock()
  }
}

domain Button_0  {
  
  function Button_ButtonLow(): Button_0 
  
  function Button_ButtonHigh(): Button_0 
  
  function Button_ButtonOverlay(): Button_0 
  
  function Button_cons_type(obj: Button_0): Int 
  
  unique function Button_ButtonLow_type(): Int 
  
  unique function Button_ButtonHigh_type(): Int 
  
  unique function Button_ButtonOverlay_type(): Int 
  
  function Button_is_ButtonLow(obj: Button_0): Bool 
  
  function Button_is_ButtonHigh(obj: Button_0): Bool 
  
  function Button_is_ButtonOverlay(obj: Button_0): Bool 
  
  axiom Button_associate_cons_type_function_with_ButtonLow_constant {
    Button_cons_type(Button_ButtonLow()) == Button_ButtonLow_type()
  }
  
  axiom Button_associate_cons_type_function_with_ButtonHigh_constant {
    Button_cons_type(Button_ButtonHigh()) == Button_ButtonHigh_type()
  }
  
  axiom Button_associate_cons_type_function_with_ButtonOverlay_constant {
    Button_cons_type(Button_ButtonOverlay()) == Button_ButtonOverlay_type()
  }
  
  axiom Button_constrain_cons_type_function_cons_constants {
    (forall obj: Button_0 ::
      { Button_cons_type(obj) }
      Button_cons_type(obj) == Button_ButtonLow_type() ||
      (Button_cons_type(obj) == Button_ButtonHigh_type() ||
      Button_cons_type(obj) == Button_ButtonOverlay_type()))
  }
  
  axiom Button_associate_cons_type_function_with_is_ButtonLow_bool_function {
    (forall obj: Button_0 ::
      { Button_cons_type(obj) }
      (Button_cons_type(obj) == Button_ButtonLow_type()) ==
      Button_is_ButtonLow(obj))
  }
  
  axiom Button_associate_cons_type_function_with_is_ButtonHigh_bool_function {
    (forall obj: Button_0 ::
      { Button_cons_type(obj) }
      (Button_cons_type(obj) == Button_ButtonHigh_type()) ==
      Button_is_ButtonHigh(obj))
  }
  
  axiom Button_associate_cons_type_function_with_is_ButtonOverlay_bool_function {
    (forall obj: Button_0 ::
      { Button_cons_type(obj) }
      (Button_cons_type(obj) == Button_ButtonOverlay_type()) ==
      Button_is_ButtonOverlay(obj))
  }
  
  axiom Button_type_of_constructors {
    (forall ref: Ref ::
      { issubtype(typeof(ref), Button()) }
      issubtype(typeof(ref), Button()) ==>
      typeof(ref) == ButtonLow() ||
      (typeof(ref) == ButtonHigh() || typeof(ref) == ButtonOverlay()))
  }
}

domain Domain_0  {
  
  function Domain_DomainLow(): Domain_0 
  
  function Domain_DomainHigh(): Domain_0 
  
  function Domain_DomainOverlay(): Domain_0 
  
  function Domain_DomainInvalid(): Domain_0 
  
  function Domain_cons_type(obj: Domain_0): Int 
  
  unique function Domain_DomainLow_type(): Int 
  
  unique function Domain_DomainHigh_type(): Int 
  
  unique function Domain_DomainOverlay_type(): Int 
  
  unique function Domain_DomainInvalid_type(): Int 
  
  function Domain_is_DomainLow(obj: Domain_0): Bool 
  
  function Domain_is_DomainHigh(obj: Domain_0): Bool 
  
  function Domain_is_DomainOverlay(obj: Domain_0): Bool 
  
  function Domain_is_DomainInvalid(obj: Domain_0): Bool 
  
  axiom Domain_associate_cons_type_function_with_DomainLow_constant {
    Domain_cons_type(Domain_DomainLow()) == Domain_DomainLow_type()
  }
  
  axiom Domain_associate_cons_type_function_with_DomainHigh_constant {
    Domain_cons_type(Domain_DomainHigh()) == Domain_DomainHigh_type()
  }
  
  axiom Domain_associate_cons_type_function_with_DomainOverlay_constant {
    Domain_cons_type(Domain_DomainOverlay()) == Domain_DomainOverlay_type()
  }
  
  axiom Domain_associate_cons_type_function_with_DomainInvalid_constant {
    Domain_cons_type(Domain_DomainInvalid()) == Domain_DomainInvalid_type()
  }
  
  axiom Domain_constrain_cons_type_function_cons_constants {
    (forall obj: Domain_0 ::
      { Domain_cons_type(obj) }
      Domain_cons_type(obj) == Domain_DomainLow_type() ||
      (Domain_cons_type(obj) == Domain_DomainHigh_type() ||
      (Domain_cons_type(obj) == Domain_DomainOverlay_type() ||
      Domain_cons_type(obj) == Domain_DomainInvalid_type())))
  }
  
  axiom Domain_associate_cons_type_function_with_is_DomainLow_bool_function {
    (forall obj: Domain_0 ::
      { Domain_cons_type(obj) }
      (Domain_cons_type(obj) == Domain_DomainLow_type()) ==
      Domain_is_DomainLow(obj))
  }
  
  axiom Domain_associate_cons_type_function_with_is_DomainHigh_bool_function {
    (forall obj: Domain_0 ::
      { Domain_cons_type(obj) }
      (Domain_cons_type(obj) == Domain_DomainHigh_type()) ==
      Domain_is_DomainHigh(obj))
  }
  
  axiom Domain_associate_cons_type_function_with_is_DomainOverlay_bool_function {
    (forall obj: Domain_0 ::
      { Domain_cons_type(obj) }
      (Domain_cons_type(obj) == Domain_DomainOverlay_type()) ==
      Domain_is_DomainOverlay(obj))
  }
  
  axiom Domain_associate_cons_type_function_with_is_DomainInvalid_bool_function {
    (forall obj: Domain_0 ::
      { Domain_cons_type(obj) }
      (Domain_cons_type(obj) == Domain_DomainInvalid_type()) ==
      Domain_is_DomainInvalid(obj))
  }
  
  axiom Domain_type_of_constructors {
    (forall ref: Ref ::
      { issubtype(typeof(ref), Domain()) }
      issubtype(typeof(ref), Domain()) ==>
      typeof(ref) == DomainLow() ||
      (typeof(ref) == DomainHigh() ||
      (typeof(ref) == DomainOverlay() || typeof(ref) == DomainInvalid())))
  }
}

domain EventType_0  {
  
  function EventType_EventTypeMouse(): EventType_0 
  
  function EventType_EventTypeNone(): EventType_0 
  
  function EventType_EventTypeKeyboard(): EventType_0 
  
  function EventType_cons_type(obj: EventType_0): Int 
  
  unique function EventType_EventTypeMouse_type(): Int 
  
  unique function EventType_EventTypeNone_type(): Int 
  
  unique function EventType_EventTypeKeyboard_type(): Int 
  
  function EventType_is_EventTypeMouse(obj: EventType_0): Bool 
  
  function EventType_is_EventTypeNone(obj: EventType_0): Bool 
  
  function EventType_is_EventTypeKeyboard(obj: EventType_0): Bool 
  
  axiom EventType_associate_cons_type_function_with_EventTypeMouse_constant {
    EventType_cons_type(EventType_EventTypeMouse()) ==
    EventType_EventTypeMouse_type()
  }
  
  axiom EventType_associate_cons_type_function_with_EventTypeNone_constant {
    EventType_cons_type(EventType_EventTypeNone()) ==
    EventType_EventTypeNone_type()
  }
  
  axiom EventType_associate_cons_type_function_with_EventTypeKeyboard_constant {
    EventType_cons_type(EventType_EventTypeKeyboard()) ==
    EventType_EventTypeKeyboard_type()
  }
  
  axiom EventType_constrain_cons_type_function_cons_constants {
    (forall obj: EventType_0 ::
      { EventType_cons_type(obj) }
      EventType_cons_type(obj) == EventType_EventTypeMouse_type() ||
      (EventType_cons_type(obj) == EventType_EventTypeNone_type() ||
      EventType_cons_type(obj) == EventType_EventTypeKeyboard_type()))
  }
  
  axiom EventType_associate_cons_type_function_with_is_EventTypeMouse_bool_function {
    (forall obj: EventType_0 ::
      { EventType_cons_type(obj) }
      (EventType_cons_type(obj) == EventType_EventTypeMouse_type()) ==
      EventType_is_EventTypeMouse(obj))
  }
  
  axiom EventType_associate_cons_type_function_with_is_EventTypeNone_bool_function {
    (forall obj: EventType_0 ::
      { EventType_cons_type(obj) }
      (EventType_cons_type(obj) == EventType_EventTypeNone_type()) ==
      EventType_is_EventTypeNone(obj))
  }
  
  axiom EventType_associate_cons_type_function_with_is_EventTypeKeyboard_bool_function {
    (forall obj: EventType_0 ::
      { EventType_cons_type(obj) }
      (EventType_cons_type(obj) == EventType_EventTypeKeyboard_type()) ==
      EventType_is_EventTypeKeyboard(obj))
  }
  
  axiom EventType_type_of_constructors {
    (forall ref: Ref ::
      { issubtype(typeof(ref), EventType()) }
      issubtype(typeof(ref), EventType()) ==>
      typeof(ref) == EventTypeMouse() ||
      (typeof(ref) == EventTypeNone() || typeof(ref) == EventTypeKeyboard()))
  }
}

domain Event_0  {
  
  function Event_EventNone(): Event_0 
  
  function Event_EventMouseDown(): Event_0 
  
  function Event_cons_type(obj: Event_0): Int 
  
  unique function Event_EventNone_type(): Int 
  
  unique function Event_EventMouseDown_type(): Int 
  
  function Event_is_EventNone(obj: Event_0): Bool 
  
  function Event_is_EventMouseDown(obj: Event_0): Bool 
  
  axiom Event_associate_cons_type_function_with_EventNone_constant {
    Event_cons_type(Event_EventNone()) == Event_EventNone_type()
  }
  
  axiom Event_associate_cons_type_function_with_EventMouseDown_constant {
    Event_cons_type(Event_EventMouseDown()) == Event_EventMouseDown_type()
  }
  
  axiom Event_constrain_cons_type_function_cons_constants {
    (forall obj: Event_0 ::
      { Event_cons_type(obj) }
      Event_cons_type(obj) == Event_EventNone_type() ||
      Event_cons_type(obj) == Event_EventMouseDown_type())
  }
  
  axiom Event_associate_cons_type_function_with_is_EventNone_bool_function {
    (forall obj: Event_0 ::
      { Event_cons_type(obj) }
      (Event_cons_type(obj) == Event_EventNone_type()) ==
      Event_is_EventNone(obj))
  }
  
  axiom Event_associate_cons_type_function_with_is_EventMouseDown_bool_function {
    (forall obj: Event_0 ::
      { Event_cons_type(obj) }
      (Event_cons_type(obj) == Event_EventMouseDown_type()) ==
      Event_is_EventMouseDown(obj))
  }
  
  axiom Event_type_of_constructors {
    (forall ref: Ref ::
      { issubtype(typeof(ref), Event()) }
      issubtype(typeof(ref), Event()) ==>
      typeof(ref) == EventNone() || typeof(ref) == EventMouseDown())
  }
}

domain SIFDomain[T]  {
  
  function Low(x: T): Bool 
  
  function LowEvent(): Bool 
}

domain _list_ce_helper  {
  
  function seq_ref_length(___s: Seq[Ref]): Int 
  
  function seq_ref_index(___s: Seq[Ref], i: Int): Ref 
  
  axiom relate_length {
    (forall ___s: Seq[Ref] :: { |___s| } |___s| == seq_ref_length(___s))
  }
  
  axiom relate_index {
    (forall ___s: Seq[Ref], ___i: Int ::
      { ___s[___i] }
      ___s[___i] == seq_ref_index(___s, ___i))
  }
}

domain Measure$  {
  
  function Measure$create(guard: Bool, key: Ref, value: Int): Measure$ 
  
  function Measure$guard(m: Measure$): Bool 
  
  function Measure$key(m: Measure$): Ref 
  
  function Measure$value(m: Measure$): Int 
  
  axiom Measure$A0 {
    (forall g: Bool, k: Ref, v: Int ::
      { Measure$guard(Measure$create(g, k, v)) }
      Measure$guard(Measure$create(g, k, v)) == g)
  }
  
  axiom Measure$A1 {
    (forall g: Bool, k: Ref, v: Int ::
      { Measure$key(Measure$create(g, k, v)) }
      Measure$key(Measure$create(g, k, v)) == k)
  }
  
  axiom Measure$A2 {
    (forall g: Bool, k: Ref, v: Int ::
      { Measure$value(Measure$create(g, k, v)) }
      Measure$value(Measure$create(g, k, v)) == v)
  }
}

domain __MSHelper[T$]  {
  
  function __toMS(s: Seq[T$]): Multiset[T$] 
  
  axiom __toMS_def_1 {
    (__toMS(Seq[T$]()): Multiset[T$]) == Multiset[T$]()
  }
  
  axiom __toMS_def_2 {
    (forall __t: T$ ::
      { (__toMS(Seq(__t)): Multiset[T$]) }
      (__toMS(Seq(__t)): Multiset[T$]) == Multiset(__t))
  }
  
  axiom __toMS_def_3 {
    (forall __ss1: Seq[T$], __ss2: Seq[T$] ::
      { (__toMS(__ss1 ++ __ss2): Multiset[T$]) }
      (__toMS(__ss1 ++ __ss2): Multiset[T$]) ==
      ((__toMS(__ss1): Multiset[T$]) union (__toMS(__ss2): Multiset[T$])))
  }
  
  axiom __toMS_def_4 {
    (forall __ss1: Seq[T$] ::
      { (__toMS(__ss1): Multiset[T$]) }
      |(__toMS(__ss1): Multiset[T$])| == |__ss1|)
  }
}

domain _Name  {
  
  function _combine(n1: _Name, n2: _Name): _Name 
  
  function _single(n: Int): _Name 
  
  function _get_combined_prefix(n: _Name): _Name 
  
  function _get_combined_name(n: _Name): _Name 
  
  function _get_value(n: _Name): Int 
  
  function _name_type(n: _Name): Bool 
  
  function _is_single(n: _Name): Bool 
  
  function _is_combined(n: _Name): Bool 
  
  axiom decompose_single {
    (forall i: Int :: { _single(i) } _get_value(_single(i)) == i)
  }
  
  axiom compose_single {
    (forall n: _Name ::
      { _get_value(n) }
      _is_single(n) ==> n == _single(_get_value(n)))
  }
  
  axiom type_of_single {
    (forall i: Int :: { _single(i) } _name_type(_single(i)))
  }
  
  axiom decompose_combined {
    (forall n1: _Name, n2: _Name ::
      { _combine(n1, n2) }
      _get_combined_prefix(_combine(n1, n2)) == n1 &&
      _get_combined_name(_combine(n1, n2)) == n2)
  }
  
  axiom compose_combined {
    (forall n: _Name ::
      { _get_combined_prefix(n) }
      { _get_combined_name(n) }
      _is_combined(n) ==>
      n == _combine(_get_combined_prefix(n), _get_combined_name(n)))
  }
  
  axiom type_of_composed {
    (forall n1: _Name, n2: _Name ::
      { _combine(n1, n2) }
      !_name_type(_combine(n1, n2)))
  }
  
  axiom type_is_single {
    (forall n: _Name :: { _name_type(n) } _name_type(n) == _is_single(n))
  }
  
  axiom type_is_combined {
    (forall n: _Name ::
      { _name_type(n) }
      !_name_type(n) == _is_combined(n))
  }
}

domain IntWellFoundedOrder  {
  
  axiom integer_ax_dec {
    (forall int1: Int, int2: Int ::
      { (decreasing(int1, int2): Bool) }
      int1 < int2 ==> (decreasing(int1, int2): Bool))
  }
  
  axiom integer_ax_bound {
    (forall int1: Int ::
      { (bounded(int1): Bool) }
      int1 >= 0 ==> (bounded(int1): Bool))
  }
}

domain PredicateInstancesWellFoundedOrder  {
  
  axiom predicate_instances_ax_dec {
    (forall l1: PredicateInstance, l2: PredicateInstance ::
      { nestedPredicates(l1, l2) }
      (decreasing(l1, l2): Bool) == nestedPredicates(l1, l2))
  }
  
  axiom predicate_instances_ax_bound {
    (forall l1: PredicateInstance ::
      { (bounded(l1): Bool) }
      (bounded(l1): Bool))
  }
}

domain WellFoundedOrder[T]  {
  
  function decreasing(arg1: T, arg2: T): Bool 
  
  function bounded(arg1: T): Bool 
}

domain PredicateInstancesNestedRelation  {
  
  function nestedPredicates(l1: PredicateInstance, l2: PredicateInstance): Bool 
  
  axiom nestedTrans {
    (forall l1: PredicateInstance, l2: PredicateInstance, l3: PredicateInstance ::
      { nestedPredicates(l1, l2), nestedPredicates(l2, l3) }
      nestedPredicates(l1, l2) && nestedPredicates(l2, l3) ==>
      nestedPredicates(l1, l3))
  }
  
  axiom nestedReflex {
    (forall l1: PredicateInstance ::!nestedPredicates(l1, l1))
  }
}

domain PredicateInstance  {
  
  
}

field _val: Ref

field _valp: Ref

field __container: Ref

field __containerp: Ref

field __iter_index: Int

field __iter_indexp: Int

field __previous: Seq[Ref]

field __previousp: Seq[Ref]

field list_acc: Seq[Ref]

field list_accp: Seq[Ref]

field set_acc: Set[Ref]

field set_accp: Set[Ref]

field dict_acc: Map[Ref,Ref]

field dict_accp: Map[Ref,Ref]

field Measure$acc: Seq[Ref]

field Measure$accp: Seq[Ref]

field MustReleaseBounded: Int

field MustReleaseBoundedp: Int

field MustReleaseUnbounded: Int

field MustReleaseUnboundedp: Int

field RPCOverlay_mouse_click_call: Ref

field RPCOverlay_mouse_click_callp: Ref

field RPCOverlay_mouse_click_arg: Ref

field RPCOverlay_mouse_click_argp: Ref

field RPCOverlay_mouse_click_ret: Ref

field RPCOverlay_mouse_click_retp: Ref

field HID_mouse_available: Ref

field HID_mouse_availablep: Ref

field HID_mouse_source: Ref

field HID_mouse_sourcep: Ref

field HID_keyboard_available: Ref

field HID_keyboard_availablep: Ref

field HID_high_keyboard_source: Ref

field HID_high_keyboard_sourcep: Ref

field HID_low_keyboard_source: Ref

field HID_low_keyboard_sourcep: Ref

field HID_current_event_type: Ref

field HID_current_event_typep: Ref

field Compositor_domain_under_cursor: Ref

field Compositor_domain_under_cursorp: Ref

field Compositor_cursor_position: Ref

field Compositor_cursor_positionp: Ref

field CDDC_current_event_data: Ref

field CDDC_current_event_datap: Ref

field CDDC_output_event_buffer0: Ref

field CDDC_output_event_buffer0p: Ref

field CDDC_output_event_buffer1: Ref

field CDDC_output_event_buffer1p: Ref

field CDDC_active_domain: Ref

field CDDC_active_domainp: Ref

field CDDC_indicated_domain: Ref

field CDDC_indicated_domainp: Ref

field CDDC_hid: Ref

field CDDC_hidp: Ref

field CDDC_hid_lock: Ref

field CDDC_hid_lockp: Ref

field CDDC_compositor: Ref

field CDDC_compositorp: Ref

field CDDC_compositor_lock: Ref

field CDDC_compositor_lockp: Ref

field CDDC_overlay: Ref

field CDDC_overlayp: Ref

field CDDC_overlay_lock: Ref

field CDDC_overlay_lockp: Ref

field CDDC_switch_state_mouse_down: Ref

field CDDC_switch_state_mouse_downp: Ref

field CDDC_overlay_result: Ref

field CDDC_overlay_resultp: Ref

function _isDefined(id: Int): Bool


function _checkDefined(val: Ref, id: Int): Ref
  requires _isDefined(id)
{
  val
}

function Lock_get_locked(self_9: Ref): Ref
  requires issubtype(typeof(self_9), Lock(Lock_arg(typeof(self_9), 0)))
  requires issubtype(Lock_arg(typeof(self_9), 0), object())
  requires self_9 != null
  ensures issubtype(typeof(result), Lock_arg(typeof(self_9), 0))


function __file__(): Ref


function __name__(): Ref


function __file___0(): Ref


function __name___0(): Ref


function __file___1(): Ref


function __name___1(): Ref


function box_Button_0(obj: Button_0): Ref
  decreases _
  ensures issubtype(typeof(result), Button())
  ensures unbox_Button_0(result) == obj
  ensures Button_is_ButtonLow(obj) ==> typeof(result) == ButtonLow()
  ensures (forall ___other: Button_0 ::
      { box_Button_0(___other) }
      (obj == ___other) == (result == box_Button_0(___other)))
  ensures Button_is_ButtonHigh(obj) ==> typeof(result) == ButtonHigh()
  ensures (forall ___other: Button_0 ::
      { box_Button_0(___other) }
      (obj == ___other) == (result == box_Button_0(___other)))
  ensures Button_is_ButtonOverlay(obj) ==>
    typeof(result) == ButtonOverlay()
  ensures (forall ___other: Button_0 ::
      { box_Button_0(___other) }
      (obj == ___other) == (result == box_Button_0(___other)))


function unbox_Button_0(ref: Ref): Button_0
  decreases _
  requires issubtype(typeof(ref), Button())
  ensures box_Button_0(result) == ref


function box_Domain_0(obj: Domain_0): Ref
  decreases _
  ensures issubtype(typeof(result), Domain())
  ensures unbox_Domain_0(result) == obj
  ensures Domain_is_DomainLow(obj) ==> typeof(result) == DomainLow()
  ensures (forall ___other: Domain_0 ::
      { box_Domain_0(___other) }
      (obj == ___other) == (result == box_Domain_0(___other)))
  ensures Domain_is_DomainHigh(obj) ==> typeof(result) == DomainHigh()
  ensures (forall ___other: Domain_0 ::
      { box_Domain_0(___other) }
      (obj == ___other) == (result == box_Domain_0(___other)))
  ensures Domain_is_DomainOverlay(obj) ==>
    typeof(result) == DomainOverlay()
  ensures (forall ___other: Domain_0 ::
      { box_Domain_0(___other) }
      (obj == ___other) == (result == box_Domain_0(___other)))
  ensures Domain_is_DomainInvalid(obj) ==>
    typeof(result) == DomainInvalid()
  ensures (forall ___other: Domain_0 ::
      { box_Domain_0(___other) }
      (obj == ___other) == (result == box_Domain_0(___other)))


function unbox_Domain_0(ref: Ref): Domain_0
  decreases _
  requires issubtype(typeof(ref), Domain())
  ensures box_Domain_0(result) == ref


function box_EventType_0(obj: EventType_0): Ref
  decreases _
  ensures issubtype(typeof(result), EventType())
  ensures unbox_EventType_0(result) == obj
  ensures EventType_is_EventTypeMouse(obj) ==>
    typeof(result) == EventTypeMouse()
  ensures (forall ___other: EventType_0 ::
      { box_EventType_0(___other) }
      (obj == ___other) == (result == box_EventType_0(___other)))
  ensures EventType_is_EventTypeNone(obj) ==>
    typeof(result) == EventTypeNone()
  ensures (forall ___other: EventType_0 ::
      { box_EventType_0(___other) }
      (obj == ___other) == (result == box_EventType_0(___other)))
  ensures EventType_is_EventTypeKeyboard(obj) ==>
    typeof(result) == EventTypeKeyboard()
  ensures (forall ___other: EventType_0 ::
      { box_EventType_0(___other) }
      (obj == ___other) == (result == box_EventType_0(___other)))


function unbox_EventType_0(ref: Ref): EventType_0
  decreases _
  requires issubtype(typeof(ref), EventType())
  ensures box_EventType_0(result) == ref


function box_Event_0(obj: Event_0): Ref
  decreases _
  ensures issubtype(typeof(result), Event())
  ensures unbox_Event_0(result) == obj
  ensures Event_is_EventNone(obj) ==> typeof(result) == EventNone()
  ensures (forall ___other: Event_0 ::
      { box_Event_0(___other) }
      (obj == ___other) == (result == box_Event_0(___other)))
  ensures Event_is_EventMouseDown(obj) ==>
    typeof(result) == EventMouseDown()
  ensures (forall ___other: Event_0 ::
      { box_Event_0(___other) }
      (obj == ___other) == (result == box_Event_0(___other)))


function unbox_Event_0(ref: Ref): Event_0
  decreases _
  requires issubtype(typeof(ref), Event())
  ensures box_Event_0(result) == ref


function __prim__int___box__(prim: Int): Ref
  decreases _
  ensures typeof(result) == int()
  ensures int___unbox__(result) == prim


function int___unbox__(box: Ref): Int
  decreases _
  requires issubtype(typeof(box), int())
  ensures !issubtype(typeof(box), bool()) ==>
    __prim__int___box__(result) == box
  ensures issubtype(typeof(box), bool()) ==>
    __prim__bool___box__(result != 0) == box


function __prim__bool___box__(prim: Bool): Ref
  decreases _
  ensures typeof(result) == bool()
  ensures bool___unbox__(result) == prim
  ensures int___unbox__(result) == (prim ? 1 : 0)


function bool___unbox__(box: Ref): Bool
  decreases _
  requires issubtype(typeof(box), bool())
  ensures __prim__bool___box__(result) == box


function Level(r: Ref): Perm
  decreases _


function str___len__(self: Ref): Int
  decreases _
  ensures result >= 0


function str___val__(self: Ref): Int
  decreases _


function str___create__(len: Int, value: Int): Ref
  decreases _
  ensures str___len__(result) == len
  ensures str___val__(result) == value
  ensures typeof(result) == str()


function str___eq__(self: Ref, other: Ref): Bool
  decreases _
  requires issubtype(typeof(self), str())
  ensures (str___val__(self) == str___val__(other)) == result
  ensures result ==> str___len__(self) == str___len__(other)


function Lock_invariant_low(self_13: Ref, self_13_0: Ref): Bool
  requires acc(Lock_invariant(self_13), wildcard) &&
    acc(Lock_invariant_0(self_13_0), wildcard)
{
  (unfolding acc(Lock_invariant(self_13), wildcard) in
    (unfolding acc(Lock_invariant_0(self_13_0), wildcard) in
      (issubtype(typeof(self_13), CompositorLock()) &&
      issubtype(typeof(self_13_0), CompositorLock()) ==>
      Lock_get_locked(self_13).Compositor_domain_under_cursor ==
      Lock_get_locked(self_13_0).Compositor_domain_under_cursorp) &&
      (issubtype(typeof(self_13), RPCOverlayLock()) &&
      issubtype(typeof(self_13_0), RPCOverlayLock()) ==>
      Lock_get_locked(self_13).RPCOverlay_mouse_click_call ==
      Lock_get_locked(self_13_0).RPCOverlay_mouse_click_callp &&
      (Lock_get_locked(self_13).RPCOverlay_mouse_click_arg ==
      Lock_get_locked(self_13_0).RPCOverlay_mouse_click_argp &&
      Lock_get_locked(self_13).RPCOverlay_mouse_click_ret ==
      Lock_get_locked(self_13_0).RPCOverlay_mouse_click_retp)) &&
      (issubtype(typeof(self_13), HIDLock()) &&
      issubtype(typeof(self_13_0), HIDLock()) ==>
      Lock_get_locked(self_13).HID_mouse_available ==
      Lock_get_locked(self_13_0).HID_mouse_availablep &&
      (Lock_get_locked(self_13).HID_mouse_source ==
      Lock_get_locked(self_13_0).HID_mouse_sourcep &&
      (Lock_get_locked(self_13).HID_keyboard_available ==
      Lock_get_locked(self_13_0).HID_keyboard_availablep &&
      Lock_get_locked(self_13).HID_low_keyboard_source ==
      Lock_get_locked(self_13_0).HID_low_keyboard_sourcep)))))
}

predicate _MaySet(rec: Ref, id: Int) 

predicate _MaySet_0(rec: Ref, id: Int) 

predicate Lock_invariant(self_13: Ref) {
  issubtype(typeof(self_13), Lock(Lock_arg(typeof(self_13), 0))) &&
  ((issubtype(typeof(self_13), CompositorLock()) ==>
  acc(Lock_get_locked(self_13).Compositor_domain_under_cursor, write) &&
  issubtype(typeof(Lock_get_locked(self_13).Compositor_domain_under_cursor),
  Domain())) &&
  (issubtype(typeof(self_13), RPCOverlayLock()) ==>
  acc(Lock_get_locked(self_13).RPCOverlay_mouse_click_call, write) &&
  issubtype(typeof(Lock_get_locked(self_13).RPCOverlay_mouse_click_call), bool()) &&
  (acc(Lock_get_locked(self_13).RPCOverlay_mouse_click_arg, write) &&
  issubtype(typeof(Lock_get_locked(self_13).RPCOverlay_mouse_click_arg), Button()) &&
  (acc(Lock_get_locked(self_13).RPCOverlay_mouse_click_ret, write) &&
  issubtype(typeof(Lock_get_locked(self_13).RPCOverlay_mouse_click_ret), Domain())))) &&
  (issubtype(typeof(self_13), HIDLock()) ==>
  acc(Lock_get_locked(self_13).HID_mouse_available, write) &&
  issubtype(typeof(Lock_get_locked(self_13).HID_mouse_available), bool()) &&
  (acc(Lock_get_locked(self_13).HID_mouse_source, write) &&
  issubtype(typeof(Lock_get_locked(self_13).HID_mouse_source), Button()) &&
  (acc(Lock_get_locked(self_13).HID_keyboard_available, write) &&
  issubtype(typeof(Lock_get_locked(self_13).HID_keyboard_available), bool()) &&
  (acc(Lock_get_locked(self_13).HID_high_keyboard_source, write) &&
  issubtype(typeof(Lock_get_locked(self_13).HID_high_keyboard_source), Event()) &&
  (acc(Lock_get_locked(self_13).HID_low_keyboard_source, write) &&
  issubtype(typeof(Lock_get_locked(self_13).HID_low_keyboard_source), Event())))))))
}

predicate Lock_invariant_0(self_13: Ref) {
  issubtype(typeof(self_13), Lock(Lock_arg(typeof(self_13), 0))) &&
  ((issubtype(typeof(self_13), CompositorLock()) ==>
  acc(Lock_get_locked(self_13).Compositor_domain_under_cursorp, write) &&
  issubtype(typeof(Lock_get_locked(self_13).Compositor_domain_under_cursorp),
  Domain())) &&
  (issubtype(typeof(self_13), RPCOverlayLock()) ==>
  acc(Lock_get_locked(self_13).RPCOverlay_mouse_click_callp, write) &&
  issubtype(typeof(Lock_get_locked(self_13).RPCOverlay_mouse_click_callp), bool()) &&
  (acc(Lock_get_locked(self_13).RPCOverlay_mouse_click_argp, write) &&
  issubtype(typeof(Lock_get_locked(self_13).RPCOverlay_mouse_click_argp), Button()) &&
  (acc(Lock_get_locked(self_13).RPCOverlay_mouse_click_retp, write) &&
  issubtype(typeof(Lock_get_locked(self_13).RPCOverlay_mouse_click_retp), Domain())))) &&
  (issubtype(typeof(self_13), HIDLock()) ==>
  acc(Lock_get_locked(self_13).HID_mouse_availablep, write) &&
  issubtype(typeof(Lock_get_locked(self_13).HID_mouse_availablep), bool()) &&
  (acc(Lock_get_locked(self_13).HID_mouse_sourcep, write) &&
  issubtype(typeof(Lock_get_locked(self_13).HID_mouse_sourcep), Button()) &&
  (acc(Lock_get_locked(self_13).HID_keyboard_availablep, write) &&
  issubtype(typeof(Lock_get_locked(self_13).HID_keyboard_availablep), bool()) &&
  (acc(Lock_get_locked(self_13).HID_high_keyboard_sourcep, write) &&
  issubtype(typeof(Lock_get_locked(self_13).HID_high_keyboard_sourcep), Event()) &&
  (acc(Lock_get_locked(self_13).HID_low_keyboard_sourcep, write) &&
  issubtype(typeof(Lock_get_locked(self_13).HID_low_keyboard_sourcep), Event())))))))
}

method RPCOverlay___init__(p1: Bool, p2: Bool, self: Ref, self_0: Ref, call: Ref,
  call_1: Ref, button: Ref, button_3: Ref, domain_0: Ref, domain_0_0: Ref)
  requires (p1 ==> self != null) && (p2 ==> self_0 != null)
  requires (p1 ==>
    acc(_MaySet(self, 44602783671933174344808990490772156999224510615327761720934617170), write)) &&
    (p2 ==>
    acc(_MaySet_0(self_0, 44602783671933174344808990490772156999224510615327761720934617170), write))
  requires (p1 ==>
    acc(_MaySet(self, 166232595728960521111654492215077213197211092495095425057116242), write)) &&
    (p2 ==>
    acc(_MaySet_0(self_0, 166232595728960521111654492215077213197211092495095425057116242), write))
  requires (p1 ==>
    acc(_MaySet(self, 187041604820554483365539607623402012250688345090534933407158354), write)) &&
    (p2 ==>
    acc(_MaySet_0(self_0, 187041604820554483365539607623402012250688345090534933407158354), write))
  requires (p1 ==> issubtype(typeof(self), RPCOverlay())) &&
    (p2 ==> issubtype(typeof(self_0), RPCOverlay()))
  requires (p1 ==> issubtype(typeof(call), bool())) &&
    (p2 ==> issubtype(typeof(call_1), bool()))
  requires (p1 ==> issubtype(typeof(button), Button())) &&
    (p2 ==> issubtype(typeof(button_3), Button()))
  requires (p1 ==> issubtype(typeof(domain_0), Domain())) &&
    (p2 ==> issubtype(typeof(domain_0_0), Domain()))
  requires (p1 ==> self != null) && (p2 ==> self_0 != null)
  ensures (p1 ==> acc(self.RPCOverlay_mouse_click_arg, write)) &&
    (p2 ==> acc(self_0.RPCOverlay_mouse_click_argp, write)) &&
    ((p1 ==> issubtype(typeof(self.RPCOverlay_mouse_click_arg), Button())) &&
    (p2 ==> issubtype(typeof(self_0.RPCOverlay_mouse_click_argp), Button()))) &&
    ((p1 ==> self.RPCOverlay_mouse_click_arg == button) &&
    (p2 ==> self_0.RPCOverlay_mouse_click_argp == button_3))
  ensures (p1 ==> acc(self.RPCOverlay_mouse_click_call, write)) &&
    (p2 ==> acc(self_0.RPCOverlay_mouse_click_callp, write)) &&
    ((p1 ==> issubtype(typeof(self.RPCOverlay_mouse_click_call), bool())) &&
    (p2 ==> issubtype(typeof(self_0.RPCOverlay_mouse_click_callp), bool()))) &&
    ((p1 ==> self.RPCOverlay_mouse_click_call == call) &&
    (p2 ==> self_0.RPCOverlay_mouse_click_callp == call_1))
  ensures (p1 ==> acc(self.RPCOverlay_mouse_click_ret, write)) &&
    (p2 ==> acc(self_0.RPCOverlay_mouse_click_retp, write)) &&
    ((p1 ==> issubtype(typeof(self.RPCOverlay_mouse_click_ret), Domain())) &&
    (p2 ==> issubtype(typeof(self_0.RPCOverlay_mouse_click_retp), Domain()))) &&
    ((p1 ==> self.RPCOverlay_mouse_click_ret == domain_0) &&
    (p2 ==> self_0.RPCOverlay_mouse_click_retp == domain_0_0))
{
  inhale p1
  {
    var _err: Ref
    var _err_0: Ref
    var self_14: Ref
    var self_14_0: Ref
    var call_0: Ref
    var call_0_0: Ref
    var button_1: Ref
    var button_1_0: Ref
    var domain_2: Ref
    var domain_2_0: Ref
    if (p1) {
      inhale typeof(self) == RPCOverlay()
      _err := null
      self_14 := self
      call_0 := call
      button_1 := button
      domain_2 := domain_0
    }
    if (p2) {
      inhale typeof(self_0) == RPCOverlay()
      _err_0 := null
      self_14_0 := self_0
      call_0_0 := call_1
      button_1_0 := button_3
      domain_2_0 := domain_0_0
    }
    {
      var p1_0: Bool
      var p2_0: Bool
      var p3: Bool
      var p4: Bool
      p1_0 := p1 &&
        perm(_MaySet(self_14, 44602783671933174344808990490772156999224510615327761720934617170)) >
        none
      p2_0 := p2 &&
        perm(_MaySet_0(self_14_0, 44602783671933174344808990490772156999224510615327761720934617170)) >
        none
      p3 := p1 &&
        !(perm(_MaySet(self_14, 44602783671933174344808990490772156999224510615327761720934617170)) >
        none)
      p4 := p2 &&
        !(perm(_MaySet_0(self_14_0, 44602783671933174344808990490772156999224510615327761720934617170)) >
        none)
      if (p1_0) {
        exhale acc(_MaySet(self_14, 44602783671933174344808990490772156999224510615327761720934617170), write)
        inhale acc(self_14.RPCOverlay_mouse_click_call, write)
      }
      if (p2_0) {
        exhale acc(_MaySet_0(self_14_0, 44602783671933174344808990490772156999224510615327761720934617170), write)
        inhale acc(self_14_0.RPCOverlay_mouse_click_callp, write)
      }
    }
    if (p1) {
      self_14.RPCOverlay_mouse_click_call := call_0
    }
    if (p2) {
      self_14_0.RPCOverlay_mouse_click_callp := call_0_0
    }
    {
      var p1_1: Bool
      var p2_1: Bool
      var p3_0: Bool
      var p4_0: Bool
      p1_1 := p1 &&
        perm(_MaySet(self_14, 166232595728960521111654492215077213197211092495095425057116242)) >
        none
      p2_1 := p2 &&
        perm(_MaySet_0(self_14_0, 166232595728960521111654492215077213197211092495095425057116242)) >
        none
      p3_0 := p1 &&
        !(perm(_MaySet(self_14, 166232595728960521111654492215077213197211092495095425057116242)) >
        none)
      p4_0 := p2 &&
        !(perm(_MaySet_0(self_14_0, 166232595728960521111654492215077213197211092495095425057116242)) >
        none)
      if (p1_1) {
        exhale acc(_MaySet(self_14, 166232595728960521111654492215077213197211092495095425057116242), write)
        inhale acc(self_14.RPCOverlay_mouse_click_arg, write)
      }
      if (p2_1) {
        exhale acc(_MaySet_0(self_14_0, 166232595728960521111654492215077213197211092495095425057116242), write)
        inhale acc(self_14_0.RPCOverlay_mouse_click_argp, write)
      }
    }
    if (p1) {
      self_14.RPCOverlay_mouse_click_arg := button_1
    }
    if (p2) {
      self_14_0.RPCOverlay_mouse_click_argp := button_1_0
    }
    {
      var p1_2: Bool
      var p2_2: Bool
      var p3_1: Bool
      var p4_1: Bool
      p1_2 := p1 &&
        perm(_MaySet(self_14, 187041604820554483365539607623402012250688345090534933407158354)) >
        none
      p2_2 := p2 &&
        perm(_MaySet_0(self_14_0, 187041604820554483365539607623402012250688345090534933407158354)) >
        none
      p3_1 := p1 &&
        !(perm(_MaySet(self_14, 187041604820554483365539607623402012250688345090534933407158354)) >
        none)
      p4_1 := p2 &&
        !(perm(_MaySet_0(self_14_0, 187041604820554483365539607623402012250688345090534933407158354)) >
        none)
      if (p1_2) {
        exhale acc(_MaySet(self_14, 187041604820554483365539607623402012250688345090534933407158354), write)
        inhale acc(self_14.RPCOverlay_mouse_click_ret, write)
      }
      if (p2_2) {
        exhale acc(_MaySet_0(self_14_0, 187041604820554483365539607623402012250688345090534933407158354), write)
        inhale acc(self_14_0.RPCOverlay_mouse_click_retp, write)
      }
    }
    if (p1) {
      self_14.RPCOverlay_mouse_click_ret := domain_2
    }
    if (p2) {
      self_14_0.RPCOverlay_mouse_click_retp := domain_2_0
    }
    exhale true
  }
}

method HID___init__(p1_3: Bool, p2_3: Bool, self_1: Ref, self_1_0: Ref, button_0: Ref,
  button_0_0: Ref, mouse: Ref, mouse_1: Ref, keyboard: Ref, keyboard_1: Ref,
  high_key: Ref, high_key_1: Ref, low_key: Ref, low_key_1: Ref, et: Ref, et_1: Ref)
  requires (p1_3 ==> self_1 != null) && (p2_3 ==> self_1_0 != null)
  requires (p1_3 ==>
    acc(_MaySet(self_1, 2261816869102202322538058161659165441404455240), write)) &&
    (p2_3 ==>
    acc(_MaySet_0(self_1_0, 2261816869102202322538058161659165441404455240), write))
  requires (p1_3 ==>
    acc(_MaySet(self_1, 134768386462153594613546548102875597128), write)) &&
    (p2_3 ==>
    acc(_MaySet_0(self_1_0, 134768386462153594613546548102875597128), write))
  requires (p1_3 ==>
    acc(_MaySet(self_1, 37946990165371374440922669687930353234282043400276296), write)) &&
    (p2_3 ==>
    acc(_MaySet_0(self_1_0, 37946990165371374440922669687930353234282043400276296), write))
  requires (p1_3 ==>
    acc(_MaySet(self_1, 2486037934294130386311302675907263466528791081997929040200), write)) &&
    (p2_3 ==>
    acc(_MaySet_0(self_1_0, 2486037934294130386311302675907263466528791081997929040200), write))
  requires (p1_3 ==>
    acc(_MaySet(self_1, 9711085680836446821528526077762747916132321097530231112), write)) &&
    (p2_3 ==>
    acc(_MaySet_0(self_1_0, 9711085680836446821528526077762747916132321097530231112), write))
  requires (p1_3 ==>
    acc(_MaySet(self_1, 37952967901293886354030931629961100037091928001759560), write)) &&
    (p2_3 ==>
    acc(_MaySet_0(self_1_0, 37952967901293886354030931629961100037091928001759560), write))
  requires (p1_3 ==> issubtype(typeof(self_1), HID())) &&
    (p2_3 ==> issubtype(typeof(self_1_0), HID()))
  requires (p1_3 ==> issubtype(typeof(button_0), Button())) &&
    (p2_3 ==> issubtype(typeof(button_0_0), Button()))
  requires (p1_3 ==> issubtype(typeof(mouse), bool())) &&
    (p2_3 ==> issubtype(typeof(mouse_1), bool()))
  requires (p1_3 ==> issubtype(typeof(keyboard), bool())) &&
    (p2_3 ==> issubtype(typeof(keyboard_1), bool()))
  requires (p1_3 ==> issubtype(typeof(high_key), Event())) &&
    (p2_3 ==> issubtype(typeof(high_key_1), Event()))
  requires (p1_3 ==> issubtype(typeof(low_key), Event())) &&
    (p2_3 ==> issubtype(typeof(low_key_1), Event()))
  requires (p1_3 ==> issubtype(typeof(et), EventType())) &&
    (p2_3 ==> issubtype(typeof(et_1), EventType()))
  requires (p1_3 ==> self_1 != null) && (p2_3 ==> self_1_0 != null)
  ensures (p1_3 ==> acc(self_1.HID_mouse_available, write)) &&
    (p2_3 ==> acc(self_1_0.HID_mouse_availablep, write)) &&
    ((p1_3 ==> issubtype(typeof(self_1.HID_mouse_available), bool())) &&
    (p2_3 ==> issubtype(typeof(self_1_0.HID_mouse_availablep), bool()))) &&
    ((p1_3 ==> self_1.HID_mouse_available == mouse) &&
    (p2_3 ==> self_1_0.HID_mouse_availablep == mouse_1))
  ensures (p1_3 ==> acc(self_1.HID_mouse_source, write)) &&
    (p2_3 ==> acc(self_1_0.HID_mouse_sourcep, write)) &&
    ((p1_3 ==> issubtype(typeof(self_1.HID_mouse_source), Button())) &&
    (p2_3 ==> issubtype(typeof(self_1_0.HID_mouse_sourcep), Button()))) &&
    ((p1_3 ==> self_1.HID_mouse_source == button_0) &&
    (p2_3 ==> self_1_0.HID_mouse_sourcep == button_0_0))
  ensures (p1_3 ==> acc(self_1.HID_keyboard_available, write)) &&
    (p2_3 ==> acc(self_1_0.HID_keyboard_availablep, write)) &&
    ((p1_3 ==> issubtype(typeof(self_1.HID_keyboard_available), bool())) &&
    (p2_3 ==> issubtype(typeof(self_1_0.HID_keyboard_availablep), bool()))) &&
    ((p1_3 ==> self_1.HID_keyboard_available == keyboard) &&
    (p2_3 ==> self_1_0.HID_keyboard_availablep == keyboard_1))
  ensures (p1_3 ==> acc(self_1.HID_high_keyboard_source, write)) &&
    (p2_3 ==> acc(self_1_0.HID_high_keyboard_sourcep, write)) &&
    ((p1_3 ==> issubtype(typeof(self_1.HID_high_keyboard_source), Event())) &&
    (p2_3 ==>
    issubtype(typeof(self_1_0.HID_high_keyboard_sourcep), Event()))) &&
    ((p1_3 ==> self_1.HID_high_keyboard_source == high_key) &&
    (p2_3 ==> self_1_0.HID_high_keyboard_sourcep == high_key_1))
  ensures (p1_3 ==> acc(self_1.HID_low_keyboard_source, write)) &&
    (p2_3 ==> acc(self_1_0.HID_low_keyboard_sourcep, write)) &&
    ((p1_3 ==> issubtype(typeof(self_1.HID_low_keyboard_source), Event())) &&
    (p2_3 ==> issubtype(typeof(self_1_0.HID_low_keyboard_sourcep), Event()))) &&
    ((p1_3 ==> self_1.HID_low_keyboard_source == low_key) &&
    (p2_3 ==> self_1_0.HID_low_keyboard_sourcep == low_key_1))
  ensures (p1_3 ==> acc(self_1.HID_current_event_type, write)) &&
    (p2_3 ==> acc(self_1_0.HID_current_event_typep, write)) &&
    ((p1_3 ==>
    issubtype(typeof(self_1.HID_current_event_type), EventType())) &&
    (p2_3 ==>
    issubtype(typeof(self_1_0.HID_current_event_typep), EventType()))) &&
    ((p1_3 ==> self_1.HID_current_event_type == et) &&
    (p2_3 ==> self_1_0.HID_current_event_typep == et_1))
{
  inhale p1_3
  {
    var _err: Ref
    var _err_1: Ref
    var self_15: Ref
    var self_15_0: Ref
    var button_2: Ref
    var button_2_0: Ref
    var mouse_0: Ref
    var mouse_0_0: Ref
    var keyboard_0: Ref
    var keyboard_0_0: Ref
    var high_key_0: Ref
    var high_key_0_0: Ref
    var low_key_0: Ref
    var low_key_0_0: Ref
    var et_0: Ref
    var et_0_0: Ref
    if (p1_3) {
      inhale typeof(self_1) == HID()
      _err := null
      self_15 := self_1
      button_2 := button_0
      mouse_0 := mouse
      keyboard_0 := keyboard
      high_key_0 := high_key
      low_key_0 := low_key
      et_0 := et
    }
    if (p2_3) {
      inhale typeof(self_1_0) == HID()
      _err_1 := null
      self_15_0 := self_1_0
      button_2_0 := button_0_0
      mouse_0_0 := mouse_1
      keyboard_0_0 := keyboard_1
      high_key_0_0 := high_key_1
      low_key_0_0 := low_key_1
      et_0_0 := et_1
    }
    {
      var p1_4: Bool
      var p2_4: Bool
      var p3_2: Bool
      var p4_2: Bool
      p1_4 := p1_3 &&
        perm(_MaySet(self_15, 2261816869102202322538058161659165441404455240)) >
        none
      p2_4 := p2_3 &&
        perm(_MaySet_0(self_15_0, 2261816869102202322538058161659165441404455240)) >
        none
      p3_2 := p1_3 &&
        !(perm(_MaySet(self_15, 2261816869102202322538058161659165441404455240)) >
        none)
      p4_2 := p2_3 &&
        !(perm(_MaySet_0(self_15_0, 2261816869102202322538058161659165441404455240)) >
        none)
      if (p1_4) {
        exhale acc(_MaySet(self_15, 2261816869102202322538058161659165441404455240), write)
        inhale acc(self_15.HID_mouse_available, write)
      }
      if (p2_4) {
        exhale acc(_MaySet_0(self_15_0, 2261816869102202322538058161659165441404455240), write)
        inhale acc(self_15_0.HID_mouse_availablep, write)
      }
    }
    if (p1_3) {
      self_15.HID_mouse_available := mouse_0
    }
    if (p2_3) {
      self_15_0.HID_mouse_availablep := mouse_0_0
    }
    {
      var p1_5: Bool
      var p2_5: Bool
      var p3_3: Bool
      var p4_3: Bool
      p1_5 := p1_3 &&
        perm(_MaySet(self_15, 134768386462153594613546548102875597128)) >
        none
      p2_5 := p2_3 &&
        perm(_MaySet_0(self_15_0, 134768386462153594613546548102875597128)) >
        none
      p3_3 := p1_3 &&
        !(perm(_MaySet(self_15, 134768386462153594613546548102875597128)) >
        none)
      p4_3 := p2_3 &&
        !(perm(_MaySet_0(self_15_0, 134768386462153594613546548102875597128)) >
        none)
      if (p1_5) {
        exhale acc(_MaySet(self_15, 134768386462153594613546548102875597128), write)
        inhale acc(self_15.HID_mouse_source, write)
      }
      if (p2_5) {
        exhale acc(_MaySet_0(self_15_0, 134768386462153594613546548102875597128), write)
        inhale acc(self_15_0.HID_mouse_sourcep, write)
      }
    }
    if (p1_3) {
      self_15.HID_mouse_source := button_2
    }
    if (p2_3) {
      self_15_0.HID_mouse_sourcep := button_2_0
    }
    {
      var p1_6: Bool
      var p2_6: Bool
      var p3_4: Bool
      var p4_4: Bool
      p1_6 := p1_3 &&
        perm(_MaySet(self_15, 37946990165371374440922669687930353234282043400276296)) >
        none
      p2_6 := p2_3 &&
        perm(_MaySet_0(self_15_0, 37946990165371374440922669687930353234282043400276296)) >
        none
      p3_4 := p1_3 &&
        !(perm(_MaySet(self_15, 37946990165371374440922669687930353234282043400276296)) >
        none)
      p4_4 := p2_3 &&
        !(perm(_MaySet_0(self_15_0, 37946990165371374440922669687930353234282043400276296)) >
        none)
      if (p1_6) {
        exhale acc(_MaySet(self_15, 37946990165371374440922669687930353234282043400276296), write)
        inhale acc(self_15.HID_keyboard_available, write)
      }
      if (p2_6) {
        exhale acc(_MaySet_0(self_15_0, 37946990165371374440922669687930353234282043400276296), write)
        inhale acc(self_15_0.HID_keyboard_availablep, write)
      }
    }
    if (p1_3) {
      self_15.HID_keyboard_available := keyboard_0
    }
    if (p2_3) {
      self_15_0.HID_keyboard_availablep := keyboard_0_0
    }
    {
      var p1_7: Bool
      var p2_7: Bool
      var p3_5: Bool
      var p4_5: Bool
      p1_7 := p1_3 &&
        perm(_MaySet(self_15, 2486037934294130386311302675907263466528791081997929040200)) >
        none
      p2_7 := p2_3 &&
        perm(_MaySet_0(self_15_0, 2486037934294130386311302675907263466528791081997929040200)) >
        none
      p3_5 := p1_3 &&
        !(perm(_MaySet(self_15, 2486037934294130386311302675907263466528791081997929040200)) >
        none)
      p4_5 := p2_3 &&
        !(perm(_MaySet_0(self_15_0, 2486037934294130386311302675907263466528791081997929040200)) >
        none)
      if (p1_7) {
        exhale acc(_MaySet(self_15, 2486037934294130386311302675907263466528791081997929040200), write)
        inhale acc(self_15.HID_high_keyboard_source, write)
      }
      if (p2_7) {
        exhale acc(_MaySet_0(self_15_0, 2486037934294130386311302675907263466528791081997929040200), write)
        inhale acc(self_15_0.HID_high_keyboard_sourcep, write)
      }
    }
    if (p1_3) {
      self_15.HID_high_keyboard_source := high_key_0
    }
    if (p2_3) {
      self_15_0.HID_high_keyboard_sourcep := high_key_0_0
    }
    {
      var p1_8: Bool
      var p2_8: Bool
      var p3_6: Bool
      var p4_6: Bool
      p1_8 := p1_3 &&
        perm(_MaySet(self_15, 9711085680836446821528526077762747916132321097530231112)) >
        none
      p2_8 := p2_3 &&
        perm(_MaySet_0(self_15_0, 9711085680836446821528526077762747916132321097530231112)) >
        none
      p3_6 := p1_3 &&
        !(perm(_MaySet(self_15, 9711085680836446821528526077762747916132321097530231112)) >
        none)
      p4_6 := p2_3 &&
        !(perm(_MaySet_0(self_15_0, 9711085680836446821528526077762747916132321097530231112)) >
        none)
      if (p1_8) {
        exhale acc(_MaySet(self_15, 9711085680836446821528526077762747916132321097530231112), write)
        inhale acc(self_15.HID_low_keyboard_source, write)
      }
      if (p2_8) {
        exhale acc(_MaySet_0(self_15_0, 9711085680836446821528526077762747916132321097530231112), write)
        inhale acc(self_15_0.HID_low_keyboard_sourcep, write)
      }
    }
    if (p1_3) {
      self_15.HID_low_keyboard_source := low_key_0
    }
    if (p2_3) {
      self_15_0.HID_low_keyboard_sourcep := low_key_0_0
    }
    {
      var p1_9: Bool
      var p2_9: Bool
      var p3_7: Bool
      var p4_7: Bool
      p1_9 := p1_3 &&
        perm(_MaySet(self_15, 37952967901293886354030931629961100037091928001759560)) >
        none
      p2_9 := p2_3 &&
        perm(_MaySet_0(self_15_0, 37952967901293886354030931629961100037091928001759560)) >
        none
      p3_7 := p1_3 &&
        !(perm(_MaySet(self_15, 37952967901293886354030931629961100037091928001759560)) >
        none)
      p4_7 := p2_3 &&
        !(perm(_MaySet_0(self_15_0, 37952967901293886354030931629961100037091928001759560)) >
        none)
      if (p1_9) {
        exhale acc(_MaySet(self_15, 37952967901293886354030931629961100037091928001759560), write)
        inhale acc(self_15.HID_current_event_type, write)
      }
      if (p2_9) {
        exhale acc(_MaySet_0(self_15_0, 37952967901293886354030931629961100037091928001759560), write)
        inhale acc(self_15_0.HID_current_event_typep, write)
      }
    }
    if (p1_3) {
      self_15.HID_current_event_type := et_0
    }
    if (p2_3) {
      self_15_0.HID_current_event_typep := et_0_0
    }
    exhale true
  }
}

method Compositor___init__(p1_10: Bool, p2_10: Bool, self_3: Ref, self_3_0: Ref,
  domain_1: Ref, domain_1_0: Ref, cp: Ref, cp_1: Ref)
  requires (p1_10 ==> self_3 != null) && (p2_10 ==> self_3_0 != null)
  requires (p1_10 ==>
    acc(_MaySet(self_3, 789803795613235285115906024523643667309939535305144292201568342276665155), write)) &&
    (p2_10 ==>
    acc(_MaySet_0(self_3_0, 789803795613235285115906024523643667309939535305144292201568342276665155), write))
  requires (p1_10 ==>
    acc(_MaySet(self_3, 177462528903672050749099223360140326816612648766056190433914691), write)) &&
    (p2_10 ==>
    acc(_MaySet_0(self_3_0, 177462528903672050749099223360140326816612648766056190433914691), write))
  requires (p1_10 ==> issubtype(typeof(self_3), Compositor())) &&
    (p2_10 ==> issubtype(typeof(self_3_0), Compositor()))
  requires (p1_10 ==> issubtype(typeof(domain_1), Domain())) &&
    (p2_10 ==> issubtype(typeof(domain_1_0), Domain()))
  requires (p1_10 ==> issubtype(typeof(cp), Event())) &&
    (p2_10 ==> issubtype(typeof(cp_1), Event()))
  requires (p1_10 ==> self_3 != null) && (p2_10 ==> self_3_0 != null)
  ensures (p1_10 ==> acc(self_3.Compositor_domain_under_cursor, write)) &&
    (p2_10 ==> acc(self_3_0.Compositor_domain_under_cursorp, write)) &&
    ((p1_10 ==>
    issubtype(typeof(self_3.Compositor_domain_under_cursor), Domain())) &&
    (p2_10 ==>
    issubtype(typeof(self_3_0.Compositor_domain_under_cursorp), Domain()))) &&
    ((p1_10 ==> self_3.Compositor_domain_under_cursor == domain_1) &&
    (p2_10 ==> self_3_0.Compositor_domain_under_cursorp == domain_1_0))
  ensures (p1_10 ==> acc(self_3.Compositor_cursor_position, write)) &&
    (p2_10 ==> acc(self_3_0.Compositor_cursor_positionp, write)) &&
    ((p1_10 ==>
    issubtype(typeof(self_3.Compositor_cursor_position), Event())) &&
    (p2_10 ==>
    issubtype(typeof(self_3_0.Compositor_cursor_positionp), Event()))) &&
    ((p1_10 ==> self_3.Compositor_cursor_position == cp) &&
    (p2_10 ==> self_3_0.Compositor_cursor_positionp == cp_1))
{
  inhale p1_10
  {
    var _err: Ref
    var _err_2: Ref
    var self_16: Ref
    var self_16_0: Ref
    var domain_3: Ref
    var domain_3_0: Ref
    var cp_0: Ref
    var cp_0_0: Ref
    if (p1_10) {
      inhale typeof(self_3) == Compositor()
      _err := null
      self_16 := self_3
      domain_3 := domain_1
      cp_0 := cp
    }
    if (p2_10) {
      inhale typeof(self_3_0) == Compositor()
      _err_2 := null
      self_16_0 := self_3_0
      domain_3_0 := domain_1_0
      cp_0_0 := cp_1
    }
    {
      var p1_11: Bool
      var p2_11: Bool
      var p3_8: Bool
      var p4_8: Bool
      p1_11 := p1_10 &&
        perm(_MaySet(self_16, 789803795613235285115906024523643667309939535305144292201568342276665155)) >
        none
      p2_11 := p2_10 &&
        perm(_MaySet_0(self_16_0, 789803795613235285115906024523643667309939535305144292201568342276665155)) >
        none
      p3_8 := p1_10 &&
        !(perm(_MaySet(self_16, 789803795613235285115906024523643667309939535305144292201568342276665155)) >
        none)
      p4_8 := p2_10 &&
        !(perm(_MaySet_0(self_16_0, 789803795613235285115906024523643667309939535305144292201568342276665155)) >
        none)
      if (p1_11) {
        exhale acc(_MaySet(self_16, 789803795613235285115906024523643667309939535305144292201568342276665155), write)
        inhale acc(self_16.Compositor_domain_under_cursor, write)
      }
      if (p2_11) {
        exhale acc(_MaySet_0(self_16_0, 789803795613235285115906024523643667309939535305144292201568342276665155), write)
        inhale acc(self_16_0.Compositor_domain_under_cursorp, write)
      }
    }
    if (p1_10) {
      self_16.Compositor_domain_under_cursor := domain_3
    }
    if (p2_10) {
      self_16_0.Compositor_domain_under_cursorp := domain_3_0
    }
    {
      var p1_12: Bool
      var p2_12: Bool
      var p3_9: Bool
      var p4_9: Bool
      p1_12 := p1_10 &&
        perm(_MaySet(self_16, 177462528903672050749099223360140326816612648766056190433914691)) >
        none
      p2_12 := p2_10 &&
        perm(_MaySet_0(self_16_0, 177462528903672050749099223360140326816612648766056190433914691)) >
        none
      p3_9 := p1_10 &&
        !(perm(_MaySet(self_16, 177462528903672050749099223360140326816612648766056190433914691)) >
        none)
      p4_9 := p2_10 &&
        !(perm(_MaySet_0(self_16_0, 177462528903672050749099223360140326816612648766056190433914691)) >
        none)
      if (p1_12) {
        exhale acc(_MaySet(self_16, 177462528903672050749099223360140326816612648766056190433914691), write)
        inhale acc(self_16.Compositor_cursor_position, write)
      }
      if (p2_12) {
        exhale acc(_MaySet_0(self_16_0, 177462528903672050749099223360140326816612648766056190433914691), write)
        inhale acc(self_16_0.Compositor_cursor_positionp, write)
      }
    }
    if (p1_10) {
      self_16.Compositor_cursor_position := cp_0
    }
    if (p2_10) {
      self_16_0.Compositor_cursor_positionp := cp_0_0
    }
    exhale true
  }
}

method CDDC___init__(p1_13: Bool, p2_13: Bool, self_5: Ref, self_5_0: Ref, ce: Ref,
  ce_1: Ref, b0: Ref, b0_1: Ref, b1: Ref, b1_1: Ref, ad: Ref, ad_1: Ref, id_0: Ref,
  id_0_0: Ref, hid_button: Ref, hid_button_1: Ref, hid_mouse: Ref, hid_mouse_1: Ref,
  hid_keyboard: Ref, hid_keyboard_1: Ref, hid_high: Ref, hid_high_1: Ref, hid_low: Ref,
  hid_low_1: Ref, hid_et: Ref, hid_et_1: Ref, comp_domain: Ref, comp_domain_1: Ref,
  comp_event: Ref, comp_event_1: Ref, overlay_call: Ref, overlay_call_1: Ref,
  overlay_button: Ref, overlay_button_1: Ref, overlay_domain: Ref, overlay_domain_1: Ref)
  requires (p1_13 ==> self_5 != null) && (p2_13 ==> self_5_0 != null)
  requires (p1_13 ==>
    acc(_MaySet(self_5, 9334297307808241261779103037584878551842815991934633027), write)) &&
    (p2_13 ==>
    acc(_MaySet_0(self_5_0, 9334297307808241261779103037584878551842815991934633027), write))
  requires (p1_13 ==>
    acc(_MaySet(self_5, 304105867355675840565973507356823656874680419636340114867267), write)) &&
    (p2_13 ==>
    acc(_MaySet_0(self_5_0, 304105867355675840565973507356823656874680419636340114867267), write))
  requires (p1_13 ==>
    acc(_MaySet(self_5, 310382969091062521329809296780031323290782775080804149380163), write)) &&
    (p2_13 ==>
    acc(_MaySet_0(self_5_0, 310382969091062521329809296780031323290782775080804149380163), write))
  requires (p1_13 ==>
    acc(_MaySet(self_5, 9618210604355574192921553657604800872989763), write)) &&
    (p2_13 ==>
    acc(_MaySet_0(self_5_0, 9618210604355574192921553657604800872989763), write))
  requires (p1_13 ==>
    acc(_MaySet(self_5, 161366796842764009017044669768497031222683737801795), write)) &&
    (p2_13 ==>
    acc(_MaySet_0(self_5_0, 161366796842764009017044669768497031222683737801795), write))
  requires (p1_13 ==> acc(_MaySet(self_5, 7235429034707141699), write)) &&
    (p2_13 ==> acc(_MaySet_0(self_5_0, 7235429034707141699), write))
  requires (p1_13 ==>
    acc(_MaySet(self_5, 8508187107539830774110146020419), write)) &&
    (p2_13 ==>
    acc(_MaySet_0(self_5_0, 8508187107539830774110146020419), write))
  requires (p1_13 ==>
    acc(_MaySet(self_5, 594182412441306096830175668154418243), write)) &&
    (p2_13 ==>
    acc(_MaySet_0(self_5_0, 594182412441306096830175668154418243), write))
  requires (p1_13 ==>
    acc(_MaySet(self_5, 613079492593910255644698574353370336312158340163), write)) &&
    (p2_13 ==>
    acc(_MaySet_0(self_5_0, 613079492593910255644698574353370336312158340163), write))
  requires (p1_13 ==>
    acc(_MaySet(self_5, 37565464118705500170240672835), write)) &&
    (p2_13 ==>
    acc(_MaySet_0(self_5_0, 37565464118705500170240672835), write))
  requires (p1_13 ==>
    acc(_MaySet(self_5, 36542385375138897725219550137119551013955), write)) &&
    (p2_13 ==>
    acc(_MaySet_0(self_5_0, 36542385375138897725219550137119551013955), write))
  requires (p1_13 ==>
    acc(_MaySet(self_5, 11633484844293793001571653564355113879164306050779675472945177969731), write)) &&
    (p2_13 ==>
    acc(_MaySet_0(self_5_0, 11633484844293793001571653564355113879164306050779675472945177969731), write))
  requires (p1_13 ==>
    acc(_MaySet(self_5, 2596334536335073397769266154267846584138220611), write)) &&
    (p2_13 ==>
    acc(_MaySet_0(self_5_0, 2596334536335073397769266154267846584138220611), write))
  requires (p1_13 ==> issubtype(typeof(self_5), CDDC())) &&
    (p2_13 ==> issubtype(typeof(self_5_0), CDDC()))
  requires (p1_13 ==> issubtype(typeof(ce), Event())) &&
    (p2_13 ==> issubtype(typeof(ce_1), Event()))
  requires (p1_13 ==> issubtype(typeof(b0), Event())) &&
    (p2_13 ==> issubtype(typeof(b0_1), Event()))
  requires (p1_13 ==> issubtype(typeof(b1), Event())) &&
    (p2_13 ==> issubtype(typeof(b1_1), Event()))
  requires (p1_13 ==> issubtype(typeof(ad), Domain())) &&
    (p2_13 ==> issubtype(typeof(ad_1), Domain()))
  requires (p1_13 ==> issubtype(typeof(id_0), Domain())) &&
    (p2_13 ==> issubtype(typeof(id_0_0), Domain()))
  requires (p1_13 ==> issubtype(typeof(hid_button), Button())) &&
    (p2_13 ==> issubtype(typeof(hid_button_1), Button()))
  requires (p1_13 ==> issubtype(typeof(hid_mouse), bool())) &&
    (p2_13 ==> issubtype(typeof(hid_mouse_1), bool()))
  requires (p1_13 ==> issubtype(typeof(hid_keyboard), bool())) &&
    (p2_13 ==> issubtype(typeof(hid_keyboard_1), bool()))
  requires (p1_13 ==> issubtype(typeof(hid_high), Event())) &&
    (p2_13 ==> issubtype(typeof(hid_high_1), Event()))
  requires (p1_13 ==> issubtype(typeof(hid_low), Event())) &&
    (p2_13 ==> issubtype(typeof(hid_low_1), Event()))
  requires (p1_13 ==> issubtype(typeof(hid_et), EventType())) &&
    (p2_13 ==> issubtype(typeof(hid_et_1), EventType()))
  requires (p1_13 ==> issubtype(typeof(comp_domain), Domain())) &&
    (p2_13 ==> issubtype(typeof(comp_domain_1), Domain()))
  requires (p1_13 ==> issubtype(typeof(comp_event), Event())) &&
    (p2_13 ==> issubtype(typeof(comp_event_1), Event()))
  requires (p1_13 ==> issubtype(typeof(overlay_call), bool())) &&
    (p2_13 ==> issubtype(typeof(overlay_call_1), bool()))
  requires (p1_13 ==> issubtype(typeof(overlay_button), Button())) &&
    (p2_13 ==> issubtype(typeof(overlay_button_1), Button()))
  requires (p1_13 ==> issubtype(typeof(overlay_domain), Domain())) &&
    (p2_13 ==> issubtype(typeof(overlay_domain_1), Domain()))
  requires (p1_13 ==> self_5 != null) && (p2_13 ==> self_5_0 != null)
  requires (p1_13 && p2_13 ==> overlay_call == overlay_call_1) &&
    ((p1_13 && p2_13 ==> overlay_button == overlay_button_1) &&
    (p1_13 && p2_13 ==> overlay_domain == overlay_domain_1))
  requires (p1_13 && p2_13 ==> hid_mouse == hid_mouse_1) &&
    ((p1_13 && p2_13 ==> hid_button == hid_button_1) &&
    ((p1_13 && p2_13 ==> hid_keyboard == hid_keyboard_1) &&
    (p1_13 && p2_13 ==> hid_low == hid_low_1)))
  requires p1_13 && p2_13 ==> comp_domain == comp_domain_1
  requires (p1_13 && p2_13 ==> ad == ad_1) &&
    ((p1_13 && p2_13 ==> id_0 == id_0_0) &&
    ((p1_13 && p2_13 ==> hid_et == hid_et_1) &&
    (p1_13 && p2_13 ==> b0 == b0_1)))
  ensures (p1_13 ==> acc(self_5.CDDC_hid, 1 / 2)) &&
    (p2_13 ==> acc(self_5_0.CDDC_hidp, 1 / 2)) &&
    ((p1_13 ==> issubtype(typeof(self_5.CDDC_hid), HID())) &&
    (p2_13 ==> issubtype(typeof(self_5_0.CDDC_hidp), HID()))) &&
    ((p1_13 ==> acc(self_5.CDDC_hid_lock, 1 / 2)) &&
    (p2_13 ==> acc(self_5_0.CDDC_hid_lockp, 1 / 2)) &&
    ((p1_13 ==> issubtype(typeof(self_5.CDDC_hid_lock), HIDLock())) &&
    (p2_13 ==> issubtype(typeof(self_5_0.CDDC_hid_lockp), HIDLock()))) &&
    ((p1_13 ==> Lock_get_locked(self_5.CDDC_hid_lock) == self_5.CDDC_hid) &&
    (p2_13 ==>
    Lock_get_locked(self_5_0.CDDC_hid_lockp) == self_5_0.CDDC_hidp) &&
    [p1_13 && p2_13 ==>
    typeof(self_5) == typeof(self_5_0) ==>
    self_5.CDDC_hid_lock == self_5_0.CDDC_hid_lockp,
    p1_13 && p2_13 ==> self_5.CDDC_hid_lock == self_5_0.CDDC_hid_lockp]))
  ensures (p1_13 ==> acc(self_5.CDDC_overlay, 1 / 2)) &&
    (p2_13 ==> acc(self_5_0.CDDC_overlayp, 1 / 2)) &&
    ((p1_13 ==> issubtype(typeof(self_5.CDDC_overlay), RPCOverlay())) &&
    (p2_13 ==> issubtype(typeof(self_5_0.CDDC_overlayp), RPCOverlay()))) &&
    ((p1_13 ==> acc(self_5.CDDC_overlay_lock, 1 / 2)) &&
    (p2_13 ==> acc(self_5_0.CDDC_overlay_lockp, 1 / 2)) &&
    ((p1_13 ==>
    issubtype(typeof(self_5.CDDC_overlay_lock), RPCOverlayLock())) &&
    (p2_13 ==>
    issubtype(typeof(self_5_0.CDDC_overlay_lockp), RPCOverlayLock()))) &&
    ((p1_13 ==>
    Lock_get_locked(self_5.CDDC_overlay_lock) == self_5.CDDC_overlay) &&
    (p2_13 ==>
    Lock_get_locked(self_5_0.CDDC_overlay_lockp) == self_5_0.CDDC_overlayp) &&
    [p1_13 && p2_13 ==>
    typeof(self_5) == typeof(self_5_0) ==>
    self_5.CDDC_overlay_lock == self_5_0.CDDC_overlay_lockp,
    p1_13 && p2_13 ==>
    self_5.CDDC_overlay_lock == self_5_0.CDDC_overlay_lockp]))
  ensures (p1_13 ==> acc(self_5.CDDC_compositor, 1 / 2)) &&
    (p2_13 ==> acc(self_5_0.CDDC_compositorp, 1 / 2)) &&
    ((p1_13 ==> issubtype(typeof(self_5.CDDC_compositor), Compositor())) &&
    (p2_13 ==> issubtype(typeof(self_5_0.CDDC_compositorp), Compositor()))) &&
    ((p1_13 ==> acc(self_5.CDDC_compositor_lock, 1 / 2)) &&
    (p2_13 ==> acc(self_5_0.CDDC_compositor_lockp, 1 / 2)) &&
    ((p1_13 ==>
    issubtype(typeof(self_5.CDDC_compositor_lock), CompositorLock())) &&
    (p2_13 ==>
    issubtype(typeof(self_5_0.CDDC_compositor_lockp), CompositorLock()))) &&
    ((p1_13 ==>
    Lock_get_locked(self_5.CDDC_compositor_lock) == self_5.CDDC_compositor) &&
    (p2_13 ==>
    Lock_get_locked(self_5_0.CDDC_compositor_lockp) ==
    self_5_0.CDDC_compositorp) &&
    [p1_13 && p2_13 ==>
    typeof(self_5) == typeof(self_5_0) ==>
    self_5.CDDC_compositor_lock == self_5_0.CDDC_compositor_lockp,
    p1_13 && p2_13 ==>
    self_5.CDDC_compositor_lock == self_5_0.CDDC_compositor_lockp]))
  ensures (p1_13 ==> acc(self_5.CDDC_active_domain, write)) &&
    (p2_13 ==> acc(self_5_0.CDDC_active_domainp, write)) &&
    ((p1_13 ==> issubtype(typeof(self_5.CDDC_active_domain), Domain())) &&
    (p2_13 ==> issubtype(typeof(self_5_0.CDDC_active_domainp), Domain()))) &&
    [p1_13 && p2_13 ==>
    typeof(self_5) == typeof(self_5_0) ==>
    self_5.CDDC_active_domain == self_5_0.CDDC_active_domainp,
    p1_13 && p2_13 ==>
    self_5.CDDC_active_domain == self_5_0.CDDC_active_domainp]
  ensures (p1_13 ==> acc(self_5.CDDC_indicated_domain, write)) &&
    (p2_13 ==> acc(self_5_0.CDDC_indicated_domainp, write)) &&
    ((p1_13 ==> issubtype(typeof(self_5.CDDC_indicated_domain), Domain())) &&
    (p2_13 ==> issubtype(typeof(self_5_0.CDDC_indicated_domainp), Domain()))) &&
    [p1_13 && p2_13 ==>
    typeof(self_5) == typeof(self_5_0) ==>
    self_5.CDDC_indicated_domain == self_5_0.CDDC_indicated_domainp,
    p1_13 && p2_13 ==>
    self_5.CDDC_indicated_domain == self_5_0.CDDC_indicated_domainp]
  ensures (p1_13 ==> acc(self_5.CDDC_hid.HID_current_event_type, write)) &&
    (p2_13 ==> acc(self_5_0.CDDC_hidp.HID_current_event_typep, write)) &&
    ((p1_13 ==>
    issubtype(typeof(self_5.CDDC_hid.HID_current_event_type), EventType())) &&
    (p2_13 ==>
    issubtype(typeof(self_5_0.CDDC_hidp.HID_current_event_typep), EventType()))) &&
    [p1_13 && p2_13 ==>
    typeof(self_5) == typeof(self_5_0) ==>
    self_5.CDDC_hid.HID_current_event_type ==
    self_5_0.CDDC_hidp.HID_current_event_typep,
    p1_13 && p2_13 ==>
    self_5.CDDC_hid.HID_current_event_type ==
    self_5_0.CDDC_hidp.HID_current_event_typep]
  ensures (p1_13 ==> acc(self_5.CDDC_output_event_buffer0, write)) &&
    (p2_13 ==> acc(self_5_0.CDDC_output_event_buffer0p, write)) &&
    ((p1_13 ==>
    issubtype(typeof(self_5.CDDC_output_event_buffer0), Event())) &&
    (p2_13 ==>
    issubtype(typeof(self_5_0.CDDC_output_event_buffer0p), Event()))) &&
    [p1_13 && p2_13 ==>
    typeof(self_5) == typeof(self_5_0) ==>
    self_5.CDDC_output_event_buffer0 == self_5_0.CDDC_output_event_buffer0p,
    p1_13 && p2_13 ==>
    self_5.CDDC_output_event_buffer0 == self_5_0.CDDC_output_event_buffer0p]
  ensures (p1_13 ==> acc(self_5.CDDC_switch_state_mouse_down, write)) &&
    (p2_13 ==> acc(self_5_0.CDDC_switch_state_mouse_downp, write)) &&
    ((p1_13 ==>
    issubtype(typeof(self_5.CDDC_switch_state_mouse_down), bool())) &&
    (p2_13 ==>
    issubtype(typeof(self_5_0.CDDC_switch_state_mouse_downp), bool()))) &&
    [p1_13 && p2_13 ==>
    typeof(self_5) == typeof(self_5_0) ==>
    self_5.CDDC_switch_state_mouse_down ==
    self_5_0.CDDC_switch_state_mouse_downp,
    p1_13 && p2_13 ==>
    self_5.CDDC_switch_state_mouse_down ==
    self_5_0.CDDC_switch_state_mouse_downp]
  ensures (p1_13 ==> acc(self_5.CDDC_overlay_result, write)) &&
    (p2_13 ==> acc(self_5_0.CDDC_overlay_resultp, write)) &&
    ((p1_13 ==> issubtype(typeof(self_5.CDDC_overlay_result), Domain())) &&
    (p2_13 ==> issubtype(typeof(self_5_0.CDDC_overlay_resultp), Domain()))) &&
    [p1_13 && p2_13 ==>
    typeof(self_5) == typeof(self_5_0) ==>
    self_5.CDDC_overlay_result == self_5_0.CDDC_overlay_resultp,
    p1_13 && p2_13 ==>
    self_5.CDDC_overlay_result == self_5_0.CDDC_overlay_resultp]
  ensures (p1_13 ==> acc(self_5.CDDC_output_event_buffer1, write)) &&
    (p2_13 ==> acc(self_5_0.CDDC_output_event_buffer1p, write)) &&
    ((p1_13 ==>
    issubtype(typeof(self_5.CDDC_output_event_buffer1), Event())) &&
    (p2_13 ==>
    issubtype(typeof(self_5_0.CDDC_output_event_buffer1p), Event())))
  ensures (p1_13 ==>
    acc(self_5.CDDC_compositor.Compositor_cursor_position, write)) &&
    (p2_13 ==>
    acc(self_5_0.CDDC_compositorp.Compositor_cursor_positionp, write)) &&
    ((p1_13 ==>
    issubtype(typeof(self_5.CDDC_compositor.Compositor_cursor_position), Event())) &&
    (p2_13 ==>
    issubtype(typeof(self_5_0.CDDC_compositorp.Compositor_cursor_positionp),
    Event())))
  ensures (p1_13 ==> acc(self_5.CDDC_current_event_data, write)) &&
    (p2_13 ==> acc(self_5_0.CDDC_current_event_datap, write)) &&
    ((p1_13 ==> issubtype(typeof(self_5.CDDC_current_event_data), Event())) &&
    (p2_13 ==>
    issubtype(typeof(self_5_0.CDDC_current_event_datap), Event())))
{
  inhale p1_13
  {
    var _err: Ref
    var _err_3: Ref
    var self_17: Ref
    var self_17_0: Ref
    var ce_0: Ref
    var ce_0_0: Ref
    var b0_0: Ref
    var b0_0_0: Ref
    var b1_0: Ref
    var b1_0_0: Ref
    var ad_0: Ref
    var ad_0_0: Ref
    var id_1: Ref
    var id_1_0: Ref
    var hid_button_0: Ref
    var hid_button_0_0: Ref
    var hid_mouse_0: Ref
    var hid_mouse_0_0: Ref
    var hid_keyboard_0: Ref
    var hid_keyboard_0_0: Ref
    var hid_high_0: Ref
    var hid_high_0_0: Ref
    var hid_low_0: Ref
    var hid_low_0_0: Ref
    var hid_et_0: Ref
    var hid_et_0_0: Ref
    var comp_domain_0: Ref
    var comp_domain_0_0: Ref
    var comp_event_0: Ref
    var comp_event_0_0: Ref
    var overlay_call_0: Ref
    var overlay_call_0_0: Ref
    var overlay_button_0: Ref
    var overlay_button_0_0: Ref
    var overlay_domain_0: Ref
    var overlay_domain_0_0: Ref
    var HID_res: Ref
    var HID_res_0: Ref
    var HIDLock_res: Ref
    var HIDLock_res_0: Ref
    var Compositor_res: Ref
    var Compositor_res_0: Ref
    var CompositorLock_res: Ref
    var CompositorLock_res_0: Ref
    var RPCOverlay_res: Ref
    var RPCOverlay_res_0: Ref
    var RPCOverlayLock_res: Ref
    var RPCOverlayLock_res_0: Ref
    if (p1_13) {
      inhale typeof(self_5) == CDDC()
      _err := null
      self_17 := self_5
      ce_0 := ce
      b0_0 := b0
      b1_0 := b1
      ad_0 := ad
      id_1 := id_0
      hid_button_0 := hid_button
      hid_mouse_0 := hid_mouse
      hid_keyboard_0 := hid_keyboard
      hid_high_0 := hid_high
      hid_low_0 := hid_low
      hid_et_0 := hid_et
      comp_domain_0 := comp_domain
      comp_event_0 := comp_event
      overlay_call_0 := overlay_call
      overlay_button_0 := overlay_button
      overlay_domain_0 := overlay_domain
    }
    if (p2_13) {
      inhale typeof(self_5_0) == CDDC()
      _err_3 := null
      self_17_0 := self_5_0
      ce_0_0 := ce_1
      b0_0_0 := b0_1
      b1_0_0 := b1_1
      ad_0_0 := ad_1
      id_1_0 := id_0_0
      hid_button_0_0 := hid_button_1
      hid_mouse_0_0 := hid_mouse_1
      hid_keyboard_0_0 := hid_keyboard_1
      hid_high_0_0 := hid_high_1
      hid_low_0_0 := hid_low_1
      hid_et_0_0 := hid_et_1
      comp_domain_0_0 := comp_domain_1
      comp_event_0_0 := comp_event_1
      overlay_call_0_0 := overlay_call_1
      overlay_button_0_0 := overlay_button_1
      overlay_domain_0_0 := overlay_domain_1
    }
    {
      var p1_14: Bool
      var p2_14: Bool
      var p3_10: Bool
      var p4_10: Bool
      p1_14 := p1_13 &&
        perm(_MaySet(self_17, 9334297307808241261779103037584878551842815991934633027)) >
        none
      p2_14 := p2_13 &&
        perm(_MaySet_0(self_17_0, 9334297307808241261779103037584878551842815991934633027)) >
        none
      p3_10 := p1_13 &&
        !(perm(_MaySet(self_17, 9334297307808241261779103037584878551842815991934633027)) >
        none)
      p4_10 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 9334297307808241261779103037584878551842815991934633027)) >
        none)
      if (p1_14) {
        exhale acc(_MaySet(self_17, 9334297307808241261779103037584878551842815991934633027), write)
        inhale acc(self_17.CDDC_current_event_data, write)
      }
      if (p2_14) {
        exhale acc(_MaySet_0(self_17_0, 9334297307808241261779103037584878551842815991934633027), write)
        inhale acc(self_17_0.CDDC_current_event_datap, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_current_event_data := ce_0
    }
    if (p2_13) {
      self_17_0.CDDC_current_event_datap := ce_0_0
    }
    {
      var p1_15: Bool
      var p2_15: Bool
      var p3_11: Bool
      var p4_11: Bool
      p1_15 := p1_13 &&
        perm(_MaySet(self_17, 304105867355675840565973507356823656874680419636340114867267)) >
        none
      p2_15 := p2_13 &&
        perm(_MaySet_0(self_17_0, 304105867355675840565973507356823656874680419636340114867267)) >
        none
      p3_11 := p1_13 &&
        !(perm(_MaySet(self_17, 304105867355675840565973507356823656874680419636340114867267)) >
        none)
      p4_11 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 304105867355675840565973507356823656874680419636340114867267)) >
        none)
      if (p1_15) {
        exhale acc(_MaySet(self_17, 304105867355675840565973507356823656874680419636340114867267), write)
        inhale acc(self_17.CDDC_output_event_buffer0, write)
      }
      if (p2_15) {
        exhale acc(_MaySet_0(self_17_0, 304105867355675840565973507356823656874680419636340114867267), write)
        inhale acc(self_17_0.CDDC_output_event_buffer0p, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_output_event_buffer0 := b0_0
    }
    if (p2_13) {
      self_17_0.CDDC_output_event_buffer0p := b0_0_0
    }
    {
      var p1_16: Bool
      var p2_16: Bool
      var p3_12: Bool
      var p4_12: Bool
      p1_16 := p1_13 &&
        perm(_MaySet(self_17, 310382969091062521329809296780031323290782775080804149380163)) >
        none
      p2_16 := p2_13 &&
        perm(_MaySet_0(self_17_0, 310382969091062521329809296780031323290782775080804149380163)) >
        none
      p3_12 := p1_13 &&
        !(perm(_MaySet(self_17, 310382969091062521329809296780031323290782775080804149380163)) >
        none)
      p4_12 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 310382969091062521329809296780031323290782775080804149380163)) >
        none)
      if (p1_16) {
        exhale acc(_MaySet(self_17, 310382969091062521329809296780031323290782775080804149380163), write)
        inhale acc(self_17.CDDC_output_event_buffer1, write)
      }
      if (p2_16) {
        exhale acc(_MaySet_0(self_17_0, 310382969091062521329809296780031323290782775080804149380163), write)
        inhale acc(self_17_0.CDDC_output_event_buffer1p, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_output_event_buffer1 := b1_0
    }
    if (p2_13) {
      self_17_0.CDDC_output_event_buffer1p := b1_0_0
    }
    {
      var p1_17: Bool
      var p2_17: Bool
      var p3_13: Bool
      var p4_13: Bool
      p1_17 := p1_13 &&
        perm(_MaySet(self_17, 9618210604355574192921553657604800872989763)) >
        none
      p2_17 := p2_13 &&
        perm(_MaySet_0(self_17_0, 9618210604355574192921553657604800872989763)) >
        none
      p3_13 := p1_13 &&
        !(perm(_MaySet(self_17, 9618210604355574192921553657604800872989763)) >
        none)
      p4_13 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 9618210604355574192921553657604800872989763)) >
        none)
      if (p1_17) {
        exhale acc(_MaySet(self_17, 9618210604355574192921553657604800872989763), write)
        inhale acc(self_17.CDDC_active_domain, write)
      }
      if (p2_17) {
        exhale acc(_MaySet_0(self_17_0, 9618210604355574192921553657604800872989763), write)
        inhale acc(self_17_0.CDDC_active_domainp, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_active_domain := ad_0
    }
    if (p2_13) {
      self_17_0.CDDC_active_domainp := ad_0_0
    }
    {
      var p1_18: Bool
      var p2_18: Bool
      var p3_14: Bool
      var p4_14: Bool
      p1_18 := p1_13 &&
        perm(_MaySet(self_17, 161366796842764009017044669768497031222683737801795)) >
        none
      p2_18 := p2_13 &&
        perm(_MaySet_0(self_17_0, 161366796842764009017044669768497031222683737801795)) >
        none
      p3_14 := p1_13 &&
        !(perm(_MaySet(self_17, 161366796842764009017044669768497031222683737801795)) >
        none)
      p4_14 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 161366796842764009017044669768497031222683737801795)) >
        none)
      if (p1_18) {
        exhale acc(_MaySet(self_17, 161366796842764009017044669768497031222683737801795), write)
        inhale acc(self_17.CDDC_indicated_domain, write)
      }
      if (p2_18) {
        exhale acc(_MaySet_0(self_17_0, 161366796842764009017044669768497031222683737801795), write)
        inhale acc(self_17_0.CDDC_indicated_domainp, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_indicated_domain := id_1
    }
    if (p2_13) {
      self_17_0.CDDC_indicated_domainp := id_1_0
    }
    {
      var tmp: Ref
      tmp := new()
      if (p1_13) {
        HID_res := tmp
      }
      if (p2_13) {
        HID_res_0 := tmp
      }
    }
    if (p1_13) {
      inhale typeof(HID_res) == HID()
      inhale acc(_MaySet(HID_res, 2261816869102202322538058161659165441404455240), write)
      inhale acc(_MaySet(HID_res, 134768386462153594613546548102875597128), write)
      inhale acc(_MaySet(HID_res, 37946990165371374440922669687930353234282043400276296), write)
      inhale acc(_MaySet(HID_res, 2486037934294130386311302675907263466528791081997929040200), write)
      inhale acc(_MaySet(HID_res, 9711085680836446821528526077762747916132321097530231112), write)
      inhale acc(_MaySet(HID_res, 37952967901293886354030931629961100037091928001759560), write)
    }
    if (p2_13) {
      inhale typeof(HID_res_0) == HID()
      inhale acc(_MaySet_0(HID_res_0, 2261816869102202322538058161659165441404455240), write)
      inhale acc(_MaySet_0(HID_res_0, 134768386462153594613546548102875597128), write)
      inhale acc(_MaySet_0(HID_res_0, 37946990165371374440922669687930353234282043400276296), write)
      inhale acc(_MaySet_0(HID_res_0, 2486037934294130386311302675907263466528791081997929040200), write)
      inhale acc(_MaySet_0(HID_res_0, 9711085680836446821528526077762747916132321097530231112), write)
      inhale acc(_MaySet_0(HID_res_0, 37952967901293886354030931629961100037091928001759560), write)
    }
    // Method call: HID___init__
  
    if (p1_13 || p2_13) {
      var tmp1: Ref
      var tmp2: Ref
      var tmp1_0: Ref
      var tmp2_0: Ref
      var tmp1_1: Ref
      var tmp2_1: Ref
      var tmp1_2: Ref
      var tmp2_2: Ref
      var tmp1_3: Ref
      var tmp2_3: Ref
      var tmp1_4: Ref
      var tmp2_4: Ref
      var tmp1_5: Ref
      var tmp2_5: Ref
      if (p1_13) {
        tmp1 := HID_res
        tmp1_0 := hid_button_0
        tmp1_1 := hid_mouse_0
        tmp1_2 := hid_keyboard_0
        tmp1_3 := hid_high_0
        tmp1_4 := hid_low_0
        tmp1_5 := hid_et_0
      }
      if (p2_13) {
        tmp2 := HID_res_0
        tmp2_0 := hid_button_0_0
        tmp2_1 := hid_mouse_0_0
        tmp2_2 := hid_keyboard_0_0
        tmp2_3 := hid_high_0_0
        tmp2_4 := hid_low_0_0
        tmp2_5 := hid_et_0_0
      }
      HID___init__(p1_13, p2_13, tmp1, tmp2, tmp1_0, tmp2_0, tmp1_1, tmp2_1,
        tmp1_2, tmp2_2, tmp1_3, tmp2_3, tmp1_4, tmp2_4, tmp1_5, tmp2_5)
    }
    {
      var p1_19: Bool
      var p2_19: Bool
      var p3_15: Bool
      var p4_15: Bool
      p1_19 := p1_13 && perm(_MaySet(self_17, 7235429034707141699)) > none
      p2_19 := p2_13 &&
        perm(_MaySet_0(self_17_0, 7235429034707141699)) > none
      p3_15 := p1_13 &&
        !(perm(_MaySet(self_17, 7235429034707141699)) > none)
      p4_15 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 7235429034707141699)) > none)
      if (p1_19) {
        exhale acc(_MaySet(self_17, 7235429034707141699), write)
        inhale acc(self_17.CDDC_hid, write)
      }
      if (p2_19) {
        exhale acc(_MaySet_0(self_17_0, 7235429034707141699), write)
        inhale acc(self_17_0.CDDC_hidp, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_hid := HID_res
    }
    if (p2_13) {
      self_17_0.CDDC_hidp := HID_res_0
    }
    {
      var tmp_0: Ref
      tmp_0 := new()
      if (p1_13) {
        HIDLock_res := tmp_0
      }
      if (p2_13) {
        HIDLock_res_0 := tmp_0
      }
    }
    if (p1_13) {
      inhale typeof(HIDLock_res) == HIDLock()
      inhale Lock_get_locked(HIDLock_res) == self_17.CDDC_hid
    }
    if (p2_13) {
      inhale typeof(HIDLock_res_0) == HIDLock()
      inhale Lock_get_locked(HIDLock_res_0) == self_17_0.CDDC_hidp
    }
    if (p1_13) {
      fold acc(Lock_invariant(HIDLock_res), write)
    }
    if (p2_13) {
      fold acc(Lock_invariant_0(HIDLock_res_0), write)
    }
    assert p1_13 && p2_13 ==>
      Lock_invariant_low(HIDLock_res, HIDLock_res_0)
    // Method call: Lock___init__
  
    if (p1_13 || p2_13) {
      var tmp1_6: Ref
      var tmp2_6: Ref
      var tmp1_7: Ref
      var tmp2_7: Ref
      var tmp1_8: Ref
      var tmp2_8: Ref
      var tmp1_9: Ref
      var tmp2_9: Ref
      if (p1_13) {
        tmp1_6 := HIDLock_res
        tmp1_7 := self_17.CDDC_hid
        tmp1_8 := null
        tmp1_9 := null
      }
      if (p2_13) {
        tmp2_6 := HIDLock_res_0
        tmp2_7 := self_17_0.CDDC_hidp
        tmp2_8 := null
        tmp2_9 := null
      }
      Lock___init__(p1_13, p2_13, tmp1_6, tmp2_6, tmp1_7, tmp2_7, tmp1_8, tmp2_8,
        tmp1_9, tmp2_9)
    }
    {
      var p1_20: Bool
      var p2_20: Bool
      var p3_16: Bool
      var p4_16: Bool
      p1_20 := p1_13 &&
        perm(_MaySet(self_17, 8508187107539830774110146020419)) > none
      p2_20 := p2_13 &&
        perm(_MaySet_0(self_17_0, 8508187107539830774110146020419)) > none
      p3_16 := p1_13 &&
        !(perm(_MaySet(self_17, 8508187107539830774110146020419)) > none)
      p4_16 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 8508187107539830774110146020419)) >
        none)
      if (p1_20) {
        exhale acc(_MaySet(self_17, 8508187107539830774110146020419), write)
        inhale acc(self_17.CDDC_hid_lock, write)
      }
      if (p2_20) {
        exhale acc(_MaySet_0(self_17_0, 8508187107539830774110146020419), write)
        inhale acc(self_17_0.CDDC_hid_lockp, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_hid_lock := HIDLock_res
    }
    if (p2_13) {
      self_17_0.CDDC_hid_lockp := HIDLock_res_0
    }
    {
      var tmp_1: Ref
      tmp_1 := new()
      if (p1_13) {
        Compositor_res := tmp_1
      }
      if (p2_13) {
        Compositor_res_0 := tmp_1
      }
    }
    if (p1_13) {
      inhale typeof(Compositor_res) == Compositor()
      inhale acc(_MaySet(Compositor_res, 789803795613235285115906024523643667309939535305144292201568342276665155), write)
      inhale acc(_MaySet(Compositor_res, 177462528903672050749099223360140326816612648766056190433914691), write)
    }
    if (p2_13) {
      inhale typeof(Compositor_res_0) == Compositor()
      inhale acc(_MaySet_0(Compositor_res_0, 789803795613235285115906024523643667309939535305144292201568342276665155), write)
      inhale acc(_MaySet_0(Compositor_res_0, 177462528903672050749099223360140326816612648766056190433914691), write)
    }
    // Method call: Compositor___init__
  
    if (p1_13 || p2_13) {
      var tmp1_10: Ref
      var tmp2_10: Ref
      var tmp1_11: Ref
      var tmp2_11: Ref
      var tmp1_12: Ref
      var tmp2_12: Ref
      if (p1_13) {
        tmp1_10 := Compositor_res
        tmp1_11 := comp_domain_0
        tmp1_12 := comp_event_0
      }
      if (p2_13) {
        tmp2_10 := Compositor_res_0
        tmp2_11 := comp_domain_0_0
        tmp2_12 := comp_event_0_0
      }
      Compositor___init__(p1_13, p2_13, tmp1_10, tmp2_10, tmp1_11, tmp2_11,
        tmp1_12, tmp2_12)
    }
    {
      var p1_21: Bool
      var p2_21: Bool
      var p3_17: Bool
      var p4_17: Bool
      p1_21 := p1_13 &&
        perm(_MaySet(self_17, 594182412441306096830175668154418243)) > none
      p2_21 := p2_13 &&
        perm(_MaySet_0(self_17_0, 594182412441306096830175668154418243)) >
        none
      p3_17 := p1_13 &&
        !(perm(_MaySet(self_17, 594182412441306096830175668154418243)) >
        none)
      p4_17 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 594182412441306096830175668154418243)) >
        none)
      if (p1_21) {
        exhale acc(_MaySet(self_17, 594182412441306096830175668154418243), write)
        inhale acc(self_17.CDDC_compositor, write)
      }
      if (p2_21) {
        exhale acc(_MaySet_0(self_17_0, 594182412441306096830175668154418243), write)
        inhale acc(self_17_0.CDDC_compositorp, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_compositor := Compositor_res
    }
    if (p2_13) {
      self_17_0.CDDC_compositorp := Compositor_res_0
    }
    {
      var tmp_2: Ref
      tmp_2 := new()
      if (p1_13) {
        CompositorLock_res := tmp_2
      }
      if (p2_13) {
        CompositorLock_res_0 := tmp_2
      }
    }
    if (p1_13) {
      inhale typeof(CompositorLock_res) == CompositorLock()
      inhale Lock_get_locked(CompositorLock_res) == self_17.CDDC_compositor
    }
    if (p2_13) {
      inhale typeof(CompositorLock_res_0) == CompositorLock()
      inhale Lock_get_locked(CompositorLock_res_0) ==
        self_17_0.CDDC_compositorp
    }
    if (p1_13) {
      fold acc(Lock_invariant(CompositorLock_res), write)
    }
    if (p2_13) {
      fold acc(Lock_invariant_0(CompositorLock_res_0), write)
    }
    assert p1_13 && p2_13 ==>
      Lock_invariant_low(CompositorLock_res, CompositorLock_res_0)
    // Method call: Lock___init__
  
    if (p1_13 || p2_13) {
      var tmp1_13: Ref
      var tmp2_13: Ref
      var tmp1_14: Ref
      var tmp2_14: Ref
      var tmp1_15: Ref
      var tmp2_15: Ref
      var tmp1_16: Ref
      var tmp2_16: Ref
      if (p1_13) {
        tmp1_13 := CompositorLock_res
        tmp1_14 := self_17.CDDC_compositor
        tmp1_15 := null
        tmp1_16 := null
      }
      if (p2_13) {
        tmp2_13 := CompositorLock_res_0
        tmp2_14 := self_17_0.CDDC_compositorp
        tmp2_15 := null
        tmp2_16 := null
      }
      Lock___init__(p1_13, p2_13, tmp1_13, tmp2_13, tmp1_14, tmp2_14, tmp1_15,
        tmp2_15, tmp1_16, tmp2_16)
    }
    {
      var p1_22: Bool
      var p2_22: Bool
      var p3_18: Bool
      var p4_18: Bool
      p1_22 := p1_13 &&
        perm(_MaySet(self_17, 613079492593910255644698574353370336312158340163)) >
        none
      p2_22 := p2_13 &&
        perm(_MaySet_0(self_17_0, 613079492593910255644698574353370336312158340163)) >
        none
      p3_18 := p1_13 &&
        !(perm(_MaySet(self_17, 613079492593910255644698574353370336312158340163)) >
        none)
      p4_18 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 613079492593910255644698574353370336312158340163)) >
        none)
      if (p1_22) {
        exhale acc(_MaySet(self_17, 613079492593910255644698574353370336312158340163), write)
        inhale acc(self_17.CDDC_compositor_lock, write)
      }
      if (p2_22) {
        exhale acc(_MaySet_0(self_17_0, 613079492593910255644698574353370336312158340163), write)
        inhale acc(self_17_0.CDDC_compositor_lockp, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_compositor_lock := CompositorLock_res
    }
    if (p2_13) {
      self_17_0.CDDC_compositor_lockp := CompositorLock_res_0
    }
    {
      var tmp_3: Ref
      tmp_3 := new()
      if (p1_13) {
        RPCOverlay_res := tmp_3
      }
      if (p2_13) {
        RPCOverlay_res_0 := tmp_3
      }
    }
    if (p1_13) {
      inhale typeof(RPCOverlay_res) == RPCOverlay()
      inhale acc(_MaySet(RPCOverlay_res, 44602783671933174344808990490772156999224510615327761720934617170), write)
      inhale acc(_MaySet(RPCOverlay_res, 166232595728960521111654492215077213197211092495095425057116242), write)
      inhale acc(_MaySet(RPCOverlay_res, 187041604820554483365539607623402012250688345090534933407158354), write)
    }
    if (p2_13) {
      inhale typeof(RPCOverlay_res_0) == RPCOverlay()
      inhale acc(_MaySet_0(RPCOverlay_res_0, 44602783671933174344808990490772156999224510615327761720934617170), write)
      inhale acc(_MaySet_0(RPCOverlay_res_0, 166232595728960521111654492215077213197211092495095425057116242), write)
      inhale acc(_MaySet_0(RPCOverlay_res_0, 187041604820554483365539607623402012250688345090534933407158354), write)
    }
    // Method call: RPCOverlay___init__
  
    if (p1_13 || p2_13) {
      var tmp1_17: Ref
      var tmp2_17: Ref
      var tmp1_18: Ref
      var tmp2_18: Ref
      var tmp1_19: Ref
      var tmp2_19: Ref
      var tmp1_20: Ref
      var tmp2_20: Ref
      if (p1_13) {
        tmp1_17 := RPCOverlay_res
        tmp1_18 := overlay_call_0
        tmp1_19 := overlay_button_0
        tmp1_20 := overlay_domain_0
      }
      if (p2_13) {
        tmp2_17 := RPCOverlay_res_0
        tmp2_18 := overlay_call_0_0
        tmp2_19 := overlay_button_0_0
        tmp2_20 := overlay_domain_0_0
      }
      RPCOverlay___init__(p1_13, p2_13, tmp1_17, tmp2_17, tmp1_18, tmp2_18,
        tmp1_19, tmp2_19, tmp1_20, tmp2_20)
    }
    {
      var p1_23: Bool
      var p2_23: Bool
      var p3_19: Bool
      var p4_19: Bool
      p1_23 := p1_13 &&
        perm(_MaySet(self_17, 37565464118705500170240672835)) > none
      p2_23 := p2_13 &&
        perm(_MaySet_0(self_17_0, 37565464118705500170240672835)) > none
      p3_19 := p1_13 &&
        !(perm(_MaySet(self_17, 37565464118705500170240672835)) > none)
      p4_19 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 37565464118705500170240672835)) > none)
      if (p1_23) {
        exhale acc(_MaySet(self_17, 37565464118705500170240672835), write)
        inhale acc(self_17.CDDC_overlay, write)
      }
      if (p2_23) {
        exhale acc(_MaySet_0(self_17_0, 37565464118705500170240672835), write)
        inhale acc(self_17_0.CDDC_overlayp, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_overlay := RPCOverlay_res
    }
    if (p2_13) {
      self_17_0.CDDC_overlayp := RPCOverlay_res_0
    }
    {
      var tmp_4: Ref
      tmp_4 := new()
      if (p1_13) {
        RPCOverlayLock_res := tmp_4
      }
      if (p2_13) {
        RPCOverlayLock_res_0 := tmp_4
      }
    }
    if (p1_13) {
      inhale typeof(RPCOverlayLock_res) == RPCOverlayLock()
      inhale Lock_get_locked(RPCOverlayLock_res) == self_17.CDDC_overlay
    }
    if (p2_13) {
      inhale typeof(RPCOverlayLock_res_0) == RPCOverlayLock()
      inhale Lock_get_locked(RPCOverlayLock_res_0) ==
        self_17_0.CDDC_overlayp
    }
    if (p1_13) {
      fold acc(Lock_invariant(RPCOverlayLock_res), write)
    }
    if (p2_13) {
      fold acc(Lock_invariant_0(RPCOverlayLock_res_0), write)
    }
    assert p1_13 && p2_13 ==>
      Lock_invariant_low(RPCOverlayLock_res, RPCOverlayLock_res_0)
    // Method call: Lock___init__
  
    if (p1_13 || p2_13) {
      var tmp1_21: Ref
      var tmp2_21: Ref
      var tmp1_22: Ref
      var tmp2_22: Ref
      var tmp1_23: Ref
      var tmp2_23: Ref
      var tmp1_24: Ref
      var tmp2_24: Ref
      if (p1_13) {
        tmp1_21 := RPCOverlayLock_res
        tmp1_22 := self_17.CDDC_overlay
        tmp1_23 := null
        tmp1_24 := null
      }
      if (p2_13) {
        tmp2_21 := RPCOverlayLock_res_0
        tmp2_22 := self_17_0.CDDC_overlayp
        tmp2_23 := null
        tmp2_24 := null
      }
      Lock___init__(p1_13, p2_13, tmp1_21, tmp2_21, tmp1_22, tmp2_22, tmp1_23,
        tmp2_23, tmp1_24, tmp2_24)
    }
    {
      var p1_24: Bool
      var p2_24: Bool
      var p3_20: Bool
      var p4_20: Bool
      p1_24 := p1_13 &&
        perm(_MaySet(self_17, 36542385375138897725219550137119551013955)) >
        none
      p2_24 := p2_13 &&
        perm(_MaySet_0(self_17_0, 36542385375138897725219550137119551013955)) >
        none
      p3_20 := p1_13 &&
        !(perm(_MaySet(self_17, 36542385375138897725219550137119551013955)) >
        none)
      p4_20 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 36542385375138897725219550137119551013955)) >
        none)
      if (p1_24) {
        exhale acc(_MaySet(self_17, 36542385375138897725219550137119551013955), write)
        inhale acc(self_17.CDDC_overlay_lock, write)
      }
      if (p2_24) {
        exhale acc(_MaySet_0(self_17_0, 36542385375138897725219550137119551013955), write)
        inhale acc(self_17_0.CDDC_overlay_lockp, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_overlay_lock := RPCOverlayLock_res
    }
    if (p2_13) {
      self_17_0.CDDC_overlay_lockp := RPCOverlayLock_res_0
    }
    {
      var p1_25: Bool
      var p2_25: Bool
      var p3_21: Bool
      var p4_21: Bool
      p1_25 := p1_13 &&
        perm(_MaySet(self_17, 11633484844293793001571653564355113879164306050779675472945177969731)) >
        none
      p2_25 := p2_13 &&
        perm(_MaySet_0(self_17_0, 11633484844293793001571653564355113879164306050779675472945177969731)) >
        none
      p3_21 := p1_13 &&
        !(perm(_MaySet(self_17, 11633484844293793001571653564355113879164306050779675472945177969731)) >
        none)
      p4_21 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 11633484844293793001571653564355113879164306050779675472945177969731)) >
        none)
      if (p1_25) {
        exhale acc(_MaySet(self_17, 11633484844293793001571653564355113879164306050779675472945177969731), write)
        inhale acc(self_17.CDDC_switch_state_mouse_down, write)
      }
      if (p2_25) {
        exhale acc(_MaySet_0(self_17_0, 11633484844293793001571653564355113879164306050779675472945177969731), write)
        inhale acc(self_17_0.CDDC_switch_state_mouse_downp, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_switch_state_mouse_down := __prim__bool___box__(false)
    }
    if (p2_13) {
      self_17_0.CDDC_switch_state_mouse_downp := __prim__bool___box__(false)
    }
    {
      var p1_26: Bool
      var p2_26: Bool
      var p3_22: Bool
      var p4_22: Bool
      p1_26 := p1_13 &&
        perm(_MaySet(self_17, 2596334536335073397769266154267846584138220611)) >
        none
      p2_26 := p2_13 &&
        perm(_MaySet_0(self_17_0, 2596334536335073397769266154267846584138220611)) >
        none
      p3_22 := p1_13 &&
        !(perm(_MaySet(self_17, 2596334536335073397769266154267846584138220611)) >
        none)
      p4_22 := p2_13 &&
        !(perm(_MaySet_0(self_17_0, 2596334536335073397769266154267846584138220611)) >
        none)
      if (p1_26) {
        exhale acc(_MaySet(self_17, 2596334536335073397769266154267846584138220611), write)
        inhale acc(self_17.CDDC_overlay_result, write)
      }
      if (p2_26) {
        exhale acc(_MaySet_0(self_17_0, 2596334536335073397769266154267846584138220611), write)
        inhale acc(self_17_0.CDDC_overlay_resultp, write)
      }
    }
    if (p1_13) {
      self_17.CDDC_overlay_result := box_Domain_0(Domain_DomainInvalid())
    }
    if (p2_13) {
      self_17_0.CDDC_overlay_resultp := box_Domain_0(Domain_DomainInvalid())
    }
    exhale true
  }
}

method CDDC_driver(p1_27: Bool, p2_27: Bool, self_6: Ref, self_6_0: Ref)
  requires (p1_27 ==> issubtype(typeof(self_6), CDDC())) &&
    (p2_27 ==> issubtype(typeof(self_6_0), CDDC()))
  requires (p1_27 ==> self_6 != null) && (p2_27 ==> self_6_0 != null)
  requires (p1_27 ==> acc(self_6.CDDC_overlay, 1 / 2)) &&
    (p2_27 ==> acc(self_6_0.CDDC_overlayp, 1 / 2)) &&
    ((p1_27 ==> issubtype(typeof(self_6.CDDC_overlay), RPCOverlay())) &&
    (p2_27 ==> issubtype(typeof(self_6_0.CDDC_overlayp), RPCOverlay()))) &&
    ((p1_27 ==> acc(self_6.CDDC_overlay_lock, 1 / 2)) &&
    (p2_27 ==> acc(self_6_0.CDDC_overlay_lockp, 1 / 2)) &&
    ((p1_27 ==>
    issubtype(typeof(self_6.CDDC_overlay_lock), RPCOverlayLock())) &&
    (p2_27 ==>
    issubtype(typeof(self_6_0.CDDC_overlay_lockp), RPCOverlayLock()))) &&
    ((p1_27 ==>
    Lock_get_locked(self_6.CDDC_overlay_lock) == self_6.CDDC_overlay) &&
    (p2_27 ==>
    Lock_get_locked(self_6_0.CDDC_overlay_lockp) == self_6_0.CDDC_overlayp) &&
    (p1_27 && p2_27 ==>
    self_6.CDDC_overlay_lock == self_6_0.CDDC_overlay_lockp)))
{
  inhale p1_27
  {
    var _err: Ref
    var _err_4: Ref
    var self_18: Ref
    var self_18_0: Ref
    var _loop_check_before: Bool
    var _loop_check_before_2: Bool
    var _loop_termination_flag: Bool
    var _loop_termination_flag_2: Bool
    var _loop_original_must_terminate: Perm
    var _loop_original_must_terminate_2: Perm
    var _residue_170: Perm
    var _residue_170_0: Perm
    if (p1_27) {
      inhale typeof(self_6) == CDDC()
      _err := null
      self_18 := self_6
    }
    if (p2_27) {
      inhale typeof(self_6_0) == CDDC()
      _err_4 := null
      self_18_0 := self_6_0
    }
    assert p1_27 && p2_27 ==> true == true
    {
      var bypass1: Bool
      var bypass2: Bool
      var p1_28: Bool
      var p2_28: Bool
      bypass1 := !p1_27
      bypass2 := !p2_27
      while (p1_27 && !bypass1 && true || p2_27 && !bypass2 && true)
        invariant (p1_27 && !bypass1 ==> acc(self_18.CDDC_overlay, 1 / 2)) &&
          (p2_27 && !bypass2 ==> acc(self_18_0.CDDC_overlayp, 1 / 2)) &&
          ((p1_27 && !bypass1 ==>
          issubtype(typeof(self_18.CDDC_overlay), RPCOverlay())) &&
          (p2_27 && !bypass2 ==>
          issubtype(typeof(self_18_0.CDDC_overlayp), RPCOverlay()))) &&
          ((p1_27 && !bypass1 ==> acc(self_18.CDDC_overlay_lock, 1 / 2)) &&
          (p2_27 && !bypass2 ==> acc(self_18_0.CDDC_overlay_lockp, 1 / 2)) &&
          ((p1_27 && !bypass1 ==>
          issubtype(typeof(self_18.CDDC_overlay_lock), RPCOverlayLock())) &&
          (p2_27 && !bypass2 ==>
          issubtype(typeof(self_18_0.CDDC_overlay_lockp), RPCOverlayLock()))) &&
          ((p1_27 && !bypass1 ==>
          Lock_get_locked(self_18.CDDC_overlay_lock) ==
          self_18.CDDC_overlay) &&
          (p2_27 && !bypass2 ==>
          Lock_get_locked(self_18_0.CDDC_overlay_lockp) ==
          self_18_0.CDDC_overlayp) &&
          (p1_27 && !bypass1 && (p2_27 && !bypass2) ==>
          self_18.CDDC_overlay_lock == self_18_0.CDDC_overlay_lockp))) 
      {
        p1_28 := p1_27 && true
        p2_28 := p2_27 && true
        assert p1_28 && p2_28 ==>
          typeof(self_18.CDDC_overlay_lock) ==
          typeof(self_18_0.CDDC_overlay_lockp)
        // Method call: Lock_acquire
  
        if (p1_28 || p2_28) {
          var tmp1_25: Ref
          var tmp2_25: Ref
          if (p1_28) {
            tmp1_25 := self_18.CDDC_overlay_lock
          }
          if (p2_28) {
            tmp2_25 := self_18_0.CDDC_overlay_lockp
          }
          Lock_acquire(p1_28, p2_28, tmp1_25, tmp2_25)
        }
        assert p1_28 && p2_28 ==>
          perm(Lock_invariant(self_18.CDDC_overlay_lock)) >= write &&
          perm(Lock_invariant_0(self_18_0.CDDC_overlay_lockp)) >= write ==>
          Lock_invariant_low(self_18.CDDC_overlay_lock, self_18_0.CDDC_overlay_lockp)
        if (p1_28) {
          unfold acc(Lock_invariant(self_18.CDDC_overlay_lock), write)
        }
        if (p2_28) {
          unfold acc(Lock_invariant_0(self_18_0.CDDC_overlay_lockp), write)
        }
        assert p1_28 && p2_28 ==>
          bool___unbox__(self_18.CDDC_overlay.RPCOverlay_mouse_click_call) ==
          bool___unbox__(self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_callp)
        {
          var p1_29: Bool
          var p2_29: Bool
          var p3_23: Bool
          var p4_23: Bool
          p1_29 := p1_28 &&
            bool___unbox__(self_18.CDDC_overlay.RPCOverlay_mouse_click_call)
          p2_29 := p2_28 &&
            bool___unbox__(self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_callp)
          p3_23 := p1_28 &&
            !bool___unbox__(self_18.CDDC_overlay.RPCOverlay_mouse_click_call)
          p4_23 := p2_28 &&
            !bool___unbox__(self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_callp)
          {
            var p1_30: Bool
            var p2_30: Bool
            var p3_24: Bool
            var p4_24: Bool
            p1_30 := p1_29 &&
              perm(_MaySet(self_18.CDDC_overlay, 44602783671933174344808990490772156999224510615327761720934617170)) >
              none
            p2_30 := p2_29 &&
              perm(_MaySet_0(self_18_0.CDDC_overlayp, 44602783671933174344808990490772156999224510615327761720934617170)) >
              none
            p3_24 := p1_29 &&
              !(perm(_MaySet(self_18.CDDC_overlay, 44602783671933174344808990490772156999224510615327761720934617170)) >
              none)
            p4_24 := p2_29 &&
              !(perm(_MaySet_0(self_18_0.CDDC_overlayp, 44602783671933174344808990490772156999224510615327761720934617170)) >
              none)
            if (p1_30) {
              exhale acc(_MaySet(self_18.CDDC_overlay, 44602783671933174344808990490772156999224510615327761720934617170), write)
              inhale acc(self_18.CDDC_overlay.RPCOverlay_mouse_click_call, write)
            }
            if (p2_30) {
              exhale acc(_MaySet_0(self_18_0.CDDC_overlayp, 44602783671933174344808990490772156999224510615327761720934617170), write)
              inhale acc(self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_callp, write)
            }
          }
          if (p1_29) {
            self_18.CDDC_overlay.RPCOverlay_mouse_click_call := __prim__bool___box__(false)
          }
          if (p2_29) {
            self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_callp := __prim__bool___box__(false)
          }
          assert p1_29 && p2_29 ==>
            (self_18.CDDC_overlay.RPCOverlay_mouse_click_arg ==
            box_Button_0(Button_ButtonLow())) ==
            (self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_argp ==
            box_Button_0(Button_ButtonLow()))
          {
            var p1_31: Bool
            var p2_31: Bool
            var p3_25: Bool
            var p4_25: Bool
            p1_31 := p1_29 &&
              self_18.CDDC_overlay.RPCOverlay_mouse_click_arg ==
              box_Button_0(Button_ButtonLow())
            p2_31 := p2_29 &&
              self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_argp ==
              box_Button_0(Button_ButtonLow())
            p3_25 := p1_29 &&
              !(self_18.CDDC_overlay.RPCOverlay_mouse_click_arg ==
              box_Button_0(Button_ButtonLow()))
            p4_25 := p2_29 &&
              !(self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_argp ==
              box_Button_0(Button_ButtonLow()))
            {
              var p1_32: Bool
              var p2_32: Bool
              var p3_26: Bool
              var p4_26: Bool
              p1_32 := p1_31 &&
                perm(_MaySet(self_18.CDDC_overlay, 187041604820554483365539607623402012250688345090534933407158354)) >
                none
              p2_32 := p2_31 &&
                perm(_MaySet_0(self_18_0.CDDC_overlayp, 187041604820554483365539607623402012250688345090534933407158354)) >
                none
              p3_26 := p1_31 &&
                !(perm(_MaySet(self_18.CDDC_overlay, 187041604820554483365539607623402012250688345090534933407158354)) >
                none)
              p4_26 := p2_31 &&
                !(perm(_MaySet_0(self_18_0.CDDC_overlayp, 187041604820554483365539607623402012250688345090534933407158354)) >
                none)
              if (p1_32) {
                exhale acc(_MaySet(self_18.CDDC_overlay, 187041604820554483365539607623402012250688345090534933407158354), write)
                inhale acc(self_18.CDDC_overlay.RPCOverlay_mouse_click_ret, write)
              }
              if (p2_32) {
                exhale acc(_MaySet_0(self_18_0.CDDC_overlayp, 187041604820554483365539607623402012250688345090534933407158354), write)
                inhale acc(self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_retp, write)
              }
            }
            if (p1_31) {
              self_18.CDDC_overlay.RPCOverlay_mouse_click_ret := box_Domain_0(Domain_DomainLow())
            }
            if (p2_31) {
              self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_retp := box_Domain_0(Domain_DomainLow())
            }
            assert p3_25 && p4_25 ==>
              (self_18.CDDC_overlay.RPCOverlay_mouse_click_arg ==
              box_Button_0(Button_ButtonHigh())) ==
              (self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_argp ==
              box_Button_0(Button_ButtonHigh()))
            {
              var p1_33: Bool
              var p2_33: Bool
              var p3_27: Bool
              var p4_27: Bool
              p1_33 := p3_25 &&
                self_18.CDDC_overlay.RPCOverlay_mouse_click_arg ==
                box_Button_0(Button_ButtonHigh())
              p2_33 := p4_25 &&
                self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_argp ==
                box_Button_0(Button_ButtonHigh())
              p3_27 := p3_25 &&
                !(self_18.CDDC_overlay.RPCOverlay_mouse_click_arg ==
                box_Button_0(Button_ButtonHigh()))
              p4_27 := p4_25 &&
                !(self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_argp ==
                box_Button_0(Button_ButtonHigh()))
              {
                var p1_34: Bool
                var p2_34: Bool
                var p3_28: Bool
                var p4_28: Bool
                p1_34 := p1_33 &&
                  perm(_MaySet(self_18.CDDC_overlay, 187041604820554483365539607623402012250688345090534933407158354)) >
                  none
                p2_34 := p2_33 &&
                  perm(_MaySet_0(self_18_0.CDDC_overlayp, 187041604820554483365539607623402012250688345090534933407158354)) >
                  none
                p3_28 := p1_33 &&
                  !(perm(_MaySet(self_18.CDDC_overlay, 187041604820554483365539607623402012250688345090534933407158354)) >
                  none)
                p4_28 := p2_33 &&
                  !(perm(_MaySet_0(self_18_0.CDDC_overlayp, 187041604820554483365539607623402012250688345090534933407158354)) >
                  none)
                if (p1_34) {
                  exhale acc(_MaySet(self_18.CDDC_overlay, 187041604820554483365539607623402012250688345090534933407158354), write)
                  inhale acc(self_18.CDDC_overlay.RPCOverlay_mouse_click_ret, write)
                }
                if (p2_34) {
                  exhale acc(_MaySet_0(self_18_0.CDDC_overlayp, 187041604820554483365539607623402012250688345090534933407158354), write)
                  inhale acc(self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_retp, write)
                }
              }
              if (p1_33) {
                self_18.CDDC_overlay.RPCOverlay_mouse_click_ret := box_Domain_0(Domain_DomainLow())
              }
              if (p2_33) {
                self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_retp := box_Domain_0(Domain_DomainLow())
              }
              assert p3_27 && p4_27 ==>
                (self_18.CDDC_overlay.RPCOverlay_mouse_click_arg ==
                box_Button_0(Button_ButtonOverlay())) ==
                (self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_argp ==
                box_Button_0(Button_ButtonOverlay()))
              {
                var p1_35: Bool
                var p2_35: Bool
                var p3_29: Bool
                var p4_29: Bool
                p1_35 := p3_27 &&
                  self_18.CDDC_overlay.RPCOverlay_mouse_click_arg ==
                  box_Button_0(Button_ButtonOverlay())
                p2_35 := p4_27 &&
                  self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_argp ==
                  box_Button_0(Button_ButtonOverlay())
                p3_29 := p3_27 &&
                  !(self_18.CDDC_overlay.RPCOverlay_mouse_click_arg ==
                  box_Button_0(Button_ButtonOverlay()))
                p4_29 := p4_27 &&
                  !(self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_argp ==
                  box_Button_0(Button_ButtonOverlay()))
                {
                  var p1_36: Bool
                  var p2_36: Bool
                  var p3_30: Bool
                  var p4_30: Bool
                  p1_36 := p1_35 &&
                    perm(_MaySet(self_18.CDDC_overlay, 187041604820554483365539607623402012250688345090534933407158354)) >
                    none
                  p2_36 := p2_35 &&
                    perm(_MaySet_0(self_18_0.CDDC_overlayp, 187041604820554483365539607623402012250688345090534933407158354)) >
                    none
                  p3_30 := p1_35 &&
                    !(perm(_MaySet(self_18.CDDC_overlay, 187041604820554483365539607623402012250688345090534933407158354)) >
                    none)
                  p4_30 := p2_35 &&
                    !(perm(_MaySet_0(self_18_0.CDDC_overlayp, 187041604820554483365539607623402012250688345090534933407158354)) >
                    none)
                  if (p1_36) {
                    exhale acc(_MaySet(self_18.CDDC_overlay, 187041604820554483365539607623402012250688345090534933407158354), write)
                    inhale acc(self_18.CDDC_overlay.RPCOverlay_mouse_click_ret, write)
                  }
                  if (p2_36) {
                    exhale acc(_MaySet_0(self_18_0.CDDC_overlayp, 187041604820554483365539607623402012250688345090534933407158354), write)
                    inhale acc(self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_retp, write)
                  }
                }
                if (p1_35) {
                  self_18.CDDC_overlay.RPCOverlay_mouse_click_ret := box_Domain_0(Domain_DomainOverlay())
                }
                if (p2_35) {
                  self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_retp := box_Domain_0(Domain_DomainOverlay())
                }
                {
                  var p1_37: Bool
                  var p2_37: Bool
                  var p3_31: Bool
                  var p4_31: Bool
                  p1_37 := p3_29 &&
                    perm(_MaySet(self_18.CDDC_overlay, 187041604820554483365539607623402012250688345090534933407158354)) >
                    none
                  p2_37 := p4_29 &&
                    perm(_MaySet_0(self_18_0.CDDC_overlayp, 187041604820554483365539607623402012250688345090534933407158354)) >
                    none
                  p3_31 := p3_29 &&
                    !(perm(_MaySet(self_18.CDDC_overlay, 187041604820554483365539607623402012250688345090534933407158354)) >
                    none)
                  p4_31 := p4_29 &&
                    !(perm(_MaySet_0(self_18_0.CDDC_overlayp, 187041604820554483365539607623402012250688345090534933407158354)) >
                    none)
                  if (p1_37) {
                    exhale acc(_MaySet(self_18.CDDC_overlay, 187041604820554483365539607623402012250688345090534933407158354), write)
                    inhale acc(self_18.CDDC_overlay.RPCOverlay_mouse_click_ret, write)
                  }
                  if (p2_37) {
                    exhale acc(_MaySet_0(self_18_0.CDDC_overlayp, 187041604820554483365539607623402012250688345090534933407158354), write)
                    inhale acc(self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_retp, write)
                  }
                }
                if (p3_29) {
                  self_18.CDDC_overlay.RPCOverlay_mouse_click_ret := box_Domain_0(Domain_DomainInvalid())
                }
                if (p4_29) {
                  self_18_0.CDDC_overlayp.RPCOverlay_mouse_click_retp := box_Domain_0(Domain_DomainInvalid())
                }
              }
            }
          }
        }
        assert p1_28 && p2_28 ==>
          typeof(self_18.CDDC_overlay_lock) ==
          typeof(self_18_0.CDDC_overlay_lockp)
        if (p1_28) {
          fold acc(Lock_invariant(self_18.CDDC_overlay_lock), write)
        }
        if (p2_28) {
          fold acc(Lock_invariant_0(self_18_0.CDDC_overlay_lockp), write)
        }
        assert p1_28 && p2_28 ==>
          Lock_invariant_low(self_18.CDDC_overlay_lock, self_18_0.CDDC_overlay_lockp)
        // Method call: Lock_release
  
        if (p1_28 || p2_28) {
          var tmp1_26: Ref
          var tmp2_26: Ref
          if (p1_28) {
            tmp1_26 := self_18.CDDC_overlay_lock
          }
          if (p2_28) {
            tmp2_26 := self_18_0.CDDC_overlay_lockp
          }
          Lock_release(p1_28, p2_28, tmp1_26, tmp2_26)
        }
      }
    }
    exhale true
  }
}

method CDDC_input_switch(p1_38: Bool, p2_38: Bool, self_7: Ref, self_7_0: Ref)
  requires (p1_38 ==> issubtype(typeof(self_7), CDDC())) &&
    (p2_38 ==> issubtype(typeof(self_7_0), CDDC()))
  requires (p1_38 ==> self_7 != null) && (p2_38 ==> self_7_0 != null)
  requires (p1_38 ==> acc(self_7.CDDC_hid, 1 / 2)) &&
    (p2_38 ==> acc(self_7_0.CDDC_hidp, 1 / 2)) &&
    ((p1_38 ==> issubtype(typeof(self_7.CDDC_hid), HID())) &&
    (p2_38 ==> issubtype(typeof(self_7_0.CDDC_hidp), HID()))) &&
    ((p1_38 ==> acc(self_7.CDDC_hid_lock, 1 / 2)) &&
    (p2_38 ==> acc(self_7_0.CDDC_hid_lockp, 1 / 2)) &&
    ((p1_38 ==> issubtype(typeof(self_7.CDDC_hid_lock), HIDLock())) &&
    (p2_38 ==> issubtype(typeof(self_7_0.CDDC_hid_lockp), HIDLock()))) &&
    ((p1_38 ==> Lock_get_locked(self_7.CDDC_hid_lock) == self_7.CDDC_hid) &&
    (p2_38 ==>
    Lock_get_locked(self_7_0.CDDC_hid_lockp) == self_7_0.CDDC_hidp) &&
    (p1_38 && p2_38 ==> self_7.CDDC_hid_lock == self_7_0.CDDC_hid_lockp)))
  requires (p1_38 ==> acc(self_7.CDDC_overlay, 1 / 2)) &&
    (p2_38 ==> acc(self_7_0.CDDC_overlayp, 1 / 2)) &&
    ((p1_38 ==> issubtype(typeof(self_7.CDDC_overlay), RPCOverlay())) &&
    (p2_38 ==> issubtype(typeof(self_7_0.CDDC_overlayp), RPCOverlay()))) &&
    ((p1_38 ==> acc(self_7.CDDC_overlay_lock, 1 / 2)) &&
    (p2_38 ==> acc(self_7_0.CDDC_overlay_lockp, 1 / 2)) &&
    ((p1_38 ==>
    issubtype(typeof(self_7.CDDC_overlay_lock), RPCOverlayLock())) &&
    (p2_38 ==>
    issubtype(typeof(self_7_0.CDDC_overlay_lockp), RPCOverlayLock()))) &&
    ((p1_38 ==>
    Lock_get_locked(self_7.CDDC_overlay_lock) == self_7.CDDC_overlay) &&
    (p2_38 ==>
    Lock_get_locked(self_7_0.CDDC_overlay_lockp) == self_7_0.CDDC_overlayp) &&
    (p1_38 && p2_38 ==>
    self_7.CDDC_overlay_lock == self_7_0.CDDC_overlay_lockp)))
  requires (p1_38 ==> acc(self_7.CDDC_compositor, 1 / 2)) &&
    (p2_38 ==> acc(self_7_0.CDDC_compositorp, 1 / 2)) &&
    ((p1_38 ==> issubtype(typeof(self_7.CDDC_compositor), Compositor())) &&
    (p2_38 ==> issubtype(typeof(self_7_0.CDDC_compositorp), Compositor()))) &&
    ((p1_38 ==> acc(self_7.CDDC_compositor_lock, 1 / 2)) &&
    (p2_38 ==> acc(self_7_0.CDDC_compositor_lockp, 1 / 2)) &&
    ((p1_38 ==>
    issubtype(typeof(self_7.CDDC_compositor_lock), CompositorLock())) &&
    (p2_38 ==>
    issubtype(typeof(self_7_0.CDDC_compositor_lockp), CompositorLock()))) &&
    ((p1_38 ==>
    Lock_get_locked(self_7.CDDC_compositor_lock) == self_7.CDDC_compositor) &&
    (p2_38 ==>
    Lock_get_locked(self_7_0.CDDC_compositor_lockp) ==
    self_7_0.CDDC_compositorp) &&
    (p1_38 && p2_38 ==>
    self_7.CDDC_compositor_lock == self_7_0.CDDC_compositor_lockp)))
  requires (p1_38 ==> acc(self_7.CDDC_active_domain, write)) &&
    (p2_38 ==> acc(self_7_0.CDDC_active_domainp, write)) &&
    ((p1_38 ==> issubtype(typeof(self_7.CDDC_active_domain), Domain())) &&
    (p2_38 ==> issubtype(typeof(self_7_0.CDDC_active_domainp), Domain()))) &&
    (p1_38 && p2_38 ==>
    self_7.CDDC_active_domain == self_7_0.CDDC_active_domainp)
  requires (p1_38 ==> acc(self_7.CDDC_indicated_domain, write)) &&
    (p2_38 ==> acc(self_7_0.CDDC_indicated_domainp, write)) &&
    ((p1_38 ==> issubtype(typeof(self_7.CDDC_indicated_domain), Domain())) &&
    (p2_38 ==> issubtype(typeof(self_7_0.CDDC_indicated_domainp), Domain()))) &&
    (p1_38 && p2_38 ==>
    self_7.CDDC_indicated_domain == self_7_0.CDDC_indicated_domainp)
  requires (p1_38 ==> acc(self_7.CDDC_hid.HID_current_event_type, write)) &&
    (p2_38 ==> acc(self_7_0.CDDC_hidp.HID_current_event_typep, write)) &&
    ((p1_38 ==>
    issubtype(typeof(self_7.CDDC_hid.HID_current_event_type), EventType())) &&
    (p2_38 ==>
    issubtype(typeof(self_7_0.CDDC_hidp.HID_current_event_typep), EventType()))) &&
    (p1_38 && p2_38 ==>
    self_7.CDDC_hid.HID_current_event_type ==
    self_7_0.CDDC_hidp.HID_current_event_typep)
  requires (p1_38 ==> acc(self_7.CDDC_output_event_buffer0, write)) &&
    (p2_38 ==> acc(self_7_0.CDDC_output_event_buffer0p, write)) &&
    ((p1_38 ==>
    issubtype(typeof(self_7.CDDC_output_event_buffer0), Event())) &&
    (p2_38 ==>
    issubtype(typeof(self_7_0.CDDC_output_event_buffer0p), Event()))) &&
    (p1_38 && p2_38 ==>
    self_7.CDDC_output_event_buffer0 == self_7_0.CDDC_output_event_buffer0p)
  requires (p1_38 ==> acc(self_7.CDDC_output_event_buffer1, write)) &&
    (p2_38 ==> acc(self_7_0.CDDC_output_event_buffer1p, write)) &&
    ((p1_38 ==>
    issubtype(typeof(self_7.CDDC_output_event_buffer1), Event())) &&
    (p2_38 ==>
    issubtype(typeof(self_7_0.CDDC_output_event_buffer1p), Event())))
  requires (p1_38 ==>
    acc(self_7.CDDC_compositor.Compositor_cursor_position, write)) &&
    (p2_38 ==>
    acc(self_7_0.CDDC_compositorp.Compositor_cursor_positionp, write)) &&
    ((p1_38 ==>
    issubtype(typeof(self_7.CDDC_compositor.Compositor_cursor_position), Event())) &&
    (p2_38 ==>
    issubtype(typeof(self_7_0.CDDC_compositorp.Compositor_cursor_positionp),
    Event())))
  requires (p1_38 ==> acc(self_7.CDDC_current_event_data, write)) &&
    (p2_38 ==> acc(self_7_0.CDDC_current_event_datap, write)) &&
    ((p1_38 ==> issubtype(typeof(self_7.CDDC_current_event_data), Event())) &&
    (p2_38 ==>
    issubtype(typeof(self_7_0.CDDC_current_event_datap), Event())))
  requires (p1_38 ==> acc(self_7.CDDC_switch_state_mouse_down, write)) &&
    (p2_38 ==> acc(self_7_0.CDDC_switch_state_mouse_downp, write)) &&
    ((p1_38 ==>
    issubtype(typeof(self_7.CDDC_switch_state_mouse_down), bool())) &&
    (p2_38 ==>
    issubtype(typeof(self_7_0.CDDC_switch_state_mouse_downp), bool())))
  requires (p1_38 ==> acc(self_7.CDDC_overlay_result, write)) &&
    (p2_38 ==> acc(self_7_0.CDDC_overlay_resultp, write)) &&
    ((p1_38 ==> issubtype(typeof(self_7.CDDC_overlay_result), Domain())) &&
    (p2_38 ==> issubtype(typeof(self_7_0.CDDC_overlay_resultp), Domain())))
{
  inhale p1_38
  {
    var _err: Ref
    var _err_5: Ref
    var temp: Ref
    var temp_0: Ref
    var self_19: Ref
    var self_19_0: Ref
    var _loop_check_before_0: Bool
    var _loop_check_before_0_0: Bool
    var _loop_termination_flag_0: Bool
    var _loop_termination_flag_0_0: Bool
    var _loop_original_must_terminate_0: Perm
    var _loop_original_must_terminate_0_0: Perm
    var _residue_171: Perm
    var _residue_171_0: Perm
    if (p1_38) {
      inhale typeof(self_7) == CDDC()
      _err := null
      self_19 := self_7
      temp := __prim__bool___box__(false)
      inhale _isDefined(1886217588)
    }
    if (p2_38) {
      inhale typeof(self_7_0) == CDDC()
      _err_5 := null
      self_19_0 := self_7_0
      temp_0 := __prim__bool___box__(false)
      inhale true
    }
    {
      var p1_39: Bool
      var p2_39: Bool
      var p3_32: Bool
      var p4_32: Bool
      p1_39 := p1_38 &&
        perm(_MaySet(self_19, 11633484844293793001571653564355113879164306050779675472945177969731)) >
        none
      p2_39 := p2_38 &&
        perm(_MaySet_0(self_19_0, 11633484844293793001571653564355113879164306050779675472945177969731)) >
        none
      p3_32 := p1_38 &&
        !(perm(_MaySet(self_19, 11633484844293793001571653564355113879164306050779675472945177969731)) >
        none)
      p4_32 := p2_38 &&
        !(perm(_MaySet_0(self_19_0, 11633484844293793001571653564355113879164306050779675472945177969731)) >
        none)
      if (p1_39) {
        exhale acc(_MaySet(self_19, 11633484844293793001571653564355113879164306050779675472945177969731), write)
        inhale acc(self_19.CDDC_switch_state_mouse_down, write)
      }
      if (p2_39) {
        exhale acc(_MaySet_0(self_19_0, 11633484844293793001571653564355113879164306050779675472945177969731), write)
        inhale acc(self_19_0.CDDC_switch_state_mouse_downp, write)
      }
    }
    if (p1_38) {
      self_19.CDDC_switch_state_mouse_down := __prim__bool___box__(false)
    }
    if (p2_38) {
      self_19_0.CDDC_switch_state_mouse_downp := __prim__bool___box__(false)
    }
    {
      var p1_40: Bool
      var p2_40: Bool
      var p3_33: Bool
      var p4_33: Bool
      p1_40 := p1_38 &&
        perm(_MaySet(self_19, 2596334536335073397769266154267846584138220611)) >
        none
      p2_40 := p2_38 &&
        perm(_MaySet_0(self_19_0, 2596334536335073397769266154267846584138220611)) >
        none
      p3_33 := p1_38 &&
        !(perm(_MaySet(self_19, 2596334536335073397769266154267846584138220611)) >
        none)
      p4_33 := p2_38 &&
        !(perm(_MaySet_0(self_19_0, 2596334536335073397769266154267846584138220611)) >
        none)
      if (p1_40) {
        exhale acc(_MaySet(self_19, 2596334536335073397769266154267846584138220611), write)
        inhale acc(self_19.CDDC_overlay_result, write)
      }
      if (p2_40) {
        exhale acc(_MaySet_0(self_19_0, 2596334536335073397769266154267846584138220611), write)
        inhale acc(self_19_0.CDDC_overlay_resultp, write)
      }
    }
    if (p1_38) {
      self_19.CDDC_overlay_result := box_Domain_0(Domain_DomainInvalid())
    }
    if (p2_38) {
      self_19_0.CDDC_overlay_resultp := box_Domain_0(Domain_DomainInvalid())
    }
    {
      var p1_41: Bool
      var p2_41: Bool
      var p3_34: Bool
      var p4_34: Bool
      p1_41 := p1_38 &&
        perm(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027)) >
        none
      p2_41 := p2_38 &&
        perm(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027)) >
        none
      p3_34 := p1_38 &&
        !(perm(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027)) >
        none)
      p4_34 := p2_38 &&
        !(perm(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027)) >
        none)
      if (p1_41) {
        exhale acc(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027), write)
        inhale acc(self_19.CDDC_current_event_data, write)
      }
      if (p2_41) {
        exhale acc(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027), write)
        inhale acc(self_19_0.CDDC_current_event_datap, write)
      }
    }
    if (p1_38) {
      self_19.CDDC_current_event_data := box_Event_0(Event_EventNone())
    }
    if (p2_38) {
      self_19_0.CDDC_current_event_datap := box_Event_0(Event_EventNone())
    }
    {
      var p1_42: Bool
      var p2_42: Bool
      var p3_35: Bool
      var p4_35: Bool
      p1_42 := p1_38 &&
        perm(_MaySet(self_19, 161366796842764009017044669768497031222683737801795)) >
        none
      p2_42 := p2_38 &&
        perm(_MaySet_0(self_19_0, 161366796842764009017044669768497031222683737801795)) >
        none
      p3_35 := p1_38 &&
        !(perm(_MaySet(self_19, 161366796842764009017044669768497031222683737801795)) >
        none)
      p4_35 := p2_38 &&
        !(perm(_MaySet_0(self_19_0, 161366796842764009017044669768497031222683737801795)) >
        none)
      if (p1_42) {
        exhale acc(_MaySet(self_19, 161366796842764009017044669768497031222683737801795), write)
        inhale acc(self_19.CDDC_indicated_domain, write)
      }
      if (p2_42) {
        exhale acc(_MaySet_0(self_19_0, 161366796842764009017044669768497031222683737801795), write)
        inhale acc(self_19_0.CDDC_indicated_domainp, write)
      }
    }
    if (p1_38) {
      self_19.CDDC_indicated_domain := self_19.CDDC_active_domain
    }
    if (p2_38) {
      self_19_0.CDDC_indicated_domainp := self_19_0.CDDC_active_domainp
    }
    {
      var p1_43: Bool
      var p2_43: Bool
      var p3_36: Bool
      var p4_36: Bool
      p1_43 := p1_38 &&
        perm(_MaySet(self_19.CDDC_hid, 37952967901293886354030931629961100037091928001759560)) >
        none
      p2_43 := p2_38 &&
        perm(_MaySet_0(self_19_0.CDDC_hidp, 37952967901293886354030931629961100037091928001759560)) >
        none
      p3_36 := p1_38 &&
        !(perm(_MaySet(self_19.CDDC_hid, 37952967901293886354030931629961100037091928001759560)) >
        none)
      p4_36 := p2_38 &&
        !(perm(_MaySet_0(self_19_0.CDDC_hidp, 37952967901293886354030931629961100037091928001759560)) >
        none)
      if (p1_43) {
        exhale acc(_MaySet(self_19.CDDC_hid, 37952967901293886354030931629961100037091928001759560), write)
        inhale acc(self_19.CDDC_hid.HID_current_event_type, write)
      }
      if (p2_43) {
        exhale acc(_MaySet_0(self_19_0.CDDC_hidp, 37952967901293886354030931629961100037091928001759560), write)
        inhale acc(self_19_0.CDDC_hidp.HID_current_event_typep, write)
      }
    }
    if (p1_38) {
      self_19.CDDC_hid.HID_current_event_type := box_EventType_0(EventType_EventTypeNone())
    }
    if (p2_38) {
      self_19_0.CDDC_hidp.HID_current_event_typep := box_EventType_0(EventType_EventTypeNone())
    }
    assert p1_38 && p2_38 ==> true == true
    {
      var bypass1_0: Bool
      var bypass2_0: Bool
      var tmp1_27: Ref
      var tmp2_27: Ref
      var p1_44: Bool
      var p2_44: Bool
      bypass1_0 := !p1_38
      bypass2_0 := !p2_38
      if (bypass1_0) {
        tmp1_27 := temp
      }
      if (bypass2_0) {
        tmp2_27 := temp_0
      }
      while (p1_38 && !bypass1_0 && true || p2_38 && !bypass2_0 && true)
        invariant (p1_38 && !bypass1_0 ==> issubtype(typeof(temp), bool())) &&
          (p2_38 && !bypass2_0 ==> issubtype(typeof(temp_0), bool()))
        invariant (p1_38 && !bypass1_0 ==> acc(self_19.CDDC_hid, 1 / 2)) &&
          (p2_38 && !bypass2_0 ==> acc(self_19_0.CDDC_hidp, 1 / 2)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_hid), HID())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_hidp), HID()))) &&
          ((p1_38 && !bypass1_0 ==> acc(self_19.CDDC_hid_lock, 1 / 2)) &&
          (p2_38 && !bypass2_0 ==> acc(self_19_0.CDDC_hid_lockp, 1 / 2)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_hid_lock), HIDLock())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_hid_lockp), HIDLock()))) &&
          ((p1_38 && !bypass1_0 ==>
          Lock_get_locked(self_19.CDDC_hid_lock) == self_19.CDDC_hid) &&
          (p2_38 && !bypass2_0 ==>
          Lock_get_locked(self_19_0.CDDC_hid_lockp) == self_19_0.CDDC_hidp) &&
          (p1_38 && !bypass1_0 && (p2_38 && !bypass2_0) ==>
          self_19.CDDC_hid_lock == self_19_0.CDDC_hid_lockp)))
        invariant (p1_38 && !bypass1_0 ==> acc(self_19.CDDC_overlay, 1 / 2)) &&
          (p2_38 && !bypass2_0 ==> acc(self_19_0.CDDC_overlayp, 1 / 2)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_overlay), RPCOverlay())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_overlayp), RPCOverlay()))) &&
          ((p1_38 && !bypass1_0 ==> acc(self_19.CDDC_overlay_lock, 1 / 2)) &&
          (p2_38 && !bypass2_0 ==> acc(self_19_0.CDDC_overlay_lockp, 1 / 2)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_overlay_lock), RPCOverlayLock())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_overlay_lockp), RPCOverlayLock()))) &&
          ((p1_38 && !bypass1_0 ==>
          Lock_get_locked(self_19.CDDC_overlay_lock) ==
          self_19.CDDC_overlay) &&
          (p2_38 && !bypass2_0 ==>
          Lock_get_locked(self_19_0.CDDC_overlay_lockp) ==
          self_19_0.CDDC_overlayp) &&
          (p1_38 && !bypass1_0 && (p2_38 && !bypass2_0) ==>
          self_19.CDDC_overlay_lock == self_19_0.CDDC_overlay_lockp)))
        invariant (p1_38 && !bypass1_0 ==>
          acc(self_19.CDDC_compositor, 1 / 2)) &&
          (p2_38 && !bypass2_0 ==> acc(self_19_0.CDDC_compositorp, 1 / 2)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_compositor), Compositor())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_compositorp), Compositor()))) &&
          ((p1_38 && !bypass1_0 ==>
          acc(self_19.CDDC_compositor_lock, 1 / 2)) &&
          (p2_38 && !bypass2_0 ==>
          acc(self_19_0.CDDC_compositor_lockp, 1 / 2)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_compositor_lock), CompositorLock())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_compositor_lockp), CompositorLock()))) &&
          ((p1_38 && !bypass1_0 ==>
          Lock_get_locked(self_19.CDDC_compositor_lock) ==
          self_19.CDDC_compositor) &&
          (p2_38 && !bypass2_0 ==>
          Lock_get_locked(self_19_0.CDDC_compositor_lockp) ==
          self_19_0.CDDC_compositorp) &&
          (p1_38 && !bypass1_0 && (p2_38 && !bypass2_0) ==>
          self_19.CDDC_compositor_lock == self_19_0.CDDC_compositor_lockp)))
        invariant (p1_38 && !bypass1_0 ==>
          acc(self_19.CDDC_overlay_result, write)) &&
          (p2_38 && !bypass2_0 ==>
          acc(self_19_0.CDDC_overlay_resultp, write)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_overlay_result), Domain())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_overlay_resultp), Domain()))) &&
          (p1_38 && !bypass1_0 && (p2_38 && !bypass2_0) ==>
          self_19.CDDC_overlay_result == self_19_0.CDDC_overlay_resultp)
        invariant (p1_38 && !bypass1_0 ==>
          acc(self_19.CDDC_switch_state_mouse_down, write)) &&
          (p2_38 && !bypass2_0 ==>
          acc(self_19_0.CDDC_switch_state_mouse_downp, write)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_switch_state_mouse_down), bool())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_switch_state_mouse_downp), bool()))) &&
          (p1_38 && !bypass1_0 && (p2_38 && !bypass2_0) ==>
          self_19.CDDC_switch_state_mouse_down ==
          self_19_0.CDDC_switch_state_mouse_downp)
        invariant (p1_38 && !bypass1_0 ==>
          acc(self_19.CDDC_current_event_data, write)) &&
          (p2_38 && !bypass2_0 ==>
          acc(self_19_0.CDDC_current_event_datap, write)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_current_event_data), Event())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_current_event_datap), Event()))) &&
          (p1_38 && !bypass1_0 && (p2_38 && !bypass2_0) ==>
          self_19.CDDC_current_event_data ==
          self_19_0.CDDC_current_event_datap)
        invariant (p1_38 && !bypass1_0 ==>
          acc(self_19.CDDC_active_domain, write)) &&
          (p2_38 && !bypass2_0 ==>
          acc(self_19_0.CDDC_active_domainp, write)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_active_domain), Domain())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_active_domainp), Domain()))) &&
          (p1_38 && !bypass1_0 && (p2_38 && !bypass2_0) ==>
          self_19.CDDC_active_domain == self_19_0.CDDC_active_domainp)
        invariant (p1_38 && !bypass1_0 ==>
          acc(self_19.CDDC_indicated_domain, write)) &&
          (p2_38 && !bypass2_0 ==>
          acc(self_19_0.CDDC_indicated_domainp, write)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_indicated_domain), Domain())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_indicated_domainp), Domain()))) &&
          ((p1_38 && !bypass1_0 ==>
          self_19.CDDC_indicated_domain == self_19.CDDC_active_domain) &&
          (p2_38 && !bypass2_0 ==>
          self_19_0.CDDC_indicated_domainp == self_19_0.CDDC_active_domainp))
        invariant (p1_38 && !bypass1_0 ==>
          acc(self_19.CDDC_hid.HID_current_event_type, write)) &&
          (p2_38 && !bypass2_0 ==>
          acc(self_19_0.CDDC_hidp.HID_current_event_typep, write)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_hid.HID_current_event_type), EventType())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_hidp.HID_current_event_typep), EventType()))) &&
          (p1_38 && !bypass1_0 && (p2_38 && !bypass2_0) ==>
          self_19.CDDC_hid.HID_current_event_type ==
          self_19_0.CDDC_hidp.HID_current_event_typep)
        invariant (p1_38 && !bypass1_0 ==>
          acc(self_19.CDDC_output_event_buffer0, write)) &&
          (p2_38 && !bypass2_0 ==>
          acc(self_19_0.CDDC_output_event_buffer0p, write)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_output_event_buffer0), Event())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_output_event_buffer0p), Event()))) &&
          (p1_38 && !bypass1_0 && (p2_38 && !bypass2_0) ==>
          self_19.CDDC_output_event_buffer0 ==
          self_19_0.CDDC_output_event_buffer0p)
        invariant (p1_38 && !bypass1_0 ==>
          acc(self_19.CDDC_output_event_buffer1, write)) &&
          (p2_38 && !bypass2_0 ==>
          acc(self_19_0.CDDC_output_event_buffer1p, write)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_output_event_buffer1), Event())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_output_event_buffer1p), Event())))
        invariant (p1_38 && !bypass1_0 ==>
          acc(self_19.CDDC_compositor.Compositor_cursor_position, write)) &&
          (p2_38 && !bypass2_0 ==>
          acc(self_19_0.CDDC_compositorp.Compositor_cursor_positionp, write)) &&
          ((p1_38 && !bypass1_0 ==>
          issubtype(typeof(self_19.CDDC_compositor.Compositor_cursor_position),
          Event())) &&
          (p2_38 && !bypass2_0 ==>
          issubtype(typeof(self_19_0.CDDC_compositorp.Compositor_cursor_positionp),
          Event())))
        invariant bypass1_0 ==> tmp1_27 == temp
        invariant bypass2_0 ==> tmp2_27 == temp_0 
      {
        p1_44 := p1_38 && true
        p2_44 := p2_38 && true
        assert p1_44 && p2_44 ==>
          typeof(self_19.CDDC_hid_lock) == typeof(self_19_0.CDDC_hid_lockp)
        // Method call: Lock_acquire
  
        if (p1_44 || p2_44) {
          var tmp1_28: Ref
          var tmp2_28: Ref
          if (p1_44) {
            tmp1_28 := self_19.CDDC_hid_lock
          }
          if (p2_44) {
            tmp2_28 := self_19_0.CDDC_hid_lockp
          }
          Lock_acquire(p1_44, p2_44, tmp1_28, tmp2_28)
        }
        assert p1_44 && p2_44 ==>
          perm(Lock_invariant(self_19.CDDC_hid_lock)) >= write &&
          perm(Lock_invariant_0(self_19_0.CDDC_hid_lockp)) >= write ==>
          Lock_invariant_low(self_19.CDDC_hid_lock, self_19_0.CDDC_hid_lockp)
        if (p1_44) {
          unfold acc(Lock_invariant(self_19.CDDC_hid_lock), write)
        }
        if (p2_44) {
          unfold acc(Lock_invariant_0(self_19_0.CDDC_hid_lockp), write)
        }
        if (p1_44) {
          temp := self_19.CDDC_hid.HID_mouse_available
          inhale _isDefined(1886217588)
        }
        if (p2_44) {
          temp_0 := self_19_0.CDDC_hidp.HID_mouse_availablep
          inhale true
        }
        assert p1_44 && p2_44 ==>
          typeof(self_19.CDDC_hid_lock) == typeof(self_19_0.CDDC_hid_lockp)
        if (p1_44) {
          fold acc(Lock_invariant(self_19.CDDC_hid_lock), write)
        }
        if (p2_44) {
          fold acc(Lock_invariant_0(self_19_0.CDDC_hid_lockp), write)
        }
        assert p1_44 && p2_44 ==>
          Lock_invariant_low(self_19.CDDC_hid_lock, self_19_0.CDDC_hid_lockp)
        // Method call: Lock_release
  
        if (p1_44 || p2_44) {
          var tmp1_29: Ref
          var tmp2_29: Ref
          if (p1_44) {
            tmp1_29 := self_19.CDDC_hid_lock
          }
          if (p2_44) {
            tmp2_29 := self_19_0.CDDC_hid_lockp
          }
          Lock_release(p1_44, p2_44, tmp1_29, tmp2_29)
        }
        assert p1_44 && p2_44 ==>
          bool___unbox__(_checkDefined(temp, 1886217588)) ==
          bool___unbox__(temp_0)
        {
          var p1_45: Bool
          var p2_45: Bool
          var p3_37: Bool
          var p4_37: Bool
          p1_45 := p1_44 && bool___unbox__(_checkDefined(temp, 1886217588))
          p2_45 := p2_44 && bool___unbox__(temp_0)
          p3_37 := p1_44 &&
            !bool___unbox__(_checkDefined(temp, 1886217588))
          p4_37 := p2_44 && !bool___unbox__(temp_0)
          assert p1_45 && p2_45 ==> typeof(self_19) == typeof(self_19_0)
          // Method call: CDDC_switch_block_1
  
          if (p1_45 || p2_45) {
            var tmp1_30: Ref
            var tmp2_30: Ref
            if (p1_45) {
              tmp1_30 := self_19
            }
            if (p2_45) {
              tmp2_30 := self_19_0
            }
            CDDC_switch_block_1(p1_45, p2_45, tmp1_30, tmp2_30)
          }
        }
        assert p1_44 && p2_44 ==>
          typeof(self_19.CDDC_hid_lock) == typeof(self_19_0.CDDC_hid_lockp)
        // Method call: Lock_acquire
  
        if (p1_44 || p2_44) {
          var tmp1_31: Ref
          var tmp2_31: Ref
          if (p1_44) {
            tmp1_31 := self_19.CDDC_hid_lock
          }
          if (p2_44) {
            tmp2_31 := self_19_0.CDDC_hid_lockp
          }
          Lock_acquire(p1_44, p2_44, tmp1_31, tmp2_31)
        }
        assert p1_44 && p2_44 ==>
          perm(Lock_invariant(self_19.CDDC_hid_lock)) >= write &&
          perm(Lock_invariant_0(self_19_0.CDDC_hid_lockp)) >= write ==>
          Lock_invariant_low(self_19.CDDC_hid_lock, self_19_0.CDDC_hid_lockp)
        if (p1_44) {
          unfold acc(Lock_invariant(self_19.CDDC_hid_lock), write)
        }
        if (p2_44) {
          unfold acc(Lock_invariant_0(self_19_0.CDDC_hid_lockp), write)
        }
        if (p1_44) {
          temp := self_19.CDDC_hid.HID_keyboard_available
          inhale _isDefined(1886217588)
        }
        if (p2_44) {
          temp_0 := self_19_0.CDDC_hidp.HID_keyboard_availablep
          inhale true
        }
        assert p1_44 && p2_44 ==>
          typeof(self_19.CDDC_hid_lock) == typeof(self_19_0.CDDC_hid_lockp)
        if (p1_44) {
          fold acc(Lock_invariant(self_19.CDDC_hid_lock), write)
        }
        if (p2_44) {
          fold acc(Lock_invariant_0(self_19_0.CDDC_hid_lockp), write)
        }
        assert p1_44 && p2_44 ==>
          Lock_invariant_low(self_19.CDDC_hid_lock, self_19_0.CDDC_hid_lockp)
        // Method call: Lock_release
  
        if (p1_44 || p2_44) {
          var tmp1_32: Ref
          var tmp2_32: Ref
          if (p1_44) {
            tmp1_32 := self_19.CDDC_hid_lock
          }
          if (p2_44) {
            tmp2_32 := self_19_0.CDDC_hid_lockp
          }
          Lock_release(p1_44, p2_44, tmp1_32, tmp2_32)
        }
        assert p1_44 && p2_44 ==>
          bool___unbox__(_checkDefined(temp, 1886217588)) ==
          bool___unbox__(temp_0)
        {
          var p1_46: Bool
          var p2_46: Bool
          var p3_38: Bool
          var p4_38: Bool
          p1_46 := p1_44 && bool___unbox__(_checkDefined(temp, 1886217588))
          p2_46 := p2_44 && bool___unbox__(temp_0)
          p3_38 := p1_44 &&
            !bool___unbox__(_checkDefined(temp, 1886217588))
          p4_38 := p2_44 && !bool___unbox__(temp_0)
          {
            var p1_47: Bool
            var p2_47: Bool
            var p3_39: Bool
            var p4_39: Bool
            p1_47 := p1_46 &&
              perm(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027)) >
              none
            p2_47 := p2_46 &&
              perm(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027)) >
              none
            p3_39 := p1_46 &&
              !(perm(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027)) >
              none)
            p4_39 := p2_46 &&
              !(perm(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027)) >
              none)
            if (p1_47) {
              exhale acc(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027), write)
              inhale acc(self_19.CDDC_current_event_data, write)
            }
            if (p2_47) {
              exhale acc(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027), write)
              inhale acc(self_19_0.CDDC_current_event_datap, write)
            }
          }
          if (p1_46) {
            self_19.CDDC_current_event_data := box_Event_0(Event_EventNone())
          }
          if (p2_46) {
            self_19_0.CDDC_current_event_datap := box_Event_0(Event_EventNone())
          }
          {
            var p1_48: Bool
            var p2_48: Bool
            var p3_40: Bool
            var p4_40: Bool
            p1_48 := p1_46 &&
              perm(_MaySet(self_19.CDDC_hid, 37952967901293886354030931629961100037091928001759560)) >
              none
            p2_48 := p2_46 &&
              perm(_MaySet_0(self_19_0.CDDC_hidp, 37952967901293886354030931629961100037091928001759560)) >
              none
            p3_40 := p1_46 &&
              !(perm(_MaySet(self_19.CDDC_hid, 37952967901293886354030931629961100037091928001759560)) >
              none)
            p4_40 := p2_46 &&
              !(perm(_MaySet_0(self_19_0.CDDC_hidp, 37952967901293886354030931629961100037091928001759560)) >
              none)
            if (p1_48) {
              exhale acc(_MaySet(self_19.CDDC_hid, 37952967901293886354030931629961100037091928001759560), write)
              inhale acc(self_19.CDDC_hid.HID_current_event_type, write)
            }
            if (p2_48) {
              exhale acc(_MaySet_0(self_19_0.CDDC_hidp, 37952967901293886354030931629961100037091928001759560), write)
              inhale acc(self_19_0.CDDC_hidp.HID_current_event_typep, write)
            }
          }
          if (p1_46) {
            self_19.CDDC_hid.HID_current_event_type := box_EventType_0(EventType_EventTypeKeyboard())
          }
          if (p2_46) {
            self_19_0.CDDC_hidp.HID_current_event_typep := box_EventType_0(EventType_EventTypeKeyboard())
          }
          assert p1_46 && p2_46 ==>
            (self_19.CDDC_indicated_domain ==
            box_Domain_0(Domain_DomainHigh())) ==
            (self_19_0.CDDC_indicated_domainp ==
            box_Domain_0(Domain_DomainHigh()))
          {
            var p1_49: Bool
            var p2_49: Bool
            var p3_41: Bool
            var p4_41: Bool
            p1_49 := p1_46 &&
              self_19.CDDC_indicated_domain ==
              box_Domain_0(Domain_DomainHigh())
            p2_49 := p2_46 &&
              self_19_0.CDDC_indicated_domainp ==
              box_Domain_0(Domain_DomainHigh())
            p3_41 := p1_46 &&
              !(self_19.CDDC_indicated_domain ==
              box_Domain_0(Domain_DomainHigh()))
            p4_41 := p2_46 &&
              !(self_19_0.CDDC_indicated_domainp ==
              box_Domain_0(Domain_DomainHigh()))
            assert p1_49 && p2_49 ==>
              typeof(self_19.CDDC_hid_lock) ==
              typeof(self_19_0.CDDC_hid_lockp)
            // Method call: Lock_acquire
  
            if (p1_49 || p2_49) {
              var tmp1_33: Ref
              var tmp2_33: Ref
              if (p1_49) {
                tmp1_33 := self_19.CDDC_hid_lock
              }
              if (p2_49) {
                tmp2_33 := self_19_0.CDDC_hid_lockp
              }
              Lock_acquire(p1_49, p2_49, tmp1_33, tmp2_33)
            }
            assert p1_49 && p2_49 ==>
              perm(Lock_invariant(self_19.CDDC_hid_lock)) >= write &&
              perm(Lock_invariant_0(self_19_0.CDDC_hid_lockp)) >= write ==>
              Lock_invariant_low(self_19.CDDC_hid_lock, self_19_0.CDDC_hid_lockp)
            if (p1_49) {
              unfold acc(Lock_invariant(self_19.CDDC_hid_lock), write)
            }
            if (p2_49) {
              unfold acc(Lock_invariant_0(self_19_0.CDDC_hid_lockp), write)
            }
            {
              var p1_50: Bool
              var p2_50: Bool
              var p3_42: Bool
              var p4_42: Bool
              p1_50 := p1_49 &&
                perm(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027)) >
                none
              p2_50 := p2_49 &&
                perm(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027)) >
                none
              p3_42 := p1_49 &&
                !(perm(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027)) >
                none)
              p4_42 := p2_49 &&
                !(perm(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027)) >
                none)
              if (p1_50) {
                exhale acc(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027), write)
                inhale acc(self_19.CDDC_current_event_data, write)
              }
              if (p2_50) {
                exhale acc(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027), write)
                inhale acc(self_19_0.CDDC_current_event_datap, write)
              }
            }
            if (p1_49) {
              self_19.CDDC_current_event_data := self_19.CDDC_hid.HID_high_keyboard_source
            }
            if (p2_49) {
              self_19_0.CDDC_current_event_datap := self_19_0.CDDC_hidp.HID_high_keyboard_sourcep
            }
            assert p1_49 && p2_49 ==>
              typeof(self_19.CDDC_hid_lock) ==
              typeof(self_19_0.CDDC_hid_lockp)
            if (p1_49) {
              fold acc(Lock_invariant(self_19.CDDC_hid_lock), write)
            }
            if (p2_49) {
              fold acc(Lock_invariant_0(self_19_0.CDDC_hid_lockp), write)
            }
            assert p1_49 && p2_49 ==>
              Lock_invariant_low(self_19.CDDC_hid_lock, self_19_0.CDDC_hid_lockp)
            // Method call: Lock_release
  
            if (p1_49 || p2_49) {
              var tmp1_34: Ref
              var tmp2_34: Ref
              if (p1_49) {
                tmp1_34 := self_19.CDDC_hid_lock
              }
              if (p2_49) {
                tmp2_34 := self_19_0.CDDC_hid_lockp
              }
              Lock_release(p1_49, p2_49, tmp1_34, tmp2_34)
            }
            assert p3_41 && p4_41 ==>
              typeof(self_19.CDDC_hid_lock) ==
              typeof(self_19_0.CDDC_hid_lockp)
            // Method call: Lock_acquire
  
            if (p3_41 || p4_41) {
              var tmp1_35: Ref
              var tmp2_35: Ref
              if (p3_41) {
                tmp1_35 := self_19.CDDC_hid_lock
              }
              if (p4_41) {
                tmp2_35 := self_19_0.CDDC_hid_lockp
              }
              Lock_acquire(p3_41, p4_41, tmp1_35, tmp2_35)
            }
            assert p3_41 && p4_41 ==>
              perm(Lock_invariant(self_19.CDDC_hid_lock)) >= write &&
              perm(Lock_invariant_0(self_19_0.CDDC_hid_lockp)) >= write ==>
              Lock_invariant_low(self_19.CDDC_hid_lock, self_19_0.CDDC_hid_lockp)
            if (p3_41) {
              unfold acc(Lock_invariant(self_19.CDDC_hid_lock), write)
            }
            if (p4_41) {
              unfold acc(Lock_invariant_0(self_19_0.CDDC_hid_lockp), write)
            }
            {
              var p1_51: Bool
              var p2_51: Bool
              var p3_43: Bool
              var p4_43: Bool
              p1_51 := p3_41 &&
                perm(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027)) >
                none
              p2_51 := p4_41 &&
                perm(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027)) >
                none
              p3_43 := p3_41 &&
                !(perm(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027)) >
                none)
              p4_43 := p4_41 &&
                !(perm(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027)) >
                none)
              if (p1_51) {
                exhale acc(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027), write)
                inhale acc(self_19.CDDC_current_event_data, write)
              }
              if (p2_51) {
                exhale acc(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027), write)
                inhale acc(self_19_0.CDDC_current_event_datap, write)
              }
            }
            if (p3_41) {
              self_19.CDDC_current_event_data := self_19.CDDC_hid.HID_low_keyboard_source
            }
            if (p4_41) {
              self_19_0.CDDC_current_event_datap := self_19_0.CDDC_hidp.HID_low_keyboard_sourcep
            }
            assert p3_41 && p4_41 ==>
              typeof(self_19.CDDC_hid_lock) ==
              typeof(self_19_0.CDDC_hid_lockp)
            if (p3_41) {
              fold acc(Lock_invariant(self_19.CDDC_hid_lock), write)
            }
            if (p4_41) {
              fold acc(Lock_invariant_0(self_19_0.CDDC_hid_lockp), write)
            }
            assert p3_41 && p4_41 ==>
              Lock_invariant_low(self_19.CDDC_hid_lock, self_19_0.CDDC_hid_lockp)
            // Method call: Lock_release
  
            if (p3_41 || p4_41) {
              var tmp1_36: Ref
              var tmp2_36: Ref
              if (p3_41) {
                tmp1_36 := self_19.CDDC_hid_lock
              }
              if (p4_41) {
                tmp2_36 := self_19_0.CDDC_hid_lockp
              }
              Lock_release(p3_41, p4_41, tmp1_36, tmp2_36)
            }
          }
          assert p1_46 && p2_46 ==>
            (self_19.CDDC_active_domain == box_Domain_0(Domain_DomainLow())) ==
            (self_19_0.CDDC_active_domainp ==
            box_Domain_0(Domain_DomainLow()))
          {
            var p1_52: Bool
            var p2_52: Bool
            var p3_44: Bool
            var p4_44: Bool
            p1_52 := p1_46 &&
              self_19.CDDC_active_domain ==
              box_Domain_0(Domain_DomainLow())
            p2_52 := p2_46 &&
              self_19_0.CDDC_active_domainp ==
              box_Domain_0(Domain_DomainLow())
            p3_44 := p1_46 &&
              !(self_19.CDDC_active_domain ==
              box_Domain_0(Domain_DomainLow()))
            p4_44 := p2_46 &&
              !(self_19_0.CDDC_active_domainp ==
              box_Domain_0(Domain_DomainLow()))
            {
              var p1_53: Bool
              var p2_53: Bool
              var p3_45: Bool
              var p4_45: Bool
              p1_53 := p1_52 &&
                perm(_MaySet(self_19, 304105867355675840565973507356823656874680419636340114867267)) >
                none
              p2_53 := p2_52 &&
                perm(_MaySet_0(self_19_0, 304105867355675840565973507356823656874680419636340114867267)) >
                none
              p3_45 := p1_52 &&
                !(perm(_MaySet(self_19, 304105867355675840565973507356823656874680419636340114867267)) >
                none)
              p4_45 := p2_52 &&
                !(perm(_MaySet_0(self_19_0, 304105867355675840565973507356823656874680419636340114867267)) >
                none)
              if (p1_53) {
                exhale acc(_MaySet(self_19, 304105867355675840565973507356823656874680419636340114867267), write)
                inhale acc(self_19.CDDC_output_event_buffer0, write)
              }
              if (p2_53) {
                exhale acc(_MaySet_0(self_19_0, 304105867355675840565973507356823656874680419636340114867267), write)
                inhale acc(self_19_0.CDDC_output_event_buffer0p, write)
              }
            }
            if (p1_52) {
              self_19.CDDC_output_event_buffer0 := self_19.CDDC_current_event_data
            }
            if (p2_52) {
              self_19_0.CDDC_output_event_buffer0p := self_19_0.CDDC_current_event_datap
            }
            {
              var p1_54: Bool
              var p2_54: Bool
              var p3_46: Bool
              var p4_46: Bool
              p1_54 := p3_44 &&
                perm(_MaySet(self_19, 310382969091062521329809296780031323290782775080804149380163)) >
                none
              p2_54 := p4_44 &&
                perm(_MaySet_0(self_19_0, 310382969091062521329809296780031323290782775080804149380163)) >
                none
              p3_46 := p3_44 &&
                !(perm(_MaySet(self_19, 310382969091062521329809296780031323290782775080804149380163)) >
                none)
              p4_46 := p4_44 &&
                !(perm(_MaySet_0(self_19_0, 310382969091062521329809296780031323290782775080804149380163)) >
                none)
              if (p1_54) {
                exhale acc(_MaySet(self_19, 310382969091062521329809296780031323290782775080804149380163), write)
                inhale acc(self_19.CDDC_output_event_buffer1, write)
              }
              if (p2_54) {
                exhale acc(_MaySet_0(self_19_0, 310382969091062521329809296780031323290782775080804149380163), write)
                inhale acc(self_19_0.CDDC_output_event_buffer1p, write)
              }
            }
            if (p3_44) {
              self_19.CDDC_output_event_buffer1 := self_19.CDDC_current_event_data
            }
            if (p4_44) {
              self_19_0.CDDC_output_event_buffer1p := self_19_0.CDDC_current_event_datap
            }
          }
        }
        {
          var p1_55: Bool
          var p2_55: Bool
          var p3_47: Bool
          var p4_47: Bool
          p1_55 := p1_44 &&
            perm(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027)) >
            none
          p2_55 := p2_44 &&
            perm(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027)) >
            none
          p3_47 := p1_44 &&
            !(perm(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027)) >
            none)
          p4_47 := p2_44 &&
            !(perm(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027)) >
            none)
          if (p1_55) {
            exhale acc(_MaySet(self_19, 9334297307808241261779103037584878551842815991934633027), write)
            inhale acc(self_19.CDDC_current_event_data, write)
          }
          if (p2_55) {
            exhale acc(_MaySet_0(self_19_0, 9334297307808241261779103037584878551842815991934633027), write)
            inhale acc(self_19_0.CDDC_current_event_datap, write)
          }
        }
        if (p1_44) {
          self_19.CDDC_current_event_data := box_Event_0(Event_EventNone())
        }
        if (p2_44) {
          self_19_0.CDDC_current_event_datap := box_Event_0(Event_EventNone())
        }
        {
          var p1_56: Bool
          var p2_56: Bool
          var p3_48: Bool
          var p4_48: Bool
          p1_56 := p1_44 &&
            perm(_MaySet(self_19.CDDC_hid, 37952967901293886354030931629961100037091928001759560)) >
            none
          p2_56 := p2_44 &&
            perm(_MaySet_0(self_19_0.CDDC_hidp, 37952967901293886354030931629961100037091928001759560)) >
            none
          p3_48 := p1_44 &&
            !(perm(_MaySet(self_19.CDDC_hid, 37952967901293886354030931629961100037091928001759560)) >
            none)
          p4_48 := p2_44 &&
            !(perm(_MaySet_0(self_19_0.CDDC_hidp, 37952967901293886354030931629961100037091928001759560)) >
            none)
          if (p1_56) {
            exhale acc(_MaySet(self_19.CDDC_hid, 37952967901293886354030931629961100037091928001759560), write)
            inhale acc(self_19.CDDC_hid.HID_current_event_type, write)
          }
          if (p2_56) {
            exhale acc(_MaySet_0(self_19_0.CDDC_hidp, 37952967901293886354030931629961100037091928001759560), write)
            inhale acc(self_19_0.CDDC_hidp.HID_current_event_typep, write)
          }
        }
        if (p1_44) {
          self_19.CDDC_hid.HID_current_event_type := box_EventType_0(EventType_EventTypeNone())
        }
        if (p2_44) {
          self_19_0.CDDC_hidp.HID_current_event_typep := box_EventType_0(EventType_EventTypeNone())
        }
      }
    }
    exhale true
  }
}

method CDDC_switch_block_1(p1_57: Bool, p2_57: Bool, self_8: Ref, self_8_0: Ref)
  requires (p1_57 ==> issubtype(typeof(self_8), CDDC())) &&
    (p2_57 ==> issubtype(typeof(self_8_0), CDDC()))
  requires (p1_57 ==> self_8 != null) && (p2_57 ==> self_8_0 != null)
  requires (p1_57 ==> acc(self_8.CDDC_hid, 1 / 4)) &&
    (p2_57 ==> acc(self_8_0.CDDC_hidp, 1 / 4)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_hid), HID())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_hidp), HID()))) &&
    ((p1_57 ==> acc(self_8.CDDC_hid_lock, 1 / 4)) &&
    (p2_57 ==> acc(self_8_0.CDDC_hid_lockp, 1 / 4)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_hid_lock), HIDLock())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_hid_lockp), HIDLock()))) &&
    ((p1_57 ==> Lock_get_locked(self_8.CDDC_hid_lock) == self_8.CDDC_hid) &&
    (p2_57 ==>
    Lock_get_locked(self_8_0.CDDC_hid_lockp) == self_8_0.CDDC_hidp) &&
    (p1_57 && p2_57 ==> self_8.CDDC_hid_lock == self_8_0.CDDC_hid_lockp)))
  requires (p1_57 ==> acc(self_8.CDDC_overlay, 1 / 4)) &&
    (p2_57 ==> acc(self_8_0.CDDC_overlayp, 1 / 4)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_overlay), RPCOverlay())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_overlayp), RPCOverlay()))) &&
    ((p1_57 ==> acc(self_8.CDDC_overlay_lock, 1 / 4)) &&
    (p2_57 ==> acc(self_8_0.CDDC_overlay_lockp, 1 / 4)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_overlay_lock), RPCOverlayLock())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_overlay_lockp), RPCOverlayLock()))) &&
    ((p1_57 ==>
    Lock_get_locked(self_8.CDDC_overlay_lock) == self_8.CDDC_overlay) &&
    (p2_57 ==>
    Lock_get_locked(self_8_0.CDDC_overlay_lockp) == self_8_0.CDDC_overlayp) &&
    (p1_57 && p2_57 ==>
    self_8.CDDC_overlay_lock == self_8_0.CDDC_overlay_lockp)))
  requires (p1_57 ==> acc(self_8.CDDC_compositor, 1 / 4)) &&
    (p2_57 ==> acc(self_8_0.CDDC_compositorp, 1 / 4)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_compositor), Compositor())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_compositorp), Compositor()))) &&
    ((p1_57 ==> acc(self_8.CDDC_compositor_lock, 1 / 4)) &&
    (p2_57 ==> acc(self_8_0.CDDC_compositor_lockp, 1 / 4)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_compositor_lock), CompositorLock())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_compositor_lockp), CompositorLock()))) &&
    ((p1_57 ==>
    Lock_get_locked(self_8.CDDC_compositor_lock) == self_8.CDDC_compositor) &&
    (p2_57 ==>
    Lock_get_locked(self_8_0.CDDC_compositor_lockp) ==
    self_8_0.CDDC_compositorp) &&
    (p1_57 && p2_57 ==>
    self_8.CDDC_compositor_lock == self_8_0.CDDC_compositor_lockp)))
  requires (p1_57 ==> acc(self_8.CDDC_overlay_result, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_overlay_resultp, write)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_overlay_result), Domain())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_overlay_resultp), Domain()))) &&
    (p1_57 && p2_57 ==>
    self_8.CDDC_overlay_result == self_8_0.CDDC_overlay_resultp)
  requires (p1_57 ==> acc(self_8.CDDC_switch_state_mouse_down, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_switch_state_mouse_downp, write)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_switch_state_mouse_down), bool())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_switch_state_mouse_downp), bool()))) &&
    (p1_57 && p2_57 ==>
    self_8.CDDC_switch_state_mouse_down ==
    self_8_0.CDDC_switch_state_mouse_downp)
  requires (p1_57 ==> acc(self_8.CDDC_current_event_data, 1 / 2)) &&
    (p2_57 ==> acc(self_8_0.CDDC_current_event_datap, 1 / 2)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_current_event_data), Event())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_current_event_datap), Event()))) &&
    (p1_57 && p2_57 ==>
    self_8.CDDC_current_event_data == self_8_0.CDDC_current_event_datap)
  requires (p1_57 ==> acc(self_8.CDDC_active_domain, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_active_domainp, write)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_active_domain), Domain())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_active_domainp), Domain()))) &&
    (p1_57 && p2_57 ==>
    self_8.CDDC_active_domain == self_8_0.CDDC_active_domainp)
  requires (p1_57 ==> acc(self_8.CDDC_indicated_domain, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_indicated_domainp, write)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_indicated_domain), Domain())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_indicated_domainp), Domain()))) &&
    ((p1_57 ==> self_8.CDDC_indicated_domain == self_8.CDDC_active_domain) &&
    (p2_57 ==>
    self_8_0.CDDC_indicated_domainp == self_8_0.CDDC_active_domainp))
  requires (p1_57 ==> acc(self_8.CDDC_hid.HID_current_event_type, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_hidp.HID_current_event_typep, write)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_hid.HID_current_event_type), EventType())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_hidp.HID_current_event_typep), EventType()))) &&
    (p1_57 && p2_57 ==>
    self_8.CDDC_hid.HID_current_event_type ==
    self_8_0.CDDC_hidp.HID_current_event_typep)
  requires (p1_57 ==> acc(self_8.CDDC_output_event_buffer0, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_output_event_buffer0p, write)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_output_event_buffer0), Event())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_output_event_buffer0p), Event()))) &&
    (p1_57 && p2_57 ==>
    self_8.CDDC_output_event_buffer0 == self_8_0.CDDC_output_event_buffer0p)
  requires (p1_57 ==> acc(self_8.CDDC_output_event_buffer1, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_output_event_buffer1p, write)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_output_event_buffer1), Event())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_output_event_buffer1p), Event())))
  requires (p1_57 ==>
    acc(self_8.CDDC_compositor.Compositor_cursor_position, write)) &&
    (p2_57 ==>
    acc(self_8_0.CDDC_compositorp.Compositor_cursor_positionp, write)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_compositor.Compositor_cursor_position), Event())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_compositorp.Compositor_cursor_positionp),
    Event())))
  ensures (p1_57 ==> acc(self_8.CDDC_hid, 1 / 4)) &&
    (p2_57 ==> acc(self_8_0.CDDC_hidp, 1 / 4)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_hid), HID())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_hidp), HID()))) &&
    ((p1_57 ==> acc(self_8.CDDC_hid_lock, 1 / 4)) &&
    (p2_57 ==> acc(self_8_0.CDDC_hid_lockp, 1 / 4)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_hid_lock), HIDLock())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_hid_lockp), HIDLock()))))
  ensures (p1_57 ==> acc(self_8.CDDC_overlay, 1 / 4)) &&
    (p2_57 ==> acc(self_8_0.CDDC_overlayp, 1 / 4)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_overlay), RPCOverlay())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_overlayp), RPCOverlay()))) &&
    ((p1_57 ==> acc(self_8.CDDC_overlay_lock, 1 / 4)) &&
    (p2_57 ==> acc(self_8_0.CDDC_overlay_lockp, 1 / 4)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_overlay_lock), RPCOverlayLock())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_overlay_lockp), RPCOverlayLock()))))
  ensures (p1_57 ==> acc(self_8.CDDC_compositor, 1 / 4)) &&
    (p2_57 ==> acc(self_8_0.CDDC_compositorp, 1 / 4)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_compositor), Compositor())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_compositorp), Compositor()))) &&
    ((p1_57 ==> acc(self_8.CDDC_compositor_lock, 1 / 4)) &&
    (p2_57 ==> acc(self_8_0.CDDC_compositor_lockp, 1 / 4)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_compositor_lock), CompositorLock())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_compositor_lockp), CompositorLock()))))
  ensures (p1_57 ==> acc(self_8.CDDC_overlay_result, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_overlay_resultp, write)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_overlay_result), Domain())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_overlay_resultp), Domain()))) &&
    [p1_57 && p2_57 ==>
    typeof(self_8) == typeof(self_8_0) ==>
    self_8.CDDC_overlay_result == self_8_0.CDDC_overlay_resultp,
    p1_57 && p2_57 ==>
    self_8.CDDC_overlay_result == self_8_0.CDDC_overlay_resultp]
  ensures (p1_57 ==> acc(self_8.CDDC_switch_state_mouse_down, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_switch_state_mouse_downp, write)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_switch_state_mouse_down), bool())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_switch_state_mouse_downp), bool()))) &&
    [p1_57 && p2_57 ==>
    typeof(self_8) == typeof(self_8_0) ==>
    self_8.CDDC_switch_state_mouse_down ==
    self_8_0.CDDC_switch_state_mouse_downp,
    p1_57 && p2_57 ==>
    self_8.CDDC_switch_state_mouse_down ==
    self_8_0.CDDC_switch_state_mouse_downp]
  ensures (p1_57 ==> acc(self_8.CDDC_current_event_data, 1 / 2)) &&
    (p2_57 ==> acc(self_8_0.CDDC_current_event_datap, 1 / 2)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_current_event_data), Event())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_current_event_datap), Event())))
  ensures (p1_57 ==> acc(self_8.CDDC_active_domain, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_active_domainp, write)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_active_domain), Domain())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_active_domainp), Domain()))) &&
    [p1_57 && p2_57 ==>
    typeof(self_8) == typeof(self_8_0) ==>
    self_8.CDDC_active_domain == self_8_0.CDDC_active_domainp,
    p1_57 && p2_57 ==>
    self_8.CDDC_active_domain == self_8_0.CDDC_active_domainp]
  ensures (p1_57 ==> acc(self_8.CDDC_indicated_domain, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_indicated_domainp, write)) &&
    ((p1_57 ==> issubtype(typeof(self_8.CDDC_indicated_domain), Domain())) &&
    (p2_57 ==> issubtype(typeof(self_8_0.CDDC_indicated_domainp), Domain()))) &&
    ((p1_57 ==> self_8.CDDC_indicated_domain == self_8.CDDC_active_domain) &&
    (p2_57 ==>
    self_8_0.CDDC_indicated_domainp == self_8_0.CDDC_active_domainp))
  ensures (p1_57 ==> acc(self_8.CDDC_hid.HID_current_event_type, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_hidp.HID_current_event_typep, write)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_hid.HID_current_event_type), EventType())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_hidp.HID_current_event_typep), EventType()))) &&
    [p1_57 && p2_57 ==>
    typeof(self_8) == typeof(self_8_0) ==>
    self_8.CDDC_hid.HID_current_event_type ==
    self_8_0.CDDC_hidp.HID_current_event_typep,
    p1_57 && p2_57 ==>
    self_8.CDDC_hid.HID_current_event_type ==
    self_8_0.CDDC_hidp.HID_current_event_typep]
  ensures (p1_57 ==> acc(self_8.CDDC_output_event_buffer0, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_output_event_buffer0p, write)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_output_event_buffer0), Event())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_output_event_buffer0p), Event()))) &&
    [p1_57 && p2_57 ==>
    typeof(self_8) == typeof(self_8_0) ==>
    self_8.CDDC_output_event_buffer0 == self_8_0.CDDC_output_event_buffer0p,
    p1_57 && p2_57 ==>
    self_8.CDDC_output_event_buffer0 == self_8_0.CDDC_output_event_buffer0p]
  ensures (p1_57 ==> acc(self_8.CDDC_output_event_buffer1, write)) &&
    (p2_57 ==> acc(self_8_0.CDDC_output_event_buffer1p, write)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_output_event_buffer1), Event())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_output_event_buffer1p), Event())))
  ensures (p1_57 ==>
    acc(self_8.CDDC_compositor.Compositor_cursor_position, write)) &&
    (p2_57 ==>
    acc(self_8_0.CDDC_compositorp.Compositor_cursor_positionp, write)) &&
    ((p1_57 ==>
    issubtype(typeof(self_8.CDDC_compositor.Compositor_cursor_position), Event())) &&
    (p2_57 ==>
    issubtype(typeof(self_8_0.CDDC_compositorp.Compositor_cursor_positionp),
    Event())))
{
  inhale p1_57
  {
    var _err: Ref
    var _err_6: Ref
    var cursor_domain: Ref
    var cursor_domain_0: Ref
    var source: Ref
    var source_0: Ref
    var done_rpc: Ref
    var done_rpc_0: Ref
    var self_20: Ref
    var self_20_0: Ref
    var _loop_check_before_1: Bool
    var _loop_check_before_1_0: Bool
    var _loop_termination_flag_1: Bool
    var _loop_termination_flag_1_0: Bool
    var _loop_original_must_terminate_1: Perm
    var _loop_original_must_terminate_1_0: Perm
    var _residue_172: Perm
    var _residue_172_0: Perm
    if (p1_57) {
      inhale typeof(self_8) == CDDC()
      _err := null
      self_20 := self_8
      cursor_domain := box_Domain_0(Domain_DomainInvalid())
      inhale _isDefined(8747711585197588836858555692387)
    }
    if (p2_57) {
      inhale typeof(self_8_0) == CDDC()
      _err_6 := null
      self_20_0 := self_8_0
      cursor_domain_0 := box_Domain_0(Domain_DomainInvalid())
      inhale true
    }
    {
      var p1_58: Bool
      var p2_58: Bool
      var p3_49: Bool
      var p4_49: Bool
      p1_58 := p1_57 &&
        perm(_MaySet(self_20.CDDC_hid, 37952967901293886354030931629961100037091928001759560)) >
        none
      p2_58 := p2_57 &&
        perm(_MaySet_0(self_20_0.CDDC_hidp, 37952967901293886354030931629961100037091928001759560)) >
        none
      p3_49 := p1_57 &&
        !(perm(_MaySet(self_20.CDDC_hid, 37952967901293886354030931629961100037091928001759560)) >
        none)
      p4_49 := p2_57 &&
        !(perm(_MaySet_0(self_20_0.CDDC_hidp, 37952967901293886354030931629961100037091928001759560)) >
        none)
      if (p1_58) {
        exhale acc(_MaySet(self_20.CDDC_hid, 37952967901293886354030931629961100037091928001759560), write)
        inhale acc(self_20.CDDC_hid.HID_current_event_type, write)
      }
      if (p2_58) {
        exhale acc(_MaySet_0(self_20_0.CDDC_hidp, 37952967901293886354030931629961100037091928001759560), write)
        inhale acc(self_20_0.CDDC_hidp.HID_current_event_typep, write)
      }
    }
    if (p1_57) {
      self_20.CDDC_hid.HID_current_event_type := box_EventType_0(EventType_EventTypeMouse())
    }
    if (p2_57) {
      self_20_0.CDDC_hidp.HID_current_event_typep := box_EventType_0(EventType_EventTypeMouse())
    }
    assert p1_57 && p2_57 ==>
      typeof(self_20.CDDC_hid_lock) == typeof(self_20_0.CDDC_hid_lockp)
    // Method call: Lock_acquire
  
    if (p1_57 || p2_57) {
      var tmp1_37: Ref
      var tmp2_37: Ref
      if (p1_57) {
        tmp1_37 := self_20.CDDC_hid_lock
      }
      if (p2_57) {
        tmp2_37 := self_20_0.CDDC_hid_lockp
      }
      Lock_acquire(p1_57, p2_57, tmp1_37, tmp2_37)
    }
    assert p1_57 && p2_57 ==>
      perm(Lock_invariant(self_20.CDDC_hid_lock)) >= write &&
      perm(Lock_invariant_0(self_20_0.CDDC_hid_lockp)) >= write ==>
      Lock_invariant_low(self_20.CDDC_hid_lock, self_20_0.CDDC_hid_lockp)
    if (p1_57) {
      unfold acc(Lock_invariant(self_20.CDDC_hid_lock), write)
    }
    if (p2_57) {
      unfold acc(Lock_invariant_0(self_20_0.CDDC_hid_lockp), write)
    }
    if (p1_57) {
      source := self_20.CDDC_hid.HID_mouse_source
      inhale _isDefined(111477796466547)
    }
    if (p2_57) {
      source_0 := self_20_0.CDDC_hidp.HID_mouse_sourcep
      inhale true
    }
    assert p1_57 && p2_57 ==>
      typeof(self_20.CDDC_hid_lock) == typeof(self_20_0.CDDC_hid_lockp)
    if (p1_57) {
      fold acc(Lock_invariant(self_20.CDDC_hid_lock), write)
    }
    if (p2_57) {
      fold acc(Lock_invariant_0(self_20_0.CDDC_hid_lockp), write)
    }
    assert p1_57 && p2_57 ==>
      Lock_invariant_low(self_20.CDDC_hid_lock, self_20_0.CDDC_hid_lockp)
    // Method call: Lock_release
  
    if (p1_57 || p2_57) {
      var tmp1_38: Ref
      var tmp2_38: Ref
      if (p1_57) {
        tmp1_38 := self_20.CDDC_hid_lock
      }
      if (p2_57) {
        tmp2_38 := self_20_0.CDDC_hid_lockp
      }
      Lock_release(p1_57, p2_57, tmp1_38, tmp2_38)
    }
    assert p1_57 && p2_57 ==>
      typeof(self_20.CDDC_overlay_lock) ==
      typeof(self_20_0.CDDC_overlay_lockp)
    // Method call: Lock_acquire
  
    if (p1_57 || p2_57) {
      var tmp1_39: Ref
      var tmp2_39: Ref
      if (p1_57) {
        tmp1_39 := self_20.CDDC_overlay_lock
      }
      if (p2_57) {
        tmp2_39 := self_20_0.CDDC_overlay_lockp
      }
      Lock_acquire(p1_57, p2_57, tmp1_39, tmp2_39)
    }
    assert p1_57 && p2_57 ==>
      perm(Lock_invariant(self_20.CDDC_overlay_lock)) >= write &&
      perm(Lock_invariant_0(self_20_0.CDDC_overlay_lockp)) >= write ==>
      Lock_invariant_low(self_20.CDDC_overlay_lock, self_20_0.CDDC_overlay_lockp)
    if (p1_57) {
      unfold acc(Lock_invariant(self_20.CDDC_overlay_lock), write)
    }
    if (p2_57) {
      unfold acc(Lock_invariant_0(self_20_0.CDDC_overlay_lockp), write)
    }
    {
      var p1_59: Bool
      var p2_59: Bool
      var p3_50: Bool
      var p4_50: Bool
      p1_59 := p1_57 &&
        perm(_MaySet(self_20.CDDC_overlay, 166232595728960521111654492215077213197211092495095425057116242)) >
        none
      p2_59 := p2_57 &&
        perm(_MaySet_0(self_20_0.CDDC_overlayp, 166232595728960521111654492215077213197211092495095425057116242)) >
        none
      p3_50 := p1_57 &&
        !(perm(_MaySet(self_20.CDDC_overlay, 166232595728960521111654492215077213197211092495095425057116242)) >
        none)
      p4_50 := p2_57 &&
        !(perm(_MaySet_0(self_20_0.CDDC_overlayp, 166232595728960521111654492215077213197211092495095425057116242)) >
        none)
      if (p1_59) {
        exhale acc(_MaySet(self_20.CDDC_overlay, 166232595728960521111654492215077213197211092495095425057116242), write)
        inhale acc(self_20.CDDC_overlay.RPCOverlay_mouse_click_arg, write)
      }
      if (p2_59) {
        exhale acc(_MaySet_0(self_20_0.CDDC_overlayp, 166232595728960521111654492215077213197211092495095425057116242), write)
        inhale acc(self_20_0.CDDC_overlayp.RPCOverlay_mouse_click_argp, write)
      }
    }
    if (p1_57) {
      self_20.CDDC_overlay.RPCOverlay_mouse_click_arg := _checkDefined(source,
        111477796466547)
    }
    if (p2_57) {
      self_20_0.CDDC_overlayp.RPCOverlay_mouse_click_argp := source_0
    }
    {
      var p1_60: Bool
      var p2_60: Bool
      var p3_51: Bool
      var p4_51: Bool
      p1_60 := p1_57 &&
        perm(_MaySet(self_20.CDDC_overlay, 44602783671933174344808990490772156999224510615327761720934617170)) >
        none
      p2_60 := p2_57 &&
        perm(_MaySet_0(self_20_0.CDDC_overlayp, 44602783671933174344808990490772156999224510615327761720934617170)) >
        none
      p3_51 := p1_57 &&
        !(perm(_MaySet(self_20.CDDC_overlay, 44602783671933174344808990490772156999224510615327761720934617170)) >
        none)
      p4_51 := p2_57 &&
        !(perm(_MaySet_0(self_20_0.CDDC_overlayp, 44602783671933174344808990490772156999224510615327761720934617170)) >
        none)
      if (p1_60) {
        exhale acc(_MaySet(self_20.CDDC_overlay, 44602783671933174344808990490772156999224510615327761720934617170), write)
        inhale acc(self_20.CDDC_overlay.RPCOverlay_mouse_click_call, write)
      }
      if (p2_60) {
        exhale acc(_MaySet_0(self_20_0.CDDC_overlayp, 44602783671933174344808990490772156999224510615327761720934617170), write)
        inhale acc(self_20_0.CDDC_overlayp.RPCOverlay_mouse_click_callp, write)
      }
    }
    if (p1_57) {
      self_20.CDDC_overlay.RPCOverlay_mouse_click_call := __prim__bool___box__(true)
    }
    if (p2_57) {
      self_20_0.CDDC_overlayp.RPCOverlay_mouse_click_callp := __prim__bool___box__(true)
    }
    assert p1_57 && p2_57 ==>
      typeof(self_20.CDDC_overlay_lock) ==
      typeof(self_20_0.CDDC_overlay_lockp)
    if (p1_57) {
      fold acc(Lock_invariant(self_20.CDDC_overlay_lock), write)
    }
    if (p2_57) {
      fold acc(Lock_invariant_0(self_20_0.CDDC_overlay_lockp), write)
    }
    assert p1_57 && p2_57 ==>
      Lock_invariant_low(self_20.CDDC_overlay_lock, self_20_0.CDDC_overlay_lockp)
    // Method call: Lock_release
  
    if (p1_57 || p2_57) {
      var tmp1_40: Ref
      var tmp2_40: Ref
      if (p1_57) {
        tmp1_40 := self_20.CDDC_overlay_lock
      }
      if (p2_57) {
        tmp2_40 := self_20_0.CDDC_overlay_lockp
      }
      Lock_release(p1_57, p2_57, tmp1_40, tmp2_40)
    }
    if (p1_57) {
      done_rpc := __prim__bool___box__(false)
      inhale _isDefined(7165352761195655012)
    }
    if (p2_57) {
      done_rpc_0 := __prim__bool___box__(false)
      inhale true
    }
    {
      var p1_61: Bool
      var p2_61: Bool
      var p3_52: Bool
      var p4_52: Bool
      p1_61 := p1_57 &&
        perm(_MaySet(self_20, 11633484844293793001571653564355113879164306050779675472945177969731)) >
        none
      p2_61 := p2_57 &&
        perm(_MaySet_0(self_20_0, 11633484844293793001571653564355113879164306050779675472945177969731)) >
        none
      p3_52 := p1_57 &&
        !(perm(_MaySet(self_20, 11633484844293793001571653564355113879164306050779675472945177969731)) >
        none)
      p4_52 := p2_57 &&
        !(perm(_MaySet_0(self_20_0, 11633484844293793001571653564355113879164306050779675472945177969731)) >
        none)
      if (p1_61) {
        exhale acc(_MaySet(self_20, 11633484844293793001571653564355113879164306050779675472945177969731), write)
        inhale acc(self_20.CDDC_switch_state_mouse_down, write)
      }
      if (p2_61) {
        exhale acc(_MaySet_0(self_20_0, 11633484844293793001571653564355113879164306050779675472945177969731), write)
        inhale acc(self_20_0.CDDC_switch_state_mouse_downp, write)
      }
    }
    if (p1_57) {
      self_20.CDDC_switch_state_mouse_down := __prim__bool___box__(false)
    }
    if (p2_57) {
      self_20_0.CDDC_switch_state_mouse_downp := __prim__bool___box__(false)
    }
    assert p1_57 && p2_57 ==>
      !bool___unbox__(_checkDefined(done_rpc, 7165352761195655012)) ==
      !bool___unbox__(done_rpc_0)
    {
      var bypass1_1: Bool
      var bypass2_1: Bool
      var tmp1_41: Ref
      var tmp2_41: Ref
      var p1_62: Bool
      var p2_62: Bool
      bypass1_1 := !p1_57
      bypass2_1 := !p2_57
      if (bypass1_1) {
        tmp1_41 := done_rpc
      }
      if (bypass2_1) {
        tmp2_41 := done_rpc_0
      }
      while (p1_57 && !bypass1_1 &&
      !bool___unbox__(_checkDefined(done_rpc, 7165352761195655012)) ||
      p2_57 && !bypass2_1 && !bool___unbox__(done_rpc_0))
        invariant (p1_57 && !bypass1_1 ==>
          issubtype(typeof(done_rpc), bool())) &&
          (p2_57 && !bypass2_1 ==> issubtype(typeof(done_rpc_0), bool()))
        invariant (p1_57 && !bypass1_1 ==> acc(self_20.CDDC_overlay, 1 / 8)) &&
          (p2_57 && !bypass2_1 ==> acc(self_20_0.CDDC_overlayp, 1 / 8)) &&
          ((p1_57 && !bypass1_1 ==>
          issubtype(typeof(self_20.CDDC_overlay), RPCOverlay())) &&
          (p2_57 && !bypass2_1 ==>
          issubtype(typeof(self_20_0.CDDC_overlayp), RPCOverlay()))) &&
          ((p1_57 && !bypass1_1 ==> acc(self_20.CDDC_overlay_lock, 1 / 8)) &&
          (p2_57 && !bypass2_1 ==> acc(self_20_0.CDDC_overlay_lockp, 1 / 8)) &&
          ((p1_57 && !bypass1_1 ==>
          issubtype(typeof(self_20.CDDC_overlay_lock), RPCOverlayLock())) &&
          (p2_57 && !bypass2_1 ==>
          issubtype(typeof(self_20_0.CDDC_overlay_lockp), RPCOverlayLock()))) &&
          ((p1_57 && !bypass1_1 ==>
          Lock_get_locked(self_20.CDDC_overlay_lock) ==
          self_20.CDDC_overlay) &&
          (p2_57 && !bypass2_1 ==>
          Lock_get_locked(self_20_0.CDDC_overlay_lockp) ==
          self_20_0.CDDC_overlayp) &&
          (p1_57 && !bypass1_1 && (p2_57 && !bypass2_1) ==>
          self_20.CDDC_overlay_lock == self_20_0.CDDC_overlay_lockp)))
        invariant (p1_57 && !bypass1_1 && (p2_57 && !bypass2_1) ==>
          _checkDefined(done_rpc, 7165352761195655012) == done_rpc_0) &&
          ((p1_57 && !bypass1_1 ==> acc(self_20.CDDC_overlay_result, write)) &&
          (p2_57 && !bypass2_1 ==>
          acc(self_20_0.CDDC_overlay_resultp, write)) &&
          ((p1_57 && !bypass1_1 ==>
          issubtype(typeof(self_20.CDDC_overlay_result), Domain())) &&
          (p2_57 && !bypass2_1 ==>
          issubtype(typeof(self_20_0.CDDC_overlay_resultp), Domain()))) &&
          (p1_57 && !bypass1_1 && (p2_57 && !bypass2_1) ==>
          self_20.CDDC_overlay_result == self_20_0.CDDC_overlay_resultp))
        invariant bypass1_1 ==> tmp1_41 == done_rpc
        invariant bypass2_1 ==> tmp2_41 == done_rpc_0 
      {
        p1_62 := p1_57 &&
          !bool___unbox__(_checkDefined(done_rpc, 7165352761195655012))
        p2_62 := p2_57 && !bool___unbox__(done_rpc_0)
        assert p1_62 && p2_62 ==>
          typeof(self_20.CDDC_overlay_lock) ==
          typeof(self_20_0.CDDC_overlay_lockp)
        // Method call: Lock_acquire
  
        if (p1_62 || p2_62) {
          var tmp1_42: Ref
          var tmp2_42: Ref
          if (p1_62) {
            tmp1_42 := self_20.CDDC_overlay_lock
          }
          if (p2_62) {
            tmp2_42 := self_20_0.CDDC_overlay_lockp
          }
          Lock_acquire(p1_62, p2_62, tmp1_42, tmp2_42)
        }
        assert p1_62 && p2_62 ==>
          perm(Lock_invariant(self_20.CDDC_overlay_lock)) >= write &&
          perm(Lock_invariant_0(self_20_0.CDDC_overlay_lockp)) >= write ==>
          Lock_invariant_low(self_20.CDDC_overlay_lock, self_20_0.CDDC_overlay_lockp)
        if (p1_62) {
          unfold acc(Lock_invariant(self_20.CDDC_overlay_lock), write)
        }
        if (p2_62) {
          unfold acc(Lock_invariant_0(self_20_0.CDDC_overlay_lockp), write)
        }
        assert p1_62 && p2_62 ==>
          !bool___unbox__(self_20.CDDC_overlay.RPCOverlay_mouse_click_call) ==
          !bool___unbox__(self_20_0.CDDC_overlayp.RPCOverlay_mouse_click_callp)
        {
          var p1_63: Bool
          var p2_63: Bool
          var p3_53: Bool
          var p4_53: Bool
          p1_63 := p1_62 &&
            !bool___unbox__(self_20.CDDC_overlay.RPCOverlay_mouse_click_call)
          p2_63 := p2_62 &&
            !bool___unbox__(self_20_0.CDDC_overlayp.RPCOverlay_mouse_click_callp)
          p3_53 := p1_62 &&
            !!bool___unbox__(self_20.CDDC_overlay.RPCOverlay_mouse_click_call)
          p4_53 := p2_62 &&
            !!bool___unbox__(self_20_0.CDDC_overlayp.RPCOverlay_mouse_click_callp)
          {
            var p1_64: Bool
            var p2_64: Bool
            var p3_54: Bool
            var p4_54: Bool
            p1_64 := p1_63 &&
              perm(_MaySet(self_20, 2596334536335073397769266154267846584138220611)) >
              none
            p2_64 := p2_63 &&
              perm(_MaySet_0(self_20_0, 2596334536335073397769266154267846584138220611)) >
              none
            p3_54 := p1_63 &&
              !(perm(_MaySet(self_20, 2596334536335073397769266154267846584138220611)) >
              none)
            p4_54 := p2_63 &&
              !(perm(_MaySet_0(self_20_0, 2596334536335073397769266154267846584138220611)) >
              none)
            if (p1_64) {
              exhale acc(_MaySet(self_20, 2596334536335073397769266154267846584138220611), write)
              inhale acc(self_20.CDDC_overlay_result, write)
            }
            if (p2_64) {
              exhale acc(_MaySet_0(self_20_0, 2596334536335073397769266154267846584138220611), write)
              inhale acc(self_20_0.CDDC_overlay_resultp, write)
            }
          }
          if (p1_63) {
            self_20.CDDC_overlay_result := self_20.CDDC_overlay.RPCOverlay_mouse_click_ret
          }
          if (p2_63) {
            self_20_0.CDDC_overlay_resultp := self_20_0.CDDC_overlayp.RPCOverlay_mouse_click_retp
          }
          if (p1_63) {
            done_rpc := __prim__bool___box__(true)
            inhale _isDefined(7165352761195655012)
          }
          if (p2_63) {
            done_rpc_0 := __prim__bool___box__(true)
            inhale true
          }
        }
        assert p1_62 && p2_62 ==>
          typeof(self_20.CDDC_overlay_lock) ==
          typeof(self_20_0.CDDC_overlay_lockp)
        if (p1_62) {
          fold acc(Lock_invariant(self_20.CDDC_overlay_lock), write)
        }
        if (p2_62) {
          fold acc(Lock_invariant_0(self_20_0.CDDC_overlay_lockp), write)
        }
        assert p1_62 && p2_62 ==>
          Lock_invariant_low(self_20.CDDC_overlay_lock, self_20_0.CDDC_overlay_lockp)
        // Method call: Lock_release
  
        if (p1_62 || p2_62) {
          var tmp1_43: Ref
          var tmp2_43: Ref
          if (p1_62) {
            tmp1_43 := self_20.CDDC_overlay_lock
          }
          if (p2_62) {
            tmp2_43 := self_20_0.CDDC_overlay_lockp
          }
          Lock_release(p1_62, p2_62, tmp1_43, tmp2_43)
        }
      }
    }
    assert p1_57 && p2_57 ==>
      (self_20.CDDC_overlay_result != box_Domain_0(Domain_DomainInvalid())) ==
      (self_20_0.CDDC_overlay_resultp !=
      box_Domain_0(Domain_DomainInvalid()))
    {
      var p1_65: Bool
      var p2_65: Bool
      var p3_55: Bool
      var p4_55: Bool
      p1_65 := p1_57 &&
        self_20.CDDC_overlay_result != box_Domain_0(Domain_DomainInvalid())
      p2_65 := p2_57 &&
        self_20_0.CDDC_overlay_resultp !=
        box_Domain_0(Domain_DomainInvalid())
      p3_55 := p1_57 &&
        !(self_20.CDDC_overlay_result !=
        box_Domain_0(Domain_DomainInvalid()))
      p4_55 := p2_57 &&
        !(self_20_0.CDDC_overlay_resultp !=
        box_Domain_0(Domain_DomainInvalid()))
      if (p1_65) {
        cursor_domain := box_Domain_0(Domain_DomainOverlay())
        inhale _isDefined(8747711585197588836858555692387)
      }
      if (p2_65) {
        cursor_domain_0 := box_Domain_0(Domain_DomainOverlay())
        inhale true
      }
      {
        var p1_66: Bool
        var p2_66: Bool
        var p3_56: Bool
        var p4_56: Bool
        p1_66 := p3_55 &&
          perm(_MaySet(self_20.CDDC_compositor, 177462528903672050749099223360140326816612648766056190433914691)) >
          none
        p2_66 := p4_55 &&
          perm(_MaySet_0(self_20_0.CDDC_compositorp, 177462528903672050749099223360140326816612648766056190433914691)) >
          none
        p3_56 := p3_55 &&
          !(perm(_MaySet(self_20.CDDC_compositor, 177462528903672050749099223360140326816612648766056190433914691)) >
          none)
        p4_56 := p4_55 &&
          !(perm(_MaySet_0(self_20_0.CDDC_compositorp, 177462528903672050749099223360140326816612648766056190433914691)) >
          none)
        if (p1_66) {
          exhale acc(_MaySet(self_20.CDDC_compositor, 177462528903672050749099223360140326816612648766056190433914691), write)
          inhale acc(self_20.CDDC_compositor.Compositor_cursor_position, write)
        }
        if (p2_66) {
          exhale acc(_MaySet_0(self_20_0.CDDC_compositorp, 177462528903672050749099223360140326816612648766056190433914691), write)
          inhale acc(self_20_0.CDDC_compositorp.Compositor_cursor_positionp, write)
        }
      }
      if (p3_55) {
        self_20.CDDC_compositor.Compositor_cursor_position := self_20.CDDC_current_event_data
      }
      if (p4_55) {
        self_20_0.CDDC_compositorp.Compositor_cursor_positionp := self_20_0.CDDC_current_event_datap
      }
      assert p3_55 && p4_55 ==>
        typeof(self_20.CDDC_compositor_lock) ==
        typeof(self_20_0.CDDC_compositor_lockp)
      // Method call: Lock_acquire
  
      if (p3_55 || p4_55) {
        var tmp1_44: Ref
        var tmp2_44: Ref
        if (p3_55) {
          tmp1_44 := self_20.CDDC_compositor_lock
        }
        if (p4_55) {
          tmp2_44 := self_20_0.CDDC_compositor_lockp
        }
        Lock_acquire(p3_55, p4_55, tmp1_44, tmp2_44)
      }
      assert p3_55 && p4_55 ==>
        perm(Lock_invariant(self_20.CDDC_compositor_lock)) >= write &&
        perm(Lock_invariant_0(self_20_0.CDDC_compositor_lockp)) >= write ==>
        Lock_invariant_low(self_20.CDDC_compositor_lock, self_20_0.CDDC_compositor_lockp)
      if (p3_55) {
        unfold acc(Lock_invariant(self_20.CDDC_compositor_lock), write)
      }
      if (p4_55) {
        unfold acc(Lock_invariant_0(self_20_0.CDDC_compositor_lockp), write)
      }
      if (p3_55) {
        cursor_domain := self_20.CDDC_compositor.Compositor_domain_under_cursor
        inhale _isDefined(8747711585197588836858555692387)
      }
      if (p4_55) {
        cursor_domain_0 := self_20_0.CDDC_compositorp.Compositor_domain_under_cursorp
        inhale true
      }
      assert p3_55 && p4_55 ==>
        typeof(self_20.CDDC_compositor_lock) ==
        typeof(self_20_0.CDDC_compositor_lockp)
      if (p3_55) {
        fold acc(Lock_invariant(self_20.CDDC_compositor_lock), write)
      }
      if (p4_55) {
        fold acc(Lock_invariant_0(self_20_0.CDDC_compositor_lockp), write)
      }
      assert p3_55 && p4_55 ==>
        Lock_invariant_low(self_20.CDDC_compositor_lock, self_20_0.CDDC_compositor_lockp)
      // Method call: Lock_release
  
      if (p3_55 || p4_55) {
        var tmp1_45: Ref
        var tmp2_45: Ref
        if (p3_55) {
          tmp1_45 := self_20.CDDC_compositor_lock
        }
        if (p4_55) {
          tmp2_45 := self_20_0.CDDC_compositor_lockp
        }
        Lock_release(p3_55, p4_55, tmp1_45, tmp2_45)
      }
      assert p3_55 && p4_55 ==>
        (_checkDefined(cursor_domain, 8747711585197588836858555692387) ==
        box_Domain_0(Domain_DomainInvalid())) ==
        (cursor_domain_0 == box_Domain_0(Domain_DomainInvalid()))
      {
        var p1_67: Bool
        var p2_67: Bool
        var p3_57: Bool
        var p4_57: Bool
        p1_67 := p3_55 &&
          _checkDefined(cursor_domain, 8747711585197588836858555692387) ==
          box_Domain_0(Domain_DomainInvalid())
        p2_67 := p4_55 &&
          cursor_domain_0 == box_Domain_0(Domain_DomainInvalid())
        p3_57 := p3_55 &&
          !(_checkDefined(cursor_domain, 8747711585197588836858555692387) ==
          box_Domain_0(Domain_DomainInvalid()))
        p4_57 := p4_55 &&
          !(cursor_domain_0 == box_Domain_0(Domain_DomainInvalid()))
        if (p1_67) {
          cursor_domain := self_20.CDDC_active_domain
          inhale _isDefined(8747711585197588836858555692387)
        }
        if (p2_67) {
          cursor_domain_0 := self_20_0.CDDC_active_domainp
          inhale true
        }
      }
    }
    assert p1_57 && p2_57 ==>
      (_checkDefined(cursor_domain, 8747711585197588836858555692387) ==
      box_Domain_0(Domain_DomainOverlay())) ==
      (cursor_domain_0 == box_Domain_0(Domain_DomainOverlay()))
    {
      var p1_68: Bool
      var p2_68: Bool
      var p3_58: Bool
      var p4_58: Bool
      p1_68 := p1_57 &&
        _checkDefined(cursor_domain, 8747711585197588836858555692387) ==
        box_Domain_0(Domain_DomainOverlay())
      p2_68 := p2_57 &&
        cursor_domain_0 == box_Domain_0(Domain_DomainOverlay())
      p3_58 := p1_57 &&
        !(_checkDefined(cursor_domain, 8747711585197588836858555692387) ==
        box_Domain_0(Domain_DomainOverlay()))
      p4_58 := p2_57 &&
        !(cursor_domain_0 == box_Domain_0(Domain_DomainOverlay()))
      assert p1_68 && p2_68 ==>
        (self_20.CDDC_overlay_result !=
        box_Domain_0(Domain_DomainOverlay())) ==
        (self_20_0.CDDC_overlay_resultp !=
        box_Domain_0(Domain_DomainOverlay()))
      {
        var p1_69: Bool
        var p2_69: Bool
        var p3_59: Bool
        var p4_59: Bool
        p1_69 := p1_68 &&
          self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainOverlay())
        p2_69 := p2_68 &&
          self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainOverlay())
        p3_59 := p1_68 &&
          !(self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainOverlay()))
        p4_59 := p2_68 &&
          !(self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainOverlay()))
        assert p1_69 && p2_69 ==>
          (self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainInvalid())) ==
          (self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainInvalid()))
      }
      {
        var p1_70: Bool
        var p2_70: Bool
        var p3_60: Bool
        var p4_60: Bool
        p1_70 := p1_68 &&
          (self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainOverlay()) &&
          self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainInvalid()))
        p2_70 := p2_68 &&
          (self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainOverlay()) &&
          self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainInvalid()))
        p3_60 := p1_68 &&
          !(self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainOverlay()) &&
          self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainInvalid()))
        p4_60 := p2_68 &&
          !(self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainOverlay()) &&
          self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainInvalid()))
        assert p1_70 && p2_70 ==>
          (self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown())) ==
          (self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()))
      }
      {
        var p1_71: Bool
        var p2_71: Bool
        var p3_61: Bool
        var p4_61: Bool
        p1_71 := p1_68 &&
          (self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainOverlay()) &&
          (self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainInvalid()) &&
          self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown())))
        p2_71 := p2_68 &&
          (self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainOverlay()) &&
          (self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainInvalid()) &&
          self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown())))
        p3_61 := p1_68 &&
          !(self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainOverlay()) &&
          (self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainInvalid()) &&
          self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown())))
        p4_61 := p2_68 &&
          !(self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainOverlay()) &&
          (self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainInvalid()) &&
          self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown())))
        assert p1_71 && p2_71 ==>
          !bool___unbox__(self_20.CDDC_switch_state_mouse_down) ==
          !bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp)
      }
      {
        var p1_72: Bool
        var p2_72: Bool
        var p3_62: Bool
        var p4_62: Bool
        p1_72 := p1_68 &&
          (self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainOverlay()) &&
          (self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainInvalid()) &&
          (self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown()) &&
          !bool___unbox__(self_20.CDDC_switch_state_mouse_down))))
        p2_72 := p2_68 &&
          (self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainOverlay()) &&
          (self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainInvalid()) &&
          (self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()) &&
          !bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp))))
        p3_62 := p1_68 &&
          !(self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainOverlay()) &&
          (self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainInvalid()) &&
          (self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown()) &&
          !bool___unbox__(self_20.CDDC_switch_state_mouse_down))))
        p4_62 := p2_68 &&
          !(self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainOverlay()) &&
          (self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainInvalid()) &&
          (self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()) &&
          !bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp))))
        assert p1_72 && p2_72 ==>
          (self_20.CDDC_overlay_result != self_20.CDDC_active_domain) ==
          (self_20_0.CDDC_overlay_resultp != self_20_0.CDDC_active_domainp)
      }
      assert p1_68 && p2_68 ==>
        (self_20.CDDC_overlay_result !=
        box_Domain_0(Domain_DomainOverlay()) &&
        (self_20.CDDC_overlay_result !=
        box_Domain_0(Domain_DomainInvalid()) &&
        (self_20.CDDC_current_event_data ==
        box_Event_0(Event_EventMouseDown()) &&
        (!bool___unbox__(self_20.CDDC_switch_state_mouse_down) &&
        self_20.CDDC_overlay_result != self_20.CDDC_active_domain)))) ==
        (self_20_0.CDDC_overlay_resultp !=
        box_Domain_0(Domain_DomainOverlay()) &&
        (self_20_0.CDDC_overlay_resultp !=
        box_Domain_0(Domain_DomainInvalid()) &&
        (self_20_0.CDDC_current_event_datap ==
        box_Event_0(Event_EventMouseDown()) &&
        (!bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp) &&
        self_20_0.CDDC_overlay_resultp != self_20_0.CDDC_active_domainp))))
      {
        var p1_73: Bool
        var p2_73: Bool
        var p3_63: Bool
        var p4_63: Bool
        p1_73 := p1_68 &&
          (self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainOverlay()) &&
          (self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainInvalid()) &&
          (self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown()) &&
          (!bool___unbox__(self_20.CDDC_switch_state_mouse_down) &&
          self_20.CDDC_overlay_result != self_20.CDDC_active_domain))))
        p2_73 := p2_68 &&
          (self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainOverlay()) &&
          (self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainInvalid()) &&
          (self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()) &&
          (!bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp) &&
          self_20_0.CDDC_overlay_resultp != self_20_0.CDDC_active_domainp))))
        p3_63 := p1_68 &&
          !(self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainOverlay()) &&
          (self_20.CDDC_overlay_result !=
          box_Domain_0(Domain_DomainInvalid()) &&
          (self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown()) &&
          (!bool___unbox__(self_20.CDDC_switch_state_mouse_down) &&
          self_20.CDDC_overlay_result != self_20.CDDC_active_domain))))
        p4_63 := p2_68 &&
          !(self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainOverlay()) &&
          (self_20_0.CDDC_overlay_resultp !=
          box_Domain_0(Domain_DomainInvalid()) &&
          (self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()) &&
          (!bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp) &&
          self_20_0.CDDC_overlay_resultp != self_20_0.CDDC_active_domainp))))
        {
          var p1_74: Bool
          var p2_74: Bool
          var p3_64: Bool
          var p4_64: Bool
          p1_74 := p1_73 &&
            perm(_MaySet(self_20, 9618210604355574192921553657604800872989763)) >
            none
          p2_74 := p2_73 &&
            perm(_MaySet_0(self_20_0, 9618210604355574192921553657604800872989763)) >
            none
          p3_64 := p1_73 &&
            !(perm(_MaySet(self_20, 9618210604355574192921553657604800872989763)) >
            none)
          p4_64 := p2_73 &&
            !(perm(_MaySet_0(self_20_0, 9618210604355574192921553657604800872989763)) >
            none)
          if (p1_74) {
            exhale acc(_MaySet(self_20, 9618210604355574192921553657604800872989763), write)
            inhale acc(self_20.CDDC_active_domain, write)
          }
          if (p2_74) {
            exhale acc(_MaySet_0(self_20_0, 9618210604355574192921553657604800872989763), write)
            inhale acc(self_20_0.CDDC_active_domainp, write)
          }
        }
        if (p1_73) {
          self_20.CDDC_active_domain := self_20.CDDC_overlay_result
        }
        if (p2_73) {
          self_20_0.CDDC_active_domainp := self_20_0.CDDC_overlay_resultp
        }
        {
          var p1_75: Bool
          var p2_75: Bool
          var p3_65: Bool
          var p4_65: Bool
          p1_75 := p1_73 &&
            perm(_MaySet(self_20, 161366796842764009017044669768497031222683737801795)) >
            none
          p2_75 := p2_73 &&
            perm(_MaySet_0(self_20_0, 161366796842764009017044669768497031222683737801795)) >
            none
          p3_65 := p1_73 &&
            !(perm(_MaySet(self_20, 161366796842764009017044669768497031222683737801795)) >
            none)
          p4_65 := p2_73 &&
            !(perm(_MaySet_0(self_20_0, 161366796842764009017044669768497031222683737801795)) >
            none)
          if (p1_75) {
            exhale acc(_MaySet(self_20, 161366796842764009017044669768497031222683737801795), write)
            inhale acc(self_20.CDDC_indicated_domain, write)
          }
          if (p2_75) {
            exhale acc(_MaySet_0(self_20_0, 161366796842764009017044669768497031222683737801795), write)
            inhale acc(self_20_0.CDDC_indicated_domainp, write)
          }
        }
        if (p1_73) {
          self_20.CDDC_indicated_domain := self_20.CDDC_active_domain
        }
        if (p2_73) {
          self_20_0.CDDC_indicated_domainp := self_20_0.CDDC_active_domainp
        }
      }
      assert p3_58 && p4_58 ==>
        (self_20.CDDC_current_event_data ==
        box_Event_0(Event_EventMouseDown())) ==
        (self_20_0.CDDC_current_event_datap ==
        box_Event_0(Event_EventMouseDown()))
      {
        var p1_76: Bool
        var p2_76: Bool
        var p3_66: Bool
        var p4_66: Bool
        p1_76 := p3_58 &&
          self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown())
        p2_76 := p4_58 &&
          self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown())
        p3_66 := p3_58 &&
          !(self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown()))
        p4_66 := p4_58 &&
          !(self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()))
        assert p1_76 && p2_76 ==>
          !bool___unbox__(self_20.CDDC_switch_state_mouse_down) ==
          !bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp)
      }
      {
        var p1_77: Bool
        var p2_77: Bool
        var p3_67: Bool
        var p4_67: Bool
        p1_77 := p3_58 &&
          (self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown()) &&
          !bool___unbox__(self_20.CDDC_switch_state_mouse_down))
        p2_77 := p4_58 &&
          (self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()) &&
          !bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp))
        p3_67 := p3_58 &&
          !(self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown()) &&
          !bool___unbox__(self_20.CDDC_switch_state_mouse_down))
        p4_67 := p4_58 &&
          !(self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()) &&
          !bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp))
        assert p1_77 && p2_77 ==>
          (_checkDefined(cursor_domain, 8747711585197588836858555692387) !=
          self_20.CDDC_active_domain) ==
          (cursor_domain_0 != self_20_0.CDDC_active_domainp)
      }
      assert p3_58 && p4_58 ==>
        (self_20.CDDC_current_event_data ==
        box_Event_0(Event_EventMouseDown()) &&
        (!bool___unbox__(self_20.CDDC_switch_state_mouse_down) &&
        _checkDefined(cursor_domain, 8747711585197588836858555692387) !=
        self_20.CDDC_active_domain)) ==
        (self_20_0.CDDC_current_event_datap ==
        box_Event_0(Event_EventMouseDown()) &&
        (!bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp) &&
        cursor_domain_0 != self_20_0.CDDC_active_domainp))
      {
        var p1_78: Bool
        var p2_78: Bool
        var p3_68: Bool
        var p4_68: Bool
        p1_78 := p3_58 &&
          (self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown()) &&
          (!bool___unbox__(self_20.CDDC_switch_state_mouse_down) &&
          _checkDefined(cursor_domain, 8747711585197588836858555692387) !=
          self_20.CDDC_active_domain))
        p2_78 := p4_58 &&
          (self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()) &&
          (!bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp) &&
          cursor_domain_0 != self_20_0.CDDC_active_domainp))
        p3_68 := p3_58 &&
          !(self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown()) &&
          (!bool___unbox__(self_20.CDDC_switch_state_mouse_down) &&
          _checkDefined(cursor_domain, 8747711585197588836858555692387) !=
          self_20.CDDC_active_domain))
        p4_68 := p4_58 &&
          !(self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()) &&
          (!bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp) &&
          cursor_domain_0 != self_20_0.CDDC_active_domainp))
        {
          var p1_79: Bool
          var p2_79: Bool
          var p3_69: Bool
          var p4_69: Bool
          p1_79 := p1_78 &&
            perm(_MaySet(self_20, 9618210604355574192921553657604800872989763)) >
            none
          p2_79 := p2_78 &&
            perm(_MaySet_0(self_20_0, 9618210604355574192921553657604800872989763)) >
            none
          p3_69 := p1_78 &&
            !(perm(_MaySet(self_20, 9618210604355574192921553657604800872989763)) >
            none)
          p4_69 := p2_78 &&
            !(perm(_MaySet_0(self_20_0, 9618210604355574192921553657604800872989763)) >
            none)
          if (p1_79) {
            exhale acc(_MaySet(self_20, 9618210604355574192921553657604800872989763), write)
            inhale acc(self_20.CDDC_active_domain, write)
          }
          if (p2_79) {
            exhale acc(_MaySet_0(self_20_0, 9618210604355574192921553657604800872989763), write)
            inhale acc(self_20_0.CDDC_active_domainp, write)
          }
        }
        if (p1_78) {
          self_20.CDDC_active_domain := _checkDefined(cursor_domain, 8747711585197588836858555692387)
        }
        if (p2_78) {
          self_20_0.CDDC_active_domainp := cursor_domain_0
        }
        {
          var p1_80: Bool
          var p2_80: Bool
          var p3_70: Bool
          var p4_70: Bool
          p1_80 := p1_78 &&
            perm(_MaySet(self_20, 161366796842764009017044669768497031222683737801795)) >
            none
          p2_80 := p2_78 &&
            perm(_MaySet_0(self_20_0, 161366796842764009017044669768497031222683737801795)) >
            none
          p3_70 := p1_78 &&
            !(perm(_MaySet(self_20, 161366796842764009017044669768497031222683737801795)) >
            none)
          p4_70 := p2_78 &&
            !(perm(_MaySet_0(self_20_0, 161366796842764009017044669768497031222683737801795)) >
            none)
          if (p1_80) {
            exhale acc(_MaySet(self_20, 161366796842764009017044669768497031222683737801795), write)
            inhale acc(self_20.CDDC_indicated_domain, write)
          }
          if (p2_80) {
            exhale acc(_MaySet_0(self_20_0, 161366796842764009017044669768497031222683737801795), write)
            inhale acc(self_20_0.CDDC_indicated_domainp, write)
          }
        }
        if (p1_78) {
          self_20.CDDC_indicated_domain := self_20.CDDC_active_domain
        }
        if (p2_78) {
          self_20_0.CDDC_indicated_domainp := self_20_0.CDDC_active_domainp
        }
      }
      assert p3_58 && p4_58 ==>
        bool___unbox__(self_20.CDDC_switch_state_mouse_down) ==
        bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp)
      {
        var p1_81: Bool
        var p2_81: Bool
        var p3_71: Bool
        var p4_71: Bool
        p1_81 := p3_58 &&
          !bool___unbox__(self_20.CDDC_switch_state_mouse_down)
        p2_81 := p4_58 &&
          !bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp)
        p3_71 := p3_58 &&
          !!bool___unbox__(self_20.CDDC_switch_state_mouse_down)
        p4_71 := p4_58 &&
          !!bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp)
        assert p1_81 && p2_81 ==>
          (self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown())) ==
          (self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()))
      }
      assert p3_58 && p4_58 ==>
        (bool___unbox__(self_20.CDDC_switch_state_mouse_down) ||
        self_20.CDDC_current_event_data ==
        box_Event_0(Event_EventMouseDown())) ==
        (bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp) ||
        self_20_0.CDDC_current_event_datap ==
        box_Event_0(Event_EventMouseDown()))
      {
        var p1_82: Bool
        var p2_82: Bool
        var p3_72: Bool
        var p4_72: Bool
        p1_82 := p3_58 &&
          (bool___unbox__(self_20.CDDC_switch_state_mouse_down) ||
          self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown()))
        p2_82 := p4_58 &&
          (bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp) ||
          self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()))
        p3_72 := p3_58 &&
          !(bool___unbox__(self_20.CDDC_switch_state_mouse_down) ||
          self_20.CDDC_current_event_data ==
          box_Event_0(Event_EventMouseDown()))
        p4_72 := p4_58 &&
          !(bool___unbox__(self_20_0.CDDC_switch_state_mouse_downp) ||
          self_20_0.CDDC_current_event_datap ==
          box_Event_0(Event_EventMouseDown()))
        assert p1_82 && p2_82 ==>
          (self_20.CDDC_active_domain == box_Domain_0(Domain_DomainLow())) ==
          (self_20_0.CDDC_active_domainp ==
          box_Domain_0(Domain_DomainLow()))
        {
          var p1_83: Bool
          var p2_83: Bool
          var p3_73: Bool
          var p4_73: Bool
          p1_83 := p1_82 &&
            self_20.CDDC_active_domain == box_Domain_0(Domain_DomainLow())
          p2_83 := p2_82 &&
            self_20_0.CDDC_active_domainp ==
            box_Domain_0(Domain_DomainLow())
          p3_73 := p1_82 &&
            !(self_20.CDDC_active_domain ==
            box_Domain_0(Domain_DomainLow()))
          p4_73 := p2_82 &&
            !(self_20_0.CDDC_active_domainp ==
            box_Domain_0(Domain_DomainLow()))
          {
            var p1_84: Bool
            var p2_84: Bool
            var p3_74: Bool
            var p4_74: Bool
            p1_84 := p1_83 &&
              perm(_MaySet(self_20, 304105867355675840565973507356823656874680419636340114867267)) >
              none
            p2_84 := p2_83 &&
              perm(_MaySet_0(self_20_0, 304105867355675840565973507356823656874680419636340114867267)) >
              none
            p3_74 := p1_83 &&
              !(perm(_MaySet(self_20, 304105867355675840565973507356823656874680419636340114867267)) >
              none)
            p4_74 := p2_83 &&
              !(perm(_MaySet_0(self_20_0, 304105867355675840565973507356823656874680419636340114867267)) >
              none)
            if (p1_84) {
              exhale acc(_MaySet(self_20, 304105867355675840565973507356823656874680419636340114867267), write)
              inhale acc(self_20.CDDC_output_event_buffer0, write)
            }
            if (p2_84) {
              exhale acc(_MaySet_0(self_20_0, 304105867355675840565973507356823656874680419636340114867267), write)
              inhale acc(self_20_0.CDDC_output_event_buffer0p, write)
            }
          }
          if (p1_83) {
            self_20.CDDC_output_event_buffer0 := self_20.CDDC_current_event_data
          }
          if (p2_83) {
            self_20_0.CDDC_output_event_buffer0p := self_20_0.CDDC_current_event_datap
          }
          {
            var p1_85: Bool
            var p2_85: Bool
            var p3_75: Bool
            var p4_75: Bool
            p1_85 := p3_73 &&
              perm(_MaySet(self_20, 310382969091062521329809296780031323290782775080804149380163)) >
              none
            p2_85 := p4_73 &&
              perm(_MaySet_0(self_20_0, 310382969091062521329809296780031323290782775080804149380163)) >
              none
            p3_75 := p3_73 &&
              !(perm(_MaySet(self_20, 310382969091062521329809296780031323290782775080804149380163)) >
              none)
            p4_75 := p4_73 &&
              !(perm(_MaySet_0(self_20_0, 310382969091062521329809296780031323290782775080804149380163)) >
              none)
            if (p1_85) {
              exhale acc(_MaySet(self_20, 310382969091062521329809296780031323290782775080804149380163), write)
              inhale acc(self_20.CDDC_output_event_buffer1, write)
            }
            if (p2_85) {
              exhale acc(_MaySet_0(self_20_0, 310382969091062521329809296780031323290782775080804149380163), write)
              inhale acc(self_20_0.CDDC_output_event_buffer1p, write)
            }
          }
          if (p3_73) {
            self_20.CDDC_output_event_buffer1 := self_20.CDDC_current_event_data
          }
          if (p4_73) {
            self_20_0.CDDC_output_event_buffer1p := self_20_0.CDDC_current_event_datap
          }
        }
        assert p3_72 && p4_72 ==>
          (_checkDefined(cursor_domain, 8747711585197588836858555692387) ==
          box_Domain_0(Domain_DomainLow())) ==
          (cursor_domain_0 == box_Domain_0(Domain_DomainLow()))
        {
          var p1_86: Bool
          var p2_86: Bool
          var p3_76: Bool
          var p4_76: Bool
          p1_86 := p3_72 &&
            _checkDefined(cursor_domain, 8747711585197588836858555692387) ==
            box_Domain_0(Domain_DomainLow())
          p2_86 := p4_72 &&
            cursor_domain_0 == box_Domain_0(Domain_DomainLow())
          p3_76 := p3_72 &&
            !(_checkDefined(cursor_domain, 8747711585197588836858555692387) ==
            box_Domain_0(Domain_DomainLow()))
          p4_76 := p4_72 &&
            !(cursor_domain_0 == box_Domain_0(Domain_DomainLow()))
          {
            var p1_87: Bool
            var p2_87: Bool
            var p3_77: Bool
            var p4_77: Bool
            p1_87 := p1_86 &&
              perm(_MaySet(self_20, 304105867355675840565973507356823656874680419636340114867267)) >
              none
            p2_87 := p2_86 &&
              perm(_MaySet_0(self_20_0, 304105867355675840565973507356823656874680419636340114867267)) >
              none
            p3_77 := p1_86 &&
              !(perm(_MaySet(self_20, 304105867355675840565973507356823656874680419636340114867267)) >
              none)
            p4_77 := p2_86 &&
              !(perm(_MaySet_0(self_20_0, 304105867355675840565973507356823656874680419636340114867267)) >
              none)
            if (p1_87) {
              exhale acc(_MaySet(self_20, 304105867355675840565973507356823656874680419636340114867267), write)
              inhale acc(self_20.CDDC_output_event_buffer0, write)
            }
            if (p2_87) {
              exhale acc(_MaySet_0(self_20_0, 304105867355675840565973507356823656874680419636340114867267), write)
              inhale acc(self_20_0.CDDC_output_event_buffer0p, write)
            }
          }
          if (p1_86) {
            self_20.CDDC_output_event_buffer0 := self_20.CDDC_current_event_data
          }
          if (p2_86) {
            self_20_0.CDDC_output_event_buffer0p := self_20_0.CDDC_current_event_datap
          }
          {
            var p1_88: Bool
            var p2_88: Bool
            var p3_78: Bool
            var p4_78: Bool
            p1_88 := p3_76 &&
              perm(_MaySet(self_20, 310382969091062521329809296780031323290782775080804149380163)) >
              none
            p2_88 := p4_76 &&
              perm(_MaySet_0(self_20_0, 310382969091062521329809296780031323290782775080804149380163)) >
              none
            p3_78 := p3_76 &&
              !(perm(_MaySet(self_20, 310382969091062521329809296780031323290782775080804149380163)) >
              none)
            p4_78 := p4_76 &&
              !(perm(_MaySet_0(self_20_0, 310382969091062521329809296780031323290782775080804149380163)) >
              none)
            if (p1_88) {
              exhale acc(_MaySet(self_20, 310382969091062521329809296780031323290782775080804149380163), write)
              inhale acc(self_20.CDDC_output_event_buffer1, write)
            }
            if (p2_88) {
              exhale acc(_MaySet_0(self_20_0, 310382969091062521329809296780031323290782775080804149380163), write)
              inhale acc(self_20_0.CDDC_output_event_buffer1p, write)
            }
          }
          if (p3_76) {
            self_20.CDDC_output_event_buffer1 := self_20.CDDC_current_event_data
          }
          if (p4_76) {
            self_20_0.CDDC_output_event_buffer1p := self_20_0.CDDC_current_event_datap
          }
        }
      }
    }
    assert p1_57 && p2_57 ==>
      (self_20.CDDC_current_event_data ==
      box_Event_0(Event_EventMouseDown())) ==
      (self_20_0.CDDC_current_event_datap ==
      box_Event_0(Event_EventMouseDown()))
    {
      var p1_89: Bool
      var p2_89: Bool
      var p3_79: Bool
      var p4_79: Bool
      p1_89 := p1_57 &&
        self_20.CDDC_current_event_data ==
        box_Event_0(Event_EventMouseDown())
      p2_89 := p2_57 &&
        self_20_0.CDDC_current_event_datap ==
        box_Event_0(Event_EventMouseDown())
      p3_79 := p1_57 &&
        !(self_20.CDDC_current_event_data ==
        box_Event_0(Event_EventMouseDown()))
      p4_79 := p2_57 &&
        !(self_20_0.CDDC_current_event_datap ==
        box_Event_0(Event_EventMouseDown()))
      {
        var p1_90: Bool
        var p2_90: Bool
        var p3_80: Bool
        var p4_80: Bool
        p1_90 := p1_89 &&
          perm(_MaySet(self_20, 11633484844293793001571653564355113879164306050779675472945177969731)) >
          none
        p2_90 := p2_89 &&
          perm(_MaySet_0(self_20_0, 11633484844293793001571653564355113879164306050779675472945177969731)) >
          none
        p3_80 := p1_89 &&
          !(perm(_MaySet(self_20, 11633484844293793001571653564355113879164306050779675472945177969731)) >
          none)
        p4_80 := p2_89 &&
          !(perm(_MaySet_0(self_20_0, 11633484844293793001571653564355113879164306050779675472945177969731)) >
          none)
        if (p1_90) {
          exhale acc(_MaySet(self_20, 11633484844293793001571653564355113879164306050779675472945177969731), write)
          inhale acc(self_20.CDDC_switch_state_mouse_down, write)
        }
        if (p2_90) {
          exhale acc(_MaySet_0(self_20_0, 11633484844293793001571653564355113879164306050779675472945177969731), write)
          inhale acc(self_20_0.CDDC_switch_state_mouse_downp, write)
        }
      }
      if (p1_89) {
        self_20.CDDC_switch_state_mouse_down := __prim__bool___box__(true)
      }
      if (p2_89) {
        self_20_0.CDDC_switch_state_mouse_downp := __prim__bool___box__(true)
      }
      {
        var p1_91: Bool
        var p2_91: Bool
        var p3_81: Bool
        var p4_81: Bool
        p1_91 := p3_79 &&
          perm(_MaySet(self_20, 11633484844293793001571653564355113879164306050779675472945177969731)) >
          none
        p2_91 := p4_79 &&
          perm(_MaySet_0(self_20_0, 11633484844293793001571653564355113879164306050779675472945177969731)) >
          none
        p3_81 := p3_79 &&
          !(perm(_MaySet(self_20, 11633484844293793001571653564355113879164306050779675472945177969731)) >
          none)
        p4_81 := p4_79 &&
          !(perm(_MaySet_0(self_20_0, 11633484844293793001571653564355113879164306050779675472945177969731)) >
          none)
        if (p1_91) {
          exhale acc(_MaySet(self_20, 11633484844293793001571653564355113879164306050779675472945177969731), write)
          inhale acc(self_20.CDDC_switch_state_mouse_down, write)
        }
        if (p2_91) {
          exhale acc(_MaySet_0(self_20_0, 11633484844293793001571653564355113879164306050779675472945177969731), write)
          inhale acc(self_20_0.CDDC_switch_state_mouse_downp, write)
        }
      }
      if (p3_79) {
        self_20.CDDC_switch_state_mouse_down := __prim__bool___box__(false)
      }
      if (p4_79) {
        self_20_0.CDDC_switch_state_mouse_downp := __prim__bool___box__(false)
      }
    }
    exhale true
  }
}

method Lock___init__(p1_92: Bool, p2_92: Bool, self_10: Ref, self_10_0: Ref,
  locked_object: Ref, locked_object_0: Ref, above: Ref, above_0: Ref, below: Ref,
  below_0: Ref)
  requires (p1_92 ==> self_10 != null) && (p2_92 ==> self_10_0 != null)
  requires (p1_92 ==>
    issubtype(typeof(self_10), Lock(Lock_arg(typeof(self_10), 0)))) &&
    (p2_92 ==>
    issubtype(typeof(self_10_0), Lock(Lock_arg(typeof(self_10_0), 0))))
  requires (p1_92 ==>
    issubtype(typeof(locked_object), Lock_arg(typeof(self_10), 0))) &&
    (p2_92 ==>
    issubtype(typeof(locked_object_0), Lock_arg(typeof(self_10_0), 0)))
  requires (p1_92 ==> above == null || issubtype(typeof(above), BaseLock())) &&
    (p2_92 ==> above_0 == null || issubtype(typeof(above_0), BaseLock()))
  requires (p1_92 ==> below == null || issubtype(typeof(below), BaseLock())) &&
    (p2_92 ==> below_0 == null || issubtype(typeof(below_0), BaseLock()))
  requires (p1_92 ==> issubtype(Lock_arg(typeof(self_10), 0), object())) &&
    (p2_92 ==> issubtype(Lock_arg(typeof(self_10_0), 0), object()))
  requires (p1_92 ==> self_10 != null) && (p2_92 ==> self_10_0 != null)
  requires (p1_92 ==> [true, true]) && (p2_92 ==> [true, true])
  requires (p1_92 ==> above == null && below != null ==> true) &&
    (p2_92 ==> above_0 == null && below_0 != null ==> true)
  requires (p1_92 ==>
    above != null && below != null ==> Level(above) < Level(below)) &&
    (p2_92 ==>
    above_0 != null && below_0 != null ==> Level(above_0) < Level(below_0))
  requires (p1_92 ==> acc(Lock_invariant(self_10), write)) &&
    (p2_92 ==> acc(Lock_invariant_0(self_10_0), write)) &&
    (p1_92 && p2_92 ==> Lock_invariant_low(self_10, self_10_0))
  ensures (p1_92 ==> above == null ==> true) &&
    (p2_92 ==> above_0 == null ==> true)
  ensures (p1_92 ==> above != null ==> Level(above) < Level(self_10)) &&
    (p2_92 ==> above_0 != null ==> Level(above_0) < Level(self_10_0))
  ensures (p1_92 ==> below != null ==> Level(self_10) < Level(below)) &&
    (p2_92 ==> below_0 != null ==> Level(self_10_0) < Level(below_0))
{
  inhale p1_92
  if (p1_92) {
    inhale typeof(self_10) == Lock(Lock_arg(typeof(self_10), 0))
    inhale false
  }
  if (p2_92) {
    inhale typeof(self_10_0) == Lock(Lock_arg(typeof(self_10_0), 0))
    inhale false
  }
}

method Lock_acquire(p1_93: Bool, p2_93: Bool, self_11: Ref, self_11_0: Ref)
  requires (p1_93 ==>
    issubtype(typeof(self_11), Lock(Lock_arg(typeof(self_11), 0)))) &&
    (p2_93 ==>
    issubtype(typeof(self_11_0), Lock(Lock_arg(typeof(self_11_0), 0))))
  requires (p1_93 ==> issubtype(Lock_arg(typeof(self_11), 0), object())) &&
    (p2_93 ==> issubtype(Lock_arg(typeof(self_11_0), 0), object()))
  requires (p1_93 ==> self_11 != null) && (p2_93 ==> self_11_0 != null)
  requires (p1_93 ==> [true, true]) && (p2_93 ==> [true, true])
  requires (p1_93 ==> true) && (p2_93 ==> true)
  requires p1_93 && p2_93 ==> self_11 == self_11_0
  requires (p1_93 ==> true) && (p2_93 ==> true)
  ensures (p1_93 ==> acc(Lock_invariant(self_11), write)) &&
    (p2_93 ==> acc(Lock_invariant_0(self_11_0), write)) &&
    [typeof(self_11) == typeof(self_11_0) ==>
    p1_93 && p2_93 ==> Lock_invariant_low(self_11, self_11_0),
    p1_93 && p2_93 ==> Lock_invariant_low(self_11, self_11_0)]
  ensures (p1_93 ==>
    [acc(self_11.MustReleaseUnbounded, write),
    acc(self_11.MustReleaseUnbounded, write)]) &&
    (p2_93 ==>
    [acc(self_11_0.MustReleaseUnboundedp, write),
    acc(self_11_0.MustReleaseUnboundedp, write)])
{
  inhale p1_93
  if (p1_93) {
    inhale typeof(self_11) == Lock(Lock_arg(typeof(self_11), 0))
    inhale false
  }
  if (p2_93) {
    inhale typeof(self_11_0) == Lock(Lock_arg(typeof(self_11_0), 0))
    inhale false
  }
}

method Lock_release(p1_94: Bool, p2_94: Bool, self_12: Ref, self_12_0: Ref)
  requires (p1_94 ==>
    issubtype(typeof(self_12), Lock(Lock_arg(typeof(self_12), 0)))) &&
    (p2_94 ==>
    issubtype(typeof(self_12_0), Lock(Lock_arg(typeof(self_12_0), 0))))
  requires (p1_94 ==> issubtype(Lock_arg(typeof(self_12), 0), object())) &&
    (p2_94 ==> issubtype(Lock_arg(typeof(self_12_0), 0), object()))
  requires (p1_94 ==> self_12 != null) && (p2_94 ==> self_12_0 != null)
  requires (p1_94 ==> [true, true]) && (p2_94 ==> [true, true])
  requires (p1_94 ==>
    [acc(self_12.MustReleaseBounded, write),
    (perm(self_12.MustReleaseBounded) > none ?
      acc(self_12.MustReleaseBounded, write) :
      acc(self_12.MustReleaseUnbounded, write))]) &&
    (p2_94 ==>
    [acc(self_12_0.MustReleaseBoundedp, write),
    (perm(self_12_0.MustReleaseBoundedp) > none ?
      acc(self_12_0.MustReleaseBoundedp, write) :
      acc(self_12_0.MustReleaseUnboundedp, write))])
  requires (p1_94 ==> acc(Lock_invariant(self_12), write)) &&
    (p2_94 ==> acc(Lock_invariant_0(self_12_0), write)) &&
    (p1_94 && p2_94 ==> Lock_invariant_low(self_12, self_12_0))
  requires p1_94 && p2_94 ==> self_12 == self_12_0
  requires (p1_94 ==> true) && (p2_94 ==> true)
{
  inhale p1_94
  if (p1_94) {
    inhale typeof(self_12) == Lock(Lock_arg(typeof(self_12), 0))
    inhale false
  }
  if (p2_94) {
    inhale typeof(self_12_0) == Lock(Lock_arg(typeof(self_12_0), 0))
    inhale false
  }
}

method main(p1_95: Bool, p2_95: Bool)
{
  inhale p1_95
  {
    var module_defined_0: Bool
    var module_defined_0_0: Bool
    var module_names_0: Set[_Name]
    var module_names_0_0: Set[_Name]
    var module_defined_1: Bool
    var module_defined_1_0: Bool
    var module_names_1: Set[_Name]
    var module_names_1_0: Set[_Name]
    var module_defined_2: Bool
    var module_defined_2_0: Bool
    var module_names_2: Set[_Name]
    var module_names_2_0: Set[_Name]
    var _err: Ref
    var _err_7: Ref
    if (p1_95) {
      module_defined_0 := true
      module_names_0 := Set[_Name]()
      module_names_0 := (module_names_0 union
        Set(_single(6872323072689856351)))
      inhale acc(__file__()._val, 99 / 100) &&
        issubtype(typeof(__file__()._val), str()) &&
        issubtype(typeof(__file__()._val), str())
      module_names_0 := (module_names_0 union
        Set(_single(6872323076851130207)))
      inhale acc(__name__()._val, 99 / 100) &&
        issubtype(typeof(__name__()._val), str()) &&
        issubtype(typeof(__name__()._val), str()) &&
        str___eq__(str___create__(8, 6872332955275845471), __name__()._val)
      module_defined_1 := false
      module_names_1 := Set[_Name]()
      module_names_1 := (module_names_1 union
        Set(_single(6872323072689856351)))
      inhale acc(__file___0()._val, 99 / 100) &&
        issubtype(typeof(__file___0()._val), str()) &&
        issubtype(typeof(__file___0()._val), str())
      module_names_1 := (module_names_1 union
        Set(_single(6872323076851130207)))
      inhale acc(__name___0()._val, 99 / 100) &&
        issubtype(typeof(__name___0()._val), str()) &&
        issubtype(typeof(__name___0()._val), str()) &&
        !str___eq__(str___create__(8, 6872332955275845471), __name___0()._val)
      module_defined_2 := false
      module_names_2 := Set[_Name]()
      module_names_2 := (module_names_2 union
        Set(_single(6872323072689856351)))
      inhale acc(__file___1()._val, 99 / 100) &&
        issubtype(typeof(__file___1()._val), str()) &&
        issubtype(typeof(__file___1()._val), str())
      module_names_2 := (module_names_2 union
        Set(_single(6872323076851130207)))
      inhale acc(__name___1()._val, 99 / 100) &&
        issubtype(typeof(__name___1()._val), str()) &&
        issubtype(typeof(__name___1()._val), str()) &&
        !str___eq__(str___create__(8, 6872332955275845471), __name___1()._val)
      _err := null
    }
    if (p2_95) {
      module_defined_0_0 := true
      module_names_0_0 := Set[_Name]()
      module_names_0_0 := (module_names_0_0 union
        Set(_single(6872323072689856351)))
      inhale acc(__file__()._valp, 99 / 100) &&
        issubtype(typeof(__file__()._valp), str()) &&
        issubtype(typeof(__file__()._valp), str())
      module_names_0_0 := (module_names_0_0 union
        Set(_single(6872323076851130207)))
      inhale acc(__name__()._valp, 99 / 100) &&
        issubtype(typeof(__name__()._valp), str()) &&
        issubtype(typeof(__name__()._valp), str()) &&
        str___eq__(str___create__(8, 6872332955275845471), __name__()._valp)
      module_defined_1_0 := false
      module_names_1_0 := Set[_Name]()
      module_names_1_0 := (module_names_1_0 union
        Set(_single(6872323072689856351)))
      inhale acc(__file___0()._valp, 99 / 100) &&
        issubtype(typeof(__file___0()._valp), str()) &&
        issubtype(typeof(__file___0()._valp), str())
      module_names_1_0 := (module_names_1_0 union
        Set(_single(6872323076851130207)))
      inhale acc(__name___0()._valp, 99 / 100) &&
        issubtype(typeof(__name___0()._valp), str()) &&
        issubtype(typeof(__name___0()._valp), str()) &&
        !str___eq__(str___create__(8, 6872332955275845471), __name___0()._valp)
      module_defined_2_0 := false
      module_names_2_0 := Set[_Name]()
      module_names_2_0 := (module_names_2_0 union
        Set(_single(6872323072689856351)))
      inhale acc(__file___1()._valp, 99 / 100) &&
        issubtype(typeof(__file___1()._valp), str()) &&
        issubtype(typeof(__file___1()._valp), str())
      module_names_2_0 := (module_names_2_0 union
        Set(_single(6872323076851130207)))
      inhale acc(__name___1()._valp, 99 / 100) &&
        issubtype(typeof(__name___1()._valp), str()) &&
        issubtype(typeof(__name___1()._valp), str()) &&
        !str___eq__(str___create__(8, 6872332955275845471), __name___1()._valp)
      _err_7 := null
    }
    {
      var p1_96: Bool
      var p2_96: Bool
      var p3_82: Bool
      var p4_82: Bool
      p1_96 := p1_95 && !module_defined_1
      p2_96 := p2_95 && !module_defined_1_0
      p3_82 := p1_95 && !!module_defined_1
      p4_82 := p2_95 && !!module_defined_1_0
      if (p1_96) {
        module_defined_1 := true
        module_names_1 := (module_names_1 union Set(_single(5522497)))
      }
      if (p2_96) {
        module_defined_1_0 := true
        module_names_1_0 := (module_names_1_0 union Set(_single(5522497)))
      }
    }
    assert (p1_95 ==> (_single(5522497) in module_names_1)) &&
      (p2_95 ==> (_single(5522497) in module_names_1_0))
    if (p1_95) {
      module_names_0 := (module_names_0 union Set(_single(5522497)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union Set(_single(5522497)))
    }
    {
      var p1_97: Bool
      var p2_97: Bool
      var p3_83: Bool
      var p4_83: Bool
      p1_97 := p1_95 && !module_defined_2
      p2_97 := p2_95 && !module_defined_2_0
      p3_83 := p1_95 && !!module_defined_2
      p4_83 := p2_95 && !!module_defined_2_0
      if (p1_97) {
        module_defined_2 := true
        module_names_2 := (module_names_2 union
          Set(_single(27981962743276871)))
        module_names_2 := (module_names_2 union
          Set(_single(7809644653626814543)))
        module_names_2 := (module_names_2 union
          Set(_single(32195171041966420)))
        module_names_2 := (module_names_2 union
          Set(_single(37578771102893684825896415043)))
        module_names_2 := (module_names_2 union
          Set(_single(32481164592901701)))
        module_names_2 := (module_names_2 union
          Set(_single(32481125787004233)))
        module_names_2 := (module_names_2 union Set(_single(7827276)))
        module_names_2 := (module_names_2 union
          Set(_single(8389754714483814220)))
        module_names_2 := (module_names_2 union
          Set(_single(1871507244730112373328)))
        module_names_2 := (module_names_2 union Set(_single(1701999952)))
        module_names_2 := (module_names_2 union
          Set(_single(8315178084276987218)))
        module_names_2 := (module_names_2 union
          Set(_single(7738150958662902082)))
        module_names_2 := (module_names_2 union Set(_single(465558725964)))
        module_names_2 := (module_names_2 union
          Set(_single(122646376569110405802325325)))
        module_names_2 := (module_names_2 union
          Set(_single(8038062462289584464661321053517)))
        module_names_2 := (module_names_2 union
          Set(_single(1999559502384759136599)))
      }
      if (p2_97) {
        module_defined_2_0 := true
        module_names_2_0 := (module_names_2_0 union
          Set(_single(27981962743276871)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(7809644653626814543)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(32195171041966420)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(37578771102893684825896415043)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(32481164592901701)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(32481125787004233)))
        module_names_2_0 := (module_names_2_0 union Set(_single(7827276)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(8389754714483814220)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(1871507244730112373328)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(1701999952)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(8315178084276987218)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(7738150958662902082)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(465558725964)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(122646376569110405802325325)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(8038062462289584464661321053517)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(1999559502384759136599)))
      }
      assert (p1_97 ==> true) && (p2_97 ==> true) &&
        ((p1_97 ==> (_single(7738150958662902082) in module_names_2)) &&
        (p2_97 ==> (_single(7738150958662902082) in module_names_2_0))) &&
        ((p1_97 ==> (_single(7738150958662902082) in module_names_2)) &&
        (p2_97 ==> (_single(7738150958662902082) in module_names_2_0)))
      assert (p1_97 ==> true) && (p2_97 ==> true) &&
        ((p1_97 ==> (_single(7738150958662902082) in module_names_2)) &&
        (p2_97 ==> (_single(7738150958662902082) in module_names_2_0)))
      if (p1_97) {
        module_names_2 := (module_names_2 union
          Set(_single(6872339552563453791)))
        module_names_2 := (module_names_2 union
          Set(_single(474107507589505187341671)))
        module_names_2 := (module_names_2 union
          Set(_single(28554769915274081)))
        module_names_2 := (module_names_2 union
          Set(_single(28555834798400882)))
        module_names_2 := (module_names_2 union Set(_single(1801678668)))
      }
      if (p2_97) {
        module_names_2_0 := (module_names_2_0 union
          Set(_single(6872339552563453791)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(474107507589505187341671)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(28554769915274081)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(28555834798400882)))
        module_names_2_0 := (module_names_2_0 union
          Set(_single(1801678668)))
      }
    }
    assert (p1_95 ==> (_single(1801678668) in module_names_2)) &&
      (p2_95 ==> (_single(1801678668) in module_names_2_0))
    if (p1_95) {
      module_names_0 := (module_names_0 union Set(_single(1801678668)))
      module_names_0 := (module_names_0 union
        Set(_single(478959366605689496363342)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union Set(_single(1801678668)))
      module_names_0_0 := (module_names_0_0 union
        Set(_single(478959366605689496363342)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(5522497) in module_names_0)) &&
      (p2_95 ==> (_single(5522497) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(121424974214466)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(121424974214466)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(121424974214466) in module_names_0)) &&
      (p2_95 ==> (_single(121424974214466) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(2203182451232850867522)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(2203182451232850867522)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(121424974214466) in module_names_0)) &&
      (p2_95 ==> (_single(121424974214466) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(493033715293032465855810)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(493033715293032465855810)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(121424974214466) in module_names_0)) &&
      (p2_95 ==> (_single(121424974214466) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(9616758814388599053064818947394)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(9616758814388599053064818947394)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(5522497) in module_names_0)) &&
      (p2_95 ==> (_single(5522497) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(121398885183300)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(121398885183300)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(121398885183300) in module_names_0)) &&
      (p2_95 ==> (_single(121398885183300) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(2203182451206761836356)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(2203182451206761836356)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(121398885183300) in module_names_0)) &&
      (p2_95 ==> (_single(121398885183300) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(493033715293006376824644)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(493033715293006376824644)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(121398885183300) in module_names_0)) &&
      (p2_95 ==> (_single(121398885183300) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(9616758814388599053038729916228)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(9616758814388599053038729916228)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(121398885183300) in module_names_0)) &&
      (p2_95 ==> (_single(121398885183300) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(7955443201700405014991035264836)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(7955443201700405014991035264836)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(5522497) in module_names_0)) &&
      (p2_95 ==> (_single(5522497) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(1871225753308139714117)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(1871225753308139714117)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(1871225753308139714117) in module_names_0)) &&
      (p2_95 ==> (_single(1871225753308139714117) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(2057670952960367631173079947114053)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(2057670952960367631173079947114053)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(1871225753308139714117) in module_names_0)) &&
      (p2_95 ==> (_single(1871225753308139714117) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(8036222326002834695486523668037)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(8036222326002834695486523668037)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(1871225753308139714117) in module_names_0)) &&
      (p2_95 ==> (_single(1871225753308139714117) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(34180274595558000709606660147898789230149)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(34180274595558000709606660147898789230149)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(5522497) in module_names_0)) &&
      (p2_95 ==> (_single(5522497) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union Set(_single(500068349509)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(500068349509)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(500068349509) in module_names_0)) &&
      (p2_95 ==> (_single(500068349509) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(1871078816773226985029)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(1871078816773226985029)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(500068349509) in module_names_0)) &&
      (p2_95 ==> (_single(500068349509) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(2240527643263015958310939783427653)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(2240527643263015958310939783427653)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(121424974214466) in module_names_0)) &&
      (p2_95 ==> (_single(121424974214466) in module_names_0_0))) &&
      ((p1_95 ==> (_single(121398885183300) in module_names_0)) &&
      (p2_95 ==> (_single(121398885183300) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(6872339552563453791)))
      module_names_0 := (module_names_0 union
        Set(_single(573203493022239148953682)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(6872339552563453791)))
      module_names_0_0 := (module_names_0_0 union
        Set(_single(573203493022239148953682)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(1801678668) in module_names_0)) &&
      (p2_95 ==> (_single(1801678668) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(2178095860967296857820801616007250)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(2178095860967296857820801616007250)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(1871225753308139714117) in module_names_0)) &&
      (p2_95 ==> (_single(1871225753308139714117) in module_names_0_0))) &&
      ((p1_95 ==> (_single(500068349509) in module_names_0)) &&
      (p2_95 ==> (_single(500068349509) in module_names_0_0))) &&
      ((p1_95 ==> (_single(500068349509) in module_names_0)) &&
      (p2_95 ==> (_single(500068349509) in module_names_0_0))) &&
      ((p1_95 ==> (_single(121424974214466) in module_names_0)) &&
      (p2_95 ==> (_single(121424974214466) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(6872339552563453791)))
      module_names_0 := (module_names_0 union Set(_single(4475208)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(6872339552563453791)))
      module_names_0_0 := (module_names_0_0 union Set(_single(4475208)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(1801678668) in module_names_0)) &&
      (p2_95 ==> (_single(1801678668) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(30227152180103496)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(30227152180103496)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(500068349509) in module_names_0)) &&
      (p2_95 ==> (_single(500068349509) in module_names_0_0))) &&
      ((p1_95 ==> (_single(121398885183300) in module_names_0)) &&
      (p2_95 ==> (_single(121398885183300) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(6872339552563453791)))
      module_names_0 := (module_names_0 union
        Set(_single(540405756002024733634371)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(6872339552563453791)))
      module_names_0_0 := (module_names_0_0 union
        Set(_single(540405756002024733634371)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(1801678668) in module_names_0)) &&
      (p2_95 ==> (_single(1801678668) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(2178095860934499120800587200687939)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(2178095860934499120800587200687939)))
    }
    assert (p1_95 ==> true) && (p2_95 ==> true) &&
      ((p1_95 ==> (_single(500068349509) in module_names_0)) &&
      (p2_95 ==> (_single(500068349509) in module_names_0_0))) &&
      ((p1_95 ==> (_single(1871225753308139714117) in module_names_0)) &&
      (p2_95 ==> (_single(1871225753308139714117) in module_names_0_0))) &&
      ((p1_95 ==> (_single(500068349509) in module_names_0)) &&
      (p2_95 ==> (_single(500068349509) in module_names_0_0))) &&
      ((p1_95 ==> (_single(121398885183300) in module_names_0)) &&
      (p2_95 ==> (_single(121398885183300) in module_names_0_0))) &&
      ((p1_95 ==> (_single(500068349509) in module_names_0)) &&
      (p2_95 ==> (_single(500068349509) in module_names_0_0))) &&
      ((p1_95 ==> (_single(121424974214466) in module_names_0)) &&
      (p2_95 ==> (_single(121424974214466) in module_names_0_0))) &&
      ((p1_95 ==> (_single(121398885183300) in module_names_0)) &&
      (p2_95 ==> (_single(121398885183300) in module_names_0_0))) &&
      ((p1_95 ==> (_single(121398885183300) in module_names_0)) &&
      (p2_95 ==> (_single(121398885183300) in module_names_0_0))) &&
      ((p1_95 ==> (_single(121424974214466) in module_names_0)) &&
      (p2_95 ==> (_single(121424974214466) in module_names_0_0))) &&
      ((p1_95 ==> (_single(500068349509) in module_names_0)) &&
      (p2_95 ==> (_single(500068349509) in module_names_0_0))) &&
      ((p1_95 ==> (_single(500068349509) in module_names_0)) &&
      (p2_95 ==> (_single(500068349509) in module_names_0_0))) &&
      ((p1_95 ==> (_single(121398885183300) in module_names_0)) &&
      (p2_95 ==> (_single(121398885183300) in module_names_0_0))) &&
      ((p1_95 ==> (_single(500068349509) in module_names_0)) &&
      (p2_95 ==> (_single(500068349509) in module_names_0_0)))
    if (p1_95) {
      module_names_0 := (module_names_0 union
        Set(_single(6872339552563453791)))
      module_names_0 := (module_names_0 union
        Set(_single(125780103885412)))
      module_names_0 := (module_names_0 union
        Set(_single(32306674417589204320647147113)))
      module_names_0 := (module_names_0 union
        Set(_single(1001397981123676005073049954645875)))
      module_names_0 := (module_names_0 union Set(_single(1128547395)))
    }
    if (p2_95) {
      module_names_0_0 := (module_names_0_0 union
        Set(_single(6872339552563453791)))
      module_names_0_0 := (module_names_0_0 union
        Set(_single(125780103885412)))
      module_names_0_0 := (module_names_0_0 union
        Set(_single(32306674417589204320647147113)))
      module_names_0_0 := (module_names_0_0 union
        Set(_single(1001397981123676005073049954645875)))
      module_names_0_0 := (module_names_0_0 union Set(_single(1128547395)))
    }
    exhale true
  }
}

method invariant_invariantframe_check(p1_98: Bool, p2_98: Bool, self_13: Ref,
  self_13_1: Ref)
  requires (p1_98 ==> true) && (p2_98 ==> true) &&
    ((p1_98 ==>
    issubtype(typeof(self_13), Lock(Lock_arg(typeof(self_13), 0)))) &&
    (p2_98 ==>
    issubtype(typeof(self_13_1), Lock(Lock_arg(typeof(self_13_1), 0)))))
  requires (p1_98 ==>
    issubtype(typeof(self_13), Lock(Lock_arg(typeof(self_13), 0)))) &&
    (p2_98 ==>
    issubtype(typeof(self_13_1), Lock(Lock_arg(typeof(self_13_1), 0))))
  requires (p1_98 ==> true) && (p2_98 ==> true) &&
    ((p1_98 ==> true) && (p2_98 ==> true))


method invariant_invariantframe_check_0(p1_99: Bool, p2_99: Bool, self_13: Ref,
  self_13_2: Ref)
  requires (p1_99 ==> true) && (p2_99 ==> true) &&
    ((p1_99 ==>
    issubtype(typeof(self_13), Lock(Lock_arg(typeof(self_13), 0)))) &&
    (p2_99 ==>
    issubtype(typeof(self_13_2), Lock(Lock_arg(typeof(self_13_2), 0)))))
  requires (p1_99 ==> issubtype(typeof(self_13), CompositorLock())) &&
    (p2_99 ==> issubtype(typeof(self_13_2), CompositorLock()))
  requires (p1_99 ==> true) && (p2_99 ==> true) &&
    ((p1_99 ==>
    acc(Lock_get_locked(self_13).Compositor_domain_under_cursor, write)) &&
    (p2_99 ==>
    acc(Lock_get_locked(self_13_2).Compositor_domain_under_cursorp, write)) &&
    ((p1_99 ==>
    issubtype(typeof(Lock_get_locked(self_13).Compositor_domain_under_cursor),
    Domain())) &&
    (p2_99 ==>
    issubtype(typeof(Lock_get_locked(self_13_2).Compositor_domain_under_cursorp),
    Domain()))) &&
    (p1_99 && p2_99 ==>
    Lock_get_locked(self_13).Compositor_domain_under_cursor ==
    Lock_get_locked(self_13_2).Compositor_domain_under_cursorp))


method invariant_invariantframe_check_1(p1_100: Bool, p2_100: Bool, self_13: Ref,
  self_13_3: Ref)
  requires (p1_100 ==> true) && (p2_100 ==> true) &&
    ((p1_100 ==>
    issubtype(typeof(self_13), Lock(Lock_arg(typeof(self_13), 0)))) &&
    (p2_100 ==>
    issubtype(typeof(self_13_3), Lock(Lock_arg(typeof(self_13_3), 0)))))
  requires (p1_100 ==> issubtype(typeof(self_13), RPCOverlayLock())) &&
    (p2_100 ==> issubtype(typeof(self_13_3), RPCOverlayLock()))
  requires (p1_100 ==> true) && (p2_100 ==> true) &&
    ((p1_100 ==>
    acc(Lock_get_locked(self_13).RPCOverlay_mouse_click_call, write)) &&
    (p2_100 ==>
    acc(Lock_get_locked(self_13_3).RPCOverlay_mouse_click_callp, write)) &&
    ((p1_100 ==>
    issubtype(typeof(Lock_get_locked(self_13).RPCOverlay_mouse_click_call),
    bool())) &&
    (p2_100 ==>
    issubtype(typeof(Lock_get_locked(self_13_3).RPCOverlay_mouse_click_callp),
    bool()))) &&
    ((p1_100 ==>
    acc(Lock_get_locked(self_13).RPCOverlay_mouse_click_arg, write)) &&
    (p2_100 ==>
    acc(Lock_get_locked(self_13_3).RPCOverlay_mouse_click_argp, write)) &&
    ((p1_100 ==>
    issubtype(typeof(Lock_get_locked(self_13).RPCOverlay_mouse_click_arg), Button())) &&
    (p2_100 ==>
    issubtype(typeof(Lock_get_locked(self_13_3).RPCOverlay_mouse_click_argp),
    Button()))) &&
    ((p1_100 ==>
    acc(Lock_get_locked(self_13).RPCOverlay_mouse_click_ret, write)) &&
    (p2_100 ==>
    acc(Lock_get_locked(self_13_3).RPCOverlay_mouse_click_retp, write)) &&
    ((p1_100 ==>
    issubtype(typeof(Lock_get_locked(self_13).RPCOverlay_mouse_click_ret), Domain())) &&
    (p2_100 ==>
    issubtype(typeof(Lock_get_locked(self_13_3).RPCOverlay_mouse_click_retp),
    Domain()))) &&
    ((p1_100 && p2_100 ==>
    Lock_get_locked(self_13).RPCOverlay_mouse_click_call ==
    Lock_get_locked(self_13_3).RPCOverlay_mouse_click_callp) &&
    ((p1_100 && p2_100 ==>
    Lock_get_locked(self_13).RPCOverlay_mouse_click_arg ==
    Lock_get_locked(self_13_3).RPCOverlay_mouse_click_argp) &&
    (p1_100 && p2_100 ==>
    Lock_get_locked(self_13).RPCOverlay_mouse_click_ret ==
    Lock_get_locked(self_13_3).RPCOverlay_mouse_click_retp))))))


method invariant_invariantframe_check_2(p1_101: Bool, p2_101: Bool, self_13: Ref,
  self_13_4: Ref)
  requires (p1_101 ==> true) && (p2_101 ==> true) &&
    ((p1_101 ==>
    issubtype(typeof(self_13), Lock(Lock_arg(typeof(self_13), 0)))) &&
    (p2_101 ==>
    issubtype(typeof(self_13_4), Lock(Lock_arg(typeof(self_13_4), 0)))))
  requires (p1_101 ==> issubtype(typeof(self_13), HIDLock())) &&
    (p2_101 ==> issubtype(typeof(self_13_4), HIDLock()))
  requires (p1_101 ==> true) && (p2_101 ==> true) &&
    ((p1_101 ==> acc(Lock_get_locked(self_13).HID_mouse_available, write)) &&
    (p2_101 ==> acc(Lock_get_locked(self_13_4).HID_mouse_availablep, write)) &&
    ((p1_101 ==>
    issubtype(typeof(Lock_get_locked(self_13).HID_mouse_available), bool())) &&
    (p2_101 ==>
    issubtype(typeof(Lock_get_locked(self_13_4).HID_mouse_availablep), bool()))) &&
    ((p1_101 ==> acc(Lock_get_locked(self_13).HID_mouse_source, write)) &&
    (p2_101 ==> acc(Lock_get_locked(self_13_4).HID_mouse_sourcep, write)) &&
    ((p1_101 ==>
    issubtype(typeof(Lock_get_locked(self_13).HID_mouse_source), Button())) &&
    (p2_101 ==>
    issubtype(typeof(Lock_get_locked(self_13_4).HID_mouse_sourcep), Button()))) &&
    ((p1_101 ==>
    acc(Lock_get_locked(self_13).HID_keyboard_available, write)) &&
    (p2_101 ==>
    acc(Lock_get_locked(self_13_4).HID_keyboard_availablep, write)) &&
    ((p1_101 ==>
    issubtype(typeof(Lock_get_locked(self_13).HID_keyboard_available), bool())) &&
    (p2_101 ==>
    issubtype(typeof(Lock_get_locked(self_13_4).HID_keyboard_availablep), bool()))) &&
    ((p1_101 ==>
    acc(Lock_get_locked(self_13).HID_high_keyboard_source, write)) &&
    (p2_101 ==>
    acc(Lock_get_locked(self_13_4).HID_high_keyboard_sourcep, write)) &&
    ((p1_101 ==>
    issubtype(typeof(Lock_get_locked(self_13).HID_high_keyboard_source), Event())) &&
    (p2_101 ==>
    issubtype(typeof(Lock_get_locked(self_13_4).HID_high_keyboard_sourcep),
    Event()))) &&
    ((p1_101 ==>
    acc(Lock_get_locked(self_13).HID_low_keyboard_source, write)) &&
    (p2_101 ==>
    acc(Lock_get_locked(self_13_4).HID_low_keyboard_sourcep, write)) &&
    ((p1_101 ==>
    issubtype(typeof(Lock_get_locked(self_13).HID_low_keyboard_source), Event())) &&
    (p2_101 ==>
    issubtype(typeof(Lock_get_locked(self_13_4).HID_low_keyboard_sourcep), Event()))) &&
    ((p1_101 && p2_101 ==>
    Lock_get_locked(self_13).HID_mouse_available ==
    Lock_get_locked(self_13_4).HID_mouse_availablep) &&
    ((p1_101 && p2_101 ==>
    Lock_get_locked(self_13).HID_mouse_source ==
    Lock_get_locked(self_13_4).HID_mouse_sourcep) &&
    ((p1_101 && p2_101 ==>
    Lock_get_locked(self_13).HID_keyboard_available ==
    Lock_get_locked(self_13_4).HID_keyboard_availablep) &&
    (p1_101 && p2_101 ==>
    Lock_get_locked(self_13).HID_low_keyboard_source ==
    Lock_get_locked(self_13_4).HID_low_keyboard_sourcep)))))))))
